{"version":3,"file":"queryAttachments-C6gbchL3.js","sources":["../../node_modules/@arcgis/core/rest/query/operations/queryAttachments.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{addTokenParameter as t}from\"../../../kernel.js\";import o from\"../../../request.js\";import{addProxy as e}from\"../../../core/urlUtils.js\";import{mapParameters as r}from\"../../operations/urlUtils.js\";import n from\"../support/AttachmentInfo.js\";function s(t){const o=t.toJSON();return o.attachmentTypes&&(o.attachmentTypes=o.attachmentTypes.join(\",\")),o.keywords&&(o.keywords=o.keywords.join(\",\")),o.globalIds&&(o.globalIds=o.globalIds.join(\",\")),o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.size&&(o.size=o.size.join(\",\")),o.orderByFields&&(o.orderByFields=o.orderByFields.join(\",\")),o}function a(o,r){const s={};for(const a of r){const{parentObjectId:r,parentGlobalId:c,attachmentInfos:i}=a;for(const a of i){const{id:i}=a,d=e(t(`${o.path}/${r}/attachments/${i}`)),m=n.fromJSON(a);m.set({url:d,parentObjectId:r,parentGlobalId:c}),s[r]?s[r].push(m):s[r]=[m]}}return s}function c(t,e,n){let a={query:r({...t.query,f:\"json\",...s(e)})};return n&&(a={...n,...a,query:{...n.query,...a.query}}),o(t.path+\"/queryAttachments\",a).then(t=>t.data.attachmentGroups)}async function i(t,e,r){const{objectIds:n}=e,s=[];for(const a of n)s.push(o(t.path+\"/\"+a+\"/attachments\",r));return Promise.all(s).then(t=>n.map((o,e)=>({parentObjectId:o,attachmentInfos:t[e].data.attachmentInfos})))}export{c as executeAttachmentQuery,i as fetchAttachments,a as processAttachmentQueryResult};\n"],"names":["s","t","o","a","r","c","i","d","e","m","n"],"mappings":"0WAIwP,SAASA,EAAEC,EAAE,CAAC,MAAMC,EAAED,EAAE,SAAS,OAAOC,EAAE,kBAAkBA,EAAE,gBAAgBA,EAAE,gBAAgB,KAAK,GAAG,GAAGA,EAAE,WAAWA,EAAE,SAASA,EAAE,SAAS,KAAK,GAAG,GAAGA,EAAE,YAAYA,EAAE,UAAUA,EAAE,UAAU,KAAK,GAAG,GAAGA,EAAE,YAAYA,EAAE,UAAUA,EAAE,UAAU,KAAK,GAAG,GAAGA,EAAE,OAAOA,EAAE,KAAKA,EAAE,KAAK,KAAK,GAAG,GAAGA,EAAE,gBAAgBA,EAAE,cAAcA,EAAE,cAAc,KAAK,GAAG,GAAGA,CAAC,CAAC,SAASC,EAAED,EAAEE,EAAE,CAAC,MAAMJ,EAAE,CAAA,EAAG,UAAU,KAAKI,EAAE,CAAC,KAAK,CAAC,eAAeA,EAAE,eAAeC,EAAE,gBAAgBC,CAAC,EAAE,EAAE,UAAUH,KAAKG,EAAE,CAAC,KAAK,CAAC,GAAGA,CAAC,EAAEH,EAAEI,EAAEC,EAAEP,EAAE,GAAGC,EAAE,IAAI,IAAIE,CAAC,gBAAgBE,CAAC,EAAE,CAAC,EAAEG,EAAEC,EAAE,SAASP,CAAC,EAAEM,EAAE,IAAI,CAAC,IAAIF,EAAE,eAAeH,EAAE,eAAeC,CAAC,CAAC,EAAEL,EAAEI,CAAC,EAAEJ,EAAEI,CAAC,EAAE,KAAKK,CAAC,EAAET,EAAEI,CAAC,EAAE,CAACK,CAAC,CAAC,CAAC,CAAC,OAAOT,CAAC,CAAC,SAASK,EAAEJ,EAAEO,EAAEE,EAAE,CAAC,IAAI,EAAE,CAAC,MAAMN,EAAE,CAAC,GAAGH,EAAE,MAAM,EAAE,OAAO,GAAGD,EAAEQ,CAAC,CAAC,CAAC,CAAC,EAAE,OAAOE,IAAI,EAAE,CAAC,GAAGA,EAAE,GAAG,EAAE,MAAM,CAAC,GAAGA,EAAE,MAAM,GAAG,EAAE,KAAK,CAAC,GAAGR,EAAED,EAAE,KAAK,oBAAoB,CAAC,EAAE,KAAKA,GAAGA,EAAE,KAAK,gBAAgB,CAAC,CAAC,eAAeK,EAAEL,EAAEO,EAAEJ,EAAE,CAAC,KAAK,CAAC,UAAUM,CAAC,EAAEF,EAAER,EAAE,GAAG,UAAUG,KAAKO,EAAEV,EAAE,KAAKE,EAAED,EAAE,KAAK,IAAIE,EAAE,eAAeC,CAAC,CAAC,EAAE,OAAO,QAAQ,IAAIJ,CAAC,EAAE,KAAKC,GAAGS,EAAE,IAAI,CAACR,EAAEM,KAAK,CAAC,eAAeN,EAAE,gBAAgBD,EAAEO,CAAC,EAAE,KAAK,eAAe,EAAE,CAAC,CAAC","x_google_ignoreList":[0]}