import{d1 as s,d2 as l,d3 as N,av as m,d4 as S}from"./index-DX5EpICr.js";function b(n,r){return{...r,filterMode:n.mode}}function p(n,r){return d(n,r).next().value??null}function v(n,r,t){const e=x(n);if(e&&(s(r,e[0])||l(t,e[1])))return"";const a=Array.from(d(n,r,t)),u=T(a,r,t)?"1=1":a.map(i=>i.where||"1=1").reduce((i,o)=>N(i,o),"");return u&&u!=="1=1"?u:""}function x(n){if(I(n)==="manual")return null;const r=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:t,maxScale:e}of n.filters)r[0]=Math.max(r[0],c(t)),r[1]=Math.min(r[1],f(e));return r}function*d(n,r,t){if(I(n)==="manual"){const e=n.filters.find(a=>a.id===n.activeFilterId);e&&(yield e)}else{typeof r=="object"&&(r=r.scale);for(const e of n.filters)h(e.minScale,e.maxScale,r,t)&&(yield e)}}function T(n,r,t){if(n.length===0)return!0;const e=c(n.at(0)?.minScale),a=f(n.at(-1)?.maxScale);if(l(e,r)||s(a,t))return!0;for(let u=0;u<n.length-1;u++){const i=n[u],o=n[u+1];if(l(c(o.minScale),f(i.maxScale)))return!0}return!1}function h(n,r,t,e){return n=c(n),t=c(t),r=f(r),!(!m(t,n)&&(e??t)>n)&&!S(r,t)&&(e===void 0||!m(e,n))}function I(n){return"mode"in n?n.mode:n.filterMode}function c(n){return n||Number.POSITIVE_INFINITY}function f(n){return n||0}export{v as c,b as i,p as u};
//# sourceMappingURL=displayFilterUtils-tMj5l6bu.js.map
