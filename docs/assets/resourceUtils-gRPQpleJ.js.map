{"version":3,"file":"resourceUtils-gRPQpleJ.js","sources":["../../node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";class e{constructor(e){this.data=e,this.type=\"encoded-mesh-texture\",this.encoding=\"image/ktx2\"}}function t(e){return\"encoded-mesh-texture\"===e?.type}async function n(e){const t=new Blob([e]),n=await t.text();return JSON.parse(n)}async function r(t,n){if(\"image/ktx2\"===n)return new e(t);const r=new Blob([t],{type:n});let o=URL.createObjectURL(r);switch(n){case\"image/jpeg\":o+=\"#.jpg\";break;case\"image/png\":o+=\"#.png\"}const c=new Image;if(has(\"esri-iPhone\"))return new Promise((e,t)=>{const n=()=>{s(),e(c)},r=e=>{s(),t(e)},s=()=>{URL.revokeObjectURL(o),c.removeEventListener(\"load\",n),c.removeEventListener(\"error\",r)};c.addEventListener(\"load\",n),c.addEventListener(\"error\",r),c.src=o});try{c.src=o,await c.decode()}catch(s){console.warn(\"Failed decoding HTMLImageElement\")}return URL.revokeObjectURL(o),c}export{e as EncodedMeshTexture,r as imageFromBinaryData,t as isEncodedMeshTexture,n as jsonFromBinaryData};\n"],"names":["e","t","n","r","o","c","has","s"],"mappings":"yCAIyC,MAAMA,CAAC,CAAC,YAAYA,EAAE,CAAC,KAAK,KAAKA,EAAE,KAAK,KAAK,uBAAuB,KAAK,SAAS,YAAY,CAAC,CAAC,SAASC,EAAED,EAAE,CAAC,OAA+BA,GAAG,OAA5B,sBAAgC,CAAC,eAAeE,EAAEF,EAAE,CAAC,MAAMC,EAAE,IAAI,KAAK,CAACD,CAAC,CAAC,EAAEE,EAAE,MAAMD,EAAE,KAAI,EAAG,OAAO,KAAK,MAAMC,CAAC,CAAC,CAAC,eAAeC,EAAE,EAAE,EAAE,CAAC,GAAkB,IAAf,aAAiB,OAAO,IAAIH,EAAE,CAAC,EAAE,MAAMG,EAAE,IAAI,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,IAAIC,EAAE,IAAI,gBAAgBD,CAAC,EAAE,OAAO,EAAC,CAAE,IAAI,aAAaC,GAAG,QAAQ,MAAM,IAAI,YAAYA,GAAG,OAAO,CAAC,MAAMC,EAAE,IAAI,MAAM,GAAGC,EAAI,aAAa,EAAE,OAAO,IAAI,QAAQ,CAACN,EAAEC,IAAI,CAAC,MAAMC,EAAE,IAAI,CAACK,EAAC,EAAGP,EAAEK,CAAC,CAAC,EAAEF,EAAEH,GAAG,CAACO,EAAC,EAAGN,EAAED,CAAC,CAAC,EAAEO,EAAE,IAAI,CAAC,IAAI,gBAAgBH,CAAC,EAAEC,EAAE,oBAAoB,OAAOH,CAAC,EAAEG,EAAE,oBAAoB,QAAQF,CAAC,CAAC,EAAEE,EAAE,iBAAiB,OAAOH,CAAC,EAAEG,EAAE,iBAAiB,QAAQF,CAAC,EAAEE,EAAE,IAAID,CAAC,CAAC,EAAE,GAAG,CAACC,EAAE,IAAID,EAAE,MAAMC,EAAE,OAAM,CAAE,MAAS,CAAC,QAAQ,KAAK,kCAAkC,CAAC,CAAC,OAAO,IAAI,gBAAgBD,CAAC,EAAEC,CAAC","x_google_ignoreList":[0]}