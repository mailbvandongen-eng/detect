{"version":3,"mappings":"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","names":["l","p","s","t","e","c","h","f","n","r","x","m","y","u","g","i","a","o","_","j","M","S","R","w","B","v","F","d","__vitePreload"],"ignoreList":[0,1],"sources":["../../node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js","../../node_modules/@arcgis/core/layers/graphics/data/queryUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isSome as s}from\"../../../core/arrayUtils.js\";import{createResolver as t}from\"../../../core/promiseUtils.js\";import{initializeProjection as e,projectMany as n}from\"../../../geometry/projectionUtils.js\";import{isValid as r,equals as i,isWebMercator as o}from\"../../../geometry/support/spatialReferenceUtils.js\";import{canProject as a,lngLatToXY as m,xyToLngLat as u}from\"../../../geometry/support/webMercatorUtils.js\";const l=[0,0];function p(s,t){if(!t)return null;if(\"x\"in t){const e={x:0,y:0};return[e.x,e.y]=s(t.x,t.y,l),null!=t.z&&(e.z=t.z),null!=t.m&&(e.m=t.m),e}if(\"xmin\"in t){const e={xmin:0,ymin:0,xmax:0,ymax:0};return[e.xmin,e.ymin]=s(t.xmin,t.ymin,l),[e.xmax,e.ymax]=s(t.xmax,t.ymax,l),t.hasZ&&(e.zmin=t.zmin,e.zmax=t.zmax,e.hasZ=!0),t.hasM&&(e.mmin=t.mmin,e.mmax=t.mmax,e.hasM=!0),e}return\"rings\"in t?{rings:c(t.rings,s),hasM:t.hasM,hasZ:t.hasZ}:\"paths\"in t?{paths:c(t.paths,s),hasM:t.hasM,hasZ:t.hasZ}:\"points\"in t?{points:h(t.points,s),hasM:t.hasM,hasZ:t.hasZ}:null}function c(s,t){const e=[];for(const n of s)e.push(h(n,t));return e}function h(s,t){const e=[];for(const n of s){const s=t(n[0],n[1],[0,0]);e.push(s),n.length>2&&s.push(n[2]),n.length>3&&s.push(n[3])}return e}async function f(t,n){if(!t||!n)return;const r=Array.isArray(t)?t.map(s=>null!=s.geometry?s.geometry.spatialReference:null).filter(s):[t];await e(r.map(s=>({source:s,dest:n})))}const x=p.bind(null,m),y=p.bind(null,u);function g(s,t,e,m){if(!s)return null;if(e||(e=t,t=s.spatialReference),!r(t)||!r(e)||i(t,e))return s;if(a(t,e)){const t=o(e)?x(s):y(s);return t.spatialReference=e,t}return n([s],t,e,m)[0]}class _{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(s,e,n,r){if(!s?.length||!e||!n||i(e,n))return s;const o={geometries:s,inSpatialReference:e,outSpatialReference:n,options:r,resolve:t()};return this._jobs.push(o),this._timer??=setTimeout(this._process,10),o.resolve.promise}_process(){this._timer=null;const s=this._jobs.shift();if(!s)return;const{geometries:t,inSpatialReference:e,outSpatialReference:r,resolve:i,options:m}=s;a(e,r)&&null==m?.extendedParams?o(r)?i(t.map(x)):i(t.map(y)):i(n(t,e,r,m)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}}const j=new _;function M(s,t,e,n){return j.push(s,t,e,n)}export{f as checkProjectionSupport,g as project,M as projectMany};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Error.js\";import{JSONMap as e}from\"../../../core/jsonMap.js\";import{getUnitString as i}from\"../../../core/unitUtils.js\";import{canProjectWithoutEngine as r}from\"../../../geometry/projectionUtils.js\";import{getGeometryExtent as n}from\"../../../geometry/support/extentUtils.js\";import{fromJSON as a,isPolygon as o,isExtent as s,isPolyline as l}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as m}from\"../../../geometry/support/normalizeUtils.js\";import{isGeographic as u,isWebMercator as c,wgs84 as p,equals as f}from\"../../../geometry/support/spatialReferenceUtils.js\";import{checkProjectionSupport as y,project as d}from\"./projectionSupport.js\";const g=new e({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"}),S=Object.freeze({}),R=\"frequency\";async function x(t,e,i){const r=t.bin;return r.onField&&(r.onField=r.onField.trim()),r.onExpression?.value&&(r.onExpression.value=r.onExpression.value.trim()),r.splitBy&&(r.splitBy.value&&(r.splitBy.value=r.splitBy.value.trim()),r.splitBy.outAlias&&(r.splitBy.outAlias=r.splitBy.outAlias.trim())),r.stackBy&&(r.stackBy.value&&(r.stackBy.value=r.stackBy.value.trim()),r.stackBy.outAlias&&(r.stackBy.outAlias=r.stackBy.outAlias.trim())),\"normalizationField\"in r.parameters&&r.parameters.normalizationField&&(r.parameters.normalizationField=r.parameters.normalizationField.trim()),t.outStatistics?.length||(t.outStatistics=[{statisticType:\"count\",onStatisticField:\"1\",outStatisticFieldName:R}]),w(t,e,i)}async function w(t,e,i){const{outFields:r,orderByFields:n,groupByFieldsForStatistics:a,outStatistics:o}=t;if(r)for(let s=0;s<r.length;s++)r[s]=r[s].trim();if(n)for(let s=0;s<n.length;s++)n[s]=n[s].trim();if(a)for(let s=0;s<a.length;s++)a[s]=a[s].trim();if(o)for(let s=0;s<o.length;s++)o[s].onStatisticField&&(o[s].onStatisticField=o[s].onStatisticField.trim());return t.geometry&&!t.outSR&&(t.outSR=t.geometry.spatialReference),B(t,e,i)}async function B(t,e,i){if(!t)return null;let{where:r}=t;if(t.where=r=r?.trim(),(!r||/^1 *= *1$/.test(r)||e&&e===r)&&(t.where=null),!t.geometry)return t;let o=await v(t);if(t.distance=0,t.units=null,\"esriSpatialRelEnvelopeIntersects\"===t.spatialRel){const{spatialReference:e}=t.geometry;o=n(o),o.spatialReference=e}if(o){await y(o.spatialReference,i),o=j(o,i);const e=(await m(a(o)))[0];if(null==e)throw S;const r=\"quantizationParameters\"in t&&t.quantizationParameters?.tolerance||\"maxAllowableOffset\"in t&&t.maxAllowableOffset||0,n=r&&F(o,i)?{extendedParams:{densificationStep:8*r}}:void 0,s=e.toJSON(),l=d(s,s.spatialReference,i,n);if(!l)throw S;l.spatialReference=i,t.geometry=l}return t}function F(t,e){if(!t)return!1;const i=t.spatialReference;return(s(t)||o(t)||l(t))&&!f(i,e)&&!r(i,e)}function j(t,e){const i=t.spatialReference;return F(t,e)&&s(t)?{spatialReference:i,rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}:t}async function v(e){const{distance:r,units:n}=e,a=e.geometry;if(null==r||\"vertexAttributes\"in a)return a;const s=a.spatialReference,l=n?g.fromJSON(n):i(s),m=s&&(u(s)||c(s))?a:await y(s,p).then(()=>d(a,p)),f=await import(\"../../../geometry/operators/json/geodesicBufferOperator.js\");await f.load();const S=f.execute(m,r||1,{unit:l})??void 0;if(!S||!o(S)||0===S.rings.length)throw new t(\"unsupported-query:invalid-parameters\",\"Invalid parameters for query by distance\");return S}function h(t,e){return null==t?null:\"string\"==typeof t?e?new Date(`1970-01-01T${t}Z`).getTime():new Date(t).getTime():t instanceof Date?t.getTime():t}export{h as getDateInNumber,x as normalizeAttributeBinsQuery,w as normalizeQuery,B as normalizeQueryLike,S as queryEngineEmptyResult,g as unitsKebabDict};\n"],"file":"queryUtils-Ck21vSFc.js"}