{"version":3,"file":"index-CWcfrY3B.js","sources":["../../node_modules/@esri/calcite-components/dist/components/calcite-loader/customElement.js"],"sourcesContent":["/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { css, html, nothing, svg } from \"lit\";\nimport { LitElement, setAttribute, safeClassMap, safeStyleMap } from \"@arcgis/lumina\";\nimport { g as guid } from \"../../chunks/guid.js\";\nimport { u as useT9n } from \"../../chunks/useT9n.js\";\nconst CSS = {\n  percentage: \"percentage\",\n  progressRing: \"ring--progress\",\n  ring: \"ring\",\n  rings: \"rings\",\n  text: \"text\",\n  trackRing: \"ring--track\"\n};\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{position:relative;margin-inline:auto;display:flex;align-items:center;justify-content:center;opacity:1;flex-direction:column;min-block-size:var(--calcite-loader-size);font-size:var(--calcite-loader-font-size);stroke-width:var(--calcite-internal-stroke-width);fill:none;transform:scale(1);padding-block:var(--calcite-loader-spacing, 4rem)}:host([scale=s]){--calcite-internal-stroke-width: 3;--calcite-internal-text-offset: var(--calcite-spacing-xxs);--calcite-internal-loader-font-size: var(--calcite-font-size--3);--calcite-internal-loader-size: 2rem;--calcite-internal-loader-size-inline: .75rem;--calcite-internal-loader-value-line-height: .625rem}:host([scale=m]){--calcite-internal-stroke-width: 6;--calcite-internal-text-offset: var(--calcite-spacing-sm);--calcite-internal-loader-font-size: var(--calcite-font-size-0);--calcite-internal-loader-size: 4rem;--calcite-internal-loader-size-inline: 1rem;--calcite-internal-loader-value-line-height: 1.375rem}:host([scale=l]){--calcite-internal-stroke-width: 8;--calcite-internal-text-offset: var(--calcite-spacing-md);--calcite-internal-loader-font-size: var(--calcite-font-size-2);--calcite-internal-loader-size: 6rem;--calcite-internal-loader-size-inline: 1.5rem;--calcite-internal-loader-value-line-height: 1.71875rem}.text{display:block;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;margin-block-start:var(--calcite-loader-text-spacing, var(--calcite-internal-text-offset));font-weight:var(--calcite-loader-text-weight, var(--calcite-font-weight-normal));color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.percentage{display:block;text-align:center;font-size:var(--calcite-loader-font-size);inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));line-height:var(--calcite-internal-loader-value-line-height);align-self:center;color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.rings{position:relative;display:flex;overflow:visible;opacity:1;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring{position:absolute;inset-block-start:0px;transform-origin:center;overflow:visible;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring--track{stroke:var(--calcite-loader-track-color, var(--calcite-color-transparent-press))}.ring--progress{stroke:var(--calcite-loader-progress-color, var(--calcite-color-brand));transform:rotate(-90deg);transition:all var(--calcite-internal-animation-timing-fast) linear}:host([type=indeterminate]) .ring--progress{animation:loader-clockwise calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 2 / var(--calcite-internal-duration-factor)) linear infinite}:host([inline]){--calcite-internal-stroke-width: 2;position:relative;margin:0;stroke:currentColor;stroke-width:2;padding-block:0px;block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));min-block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));vertical-align:calc(var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline))) * -1 * .2)}:host([inline]) .rings{inset-block-start:0px;margin:0;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring{inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring--progress{stroke:var(--calcite-loader-progress-color-inline, currentColor)}:host([complete]){opacity:0;transform:scale(.75);transform-origin:center;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1s,transform var(--calcite-internal-animation-timing-medium) linear 1s}:host([complete]) .rings{opacity:0;transform:scale(.75);transform-origin:center;transition:opacity calc(.18s * var(--calcite-internal-duration-factor)) linear .8s,transform calc(.18s * var(--calcite-internal-duration-factor)) linear .8s}:host([complete]) .percentage{color:var(--calcite-color-brand);transform:scale(1.05);transform-origin:center;transition:color var(--calcite-internal-animation-timing-medium) linear,transform var(--calcite-internal-animation-timing-medium) linear}@keyframes loader-clockwise{0%{transform:rotate(0)}to{transform:rotate(360deg)}}:host([hidden]){display:none}[hidden]{display:none}`;\nclass Loader extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.messages = useT9n({ name: null });\n    this.complete = false;\n    this.inline = false;\n    this.scale = \"m\";\n    this.text = \"\";\n    this.type = \"indeterminate\";\n    this.value = 0;\n  }\n  static {\n    this.properties = { complete: [7, {}, { reflect: true, type: Boolean }], inline: [7, {}, { reflect: true, type: Boolean }], label: 1, scale: [3, {}, { reflect: true }], text: 1, type: [3, {}, { reflect: true }], value: [9, {}, { type: Number }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.updateFormatter();\n  }\n  load() {\n    requestAnimationFrame(() => this.valueChangeHandler());\n  }\n  willUpdate(changes) {\n    if (changes.has(\"value\") && (this.hasUpdated || this.value !== 0)) {\n      this.valueChangeHandler();\n    }\n    if (changes.has(\"type\") && (this.hasUpdated || this.type !== \"indeterminate\") || changes.has(\"messages\")) {\n      this.updateFormatter();\n    }\n  }\n  valueChangeHandler() {\n    this.complete = this.type.startsWith(\"determinate\") && this.value === 100;\n  }\n  formatValue() {\n    if (this.type !== \"determinate-value\") {\n      return `${this.value}`;\n    }\n    return this.formatter.format(this.value / 100);\n  }\n  getSize(scale) {\n    return {\n      s: 32,\n      m: 64,\n      l: 96\n    }[scale];\n  }\n  getInlineSize(scale) {\n    return {\n      s: 12,\n      m: 16,\n      l: 24\n    }[scale];\n  }\n  updateFormatter() {\n    if (this.type !== \"determinate-value\" || this.formatter?.resolvedOptions().locale === this.messages._lang) {\n      return;\n    }\n    this.formatter = new Intl.NumberFormat(this.messages._lang, {\n      style: \"percent\"\n    });\n  }\n  render() {\n    const { el, inline, label, text, type, value } = this;\n    const id = el.id || guid();\n    const isDeterminate = type !== \"indeterminate\";\n    const valueNow = Math.floor(value);\n    this.el.ariaLabel = label;\n    this.el.ariaValueMax = isDeterminate ? \"100\" : void 0;\n    this.el.ariaValueMin = isDeterminate ? \"0\" : void 0;\n    this.el.ariaValueNow = isDeterminate ? valueNow.toString() : void 0;\n    setAttribute(this.el, \"id\", id);\n    this.el.role = \"progressbar\";\n    return html`<div class=${safeClassMap(CSS.rings)}>${this.renderRing(\"track\")}${this.renderRing(\"progress\")}${!inline && isDeterminate && html`<div class=${safeClassMap(CSS.percentage)}>${this.formatValue()}</div>` || \"\"}</div>${!inline && text && html`<div class=${safeClassMap(CSS.text)}>${text}</div>` || \"\"}`;\n  }\n  renderRing(type) {\n    const { inline, scale, value } = this;\n    const size = inline ? this.getInlineSize(scale) : this.getSize(scale);\n    const radiusRatio = 0.45;\n    const radius = size * radiusRatio;\n    let style;\n    if (type === \"progress\") {\n      const circumference = 2 * radius * Math.PI;\n      const progress = (this.type.startsWith(\"determinate\") ? value : 24) / 100 * circumference;\n      const remaining = circumference - progress;\n      style = { \"stroke-dasharray\": `${progress} ${remaining}` };\n    }\n    return html`<svg aria-hidden=true class=${safeClassMap({\n      [CSS.ring]: true,\n      [CSS.trackRing]: type === \"track\",\n      [CSS.progressRing]: type === \"progress\"\n    })} style=${safeStyleMap(style)} viewBox=${`0 0 ${size} ${size}`}>${svg`<circle cx=${size / 2} cy=${size / 2} r=${radius ?? nothing} />`}</svg>`;\n  }\n}\ncustomElement(\"calcite-loader\", Loader);\nexport {\n  Loader\n};\n"],"names":["CSS","styles","css","_Loader","LitElement","useT9n","changes","scale","el","inline","label","text","type","value","id","guid","isDeterminate","valueNow","setAttribute","html","safeClassMap","size","radius","style","circumference","progress","remaining","safeStyleMap","svg","nothing","Loader","customElement"],"mappings":"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","x_google_ignoreList":[0]}