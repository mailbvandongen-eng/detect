import{u,b as L,g as M,t as p,f as S,S as A,c as E,e as v,V as K,l as C,p as G}from"./index-CPI5l7vk.js";const _={"archeologische waarde":"#c4b5fd","hoge archeologische waarde":"#8b5cf6","zeer hoge archeologische waarde":"#6d28d9"},g={romeins:"#ef4444",steentijd:"#f59e0b",vroegeME:"#22c55e",lateME:"#3b82f6",overig:"#8b5cf6"};function O(e){return/romeinse tijd/i.test(e)}function j(e){return/paleolithicum|mesolithicum|neolithicum/i.test(e)}function b(e){return/middeleeuwen vroeg/i.test(e)}function F(e){return/middeleeuwen laat/i.test(e)&&!/middeleeuwen vroeg/i.test(e)}let m=null;async function k(){if(m)return m;const e=await C("/detectorapp-nl/data/amk_monumenten_full.topojson");return m=G(e),m}async function V(){try{const e=await k();u.getState().updateCounts(e.length,e.length);const y=new L({title:"AMK Monumenten",source:new K({features:e}),style:t=>{const n=u.getState();if(n.isActive&&(n.keyword.length>=2||n.province!=="all")){const r=t.get("omschrijving")||"",a=t.get("toponiem")||"",s=t.get("txt_label")||"",i=t.getGeometry();let l=5.5,h=52;if(i){const x=M(i.getExtent()),w=p(x,"EPSG:3857","EPSG:4326");l=w[0],h=w[1]}if(!S(r,a,s,l,h,n.keyword,n.province))return null}const o=(t.get("kwaliteitswaarde")||"").trim(),c=_[o]||"#ddd";return new A({fill:new v({color:c}),stroke:new E({color:c,width:1.1})})},opacity:.45,zIndex:10});return u.subscribe(t=>{if(t.isActive){let n=0;e.forEach(o=>{const c=o.get("omschrijving")||"",r=o.get("toponiem")||"",a=o.get("txt_label")||"",s=o.getGeometry();let i=5.5,l=52;if(s){const h=M(s.getExtent()),f=p(h,"EPSG:3857","EPSG:4326");i=f[0],l=f[1]}S(c,r,a,i,l,t.keyword,t.province)&&n++}),u.getState().updateCounts(e.length,n)}else u.getState().updateCounts(e.length,e.length)}),console.log(`✓ AMK Monumenten loaded (${e.length} features)`),y}catch(e){return console.error("Failed to load AMK layer:",e),null}}async function d(e,y,t){try{const o=(await k()).filter(r=>{const a=r.get("txt_label")||"";return y(a)}).map(r=>r.clone()),c=new L({title:e,source:new K({features:o}),style:r=>{const a=(r.get("kwaliteitswaarde")||"").trim(),s=a==="zeer hoge archeologische waarde"?.9:a==="hoge archeologische waarde"?.7:.5;return new A({fill:new v({color:t+Math.round(s*255).toString(16).padStart(2,"0")}),stroke:new E({color:t,width:1.5})})},opacity:.6,zIndex:11});return console.log(`✓ ${e} loaded (${o.length} features)`),c}catch(n){return console.error(`Failed to load ${e}:`,n),null}}async function P(){return d("AMK Romeins",O,g.romeins)}async function z(){return d("AMK Steentijd",j,g.steentijd)}async function $(){return d("AMK Vroege ME",b,g.vroegeME)}async function I(){return d("AMK Late ME",F,g.lateME)}async function D(){return d("AMK Overig",e=>!O(e)&&!j(e)&&!b(e)&&!F(e),g.overig)}export{I as createAMKLateMELayerOL,V as createAMKLayerOL,D as createAMKOverigLayerOL,P as createAMKRomeinsLayerOL,z as createAMKSteentijdLayerOL,$ as createAMKVroegeMELayerOL};
//# sourceMappingURL=amkOL-BV71Rwal.js.map
