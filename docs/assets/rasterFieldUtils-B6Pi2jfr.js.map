{"version":3,"file":"rasterFieldUtils-B6Pi2jfr.js","sources":["../../node_modules/@arcgis/core/layers/support/rasterFieldUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"./Field.js\";const a=\"Raster.\",n=\"Raster.Dim.\",t=\".Max\",i={servicePixelValue:\"Raster.ServicePixelValue\",rawServicePixelValue:\"Raster.ServicePixelValue.Raw\",itemPixelValue:\"Raster.ItemPixelValue\",magnitude:\"Raster.Magnitude\",direction:\"Raster.Direction\",variable:\"Raster.Variable\"},r=new Map([[\"quarters\",\"Quarter\"],[\"months\",\"Month\"],[\"weeks\",\"Week of the year\"],[\"days\",\"Day of the year\"]]);function l(a,n){return new e({name:a,alias:n,domain:null,editable:!1,length:50,type:\"string\"})}function s(a,n){return new e({name:a,alias:n,domain:null,editable:!1,type:\"double\"})}function u(a,n){return new e({name:a,alias:n,domain:null,editable:!1,type:\"date\"})}function o(e){return l(i.servicePixelValue,e??\"Service Pixel Value\")}function c(e){return l(i.rawServicePixelValue,e??\"Raw Service Pixel Value\")}function m(){return l(i.itemPixelValue,\"Item Pixel Value\")}function f(e){return l(`${i.servicePixelValue}.${e}`,e)}function d(e){return s(`${i.magnitude}`,\"Magnitude\"+(e?` (${e})`:\"\"))}function $(){return s(`${i.direction}`,\"Direction (Â°)\")}function v(e){return e.fields.filter(e=>\"oid\"!==e.type&&\"value\"!==e.name.toLowerCase()).map(e=>{const n=e.clone();return n.name=`${a}${e.name}`,n})}function p(e){const a=new Set,r=new Set,o=new Map;e.variables.forEach(({dimensions:e})=>{e.forEach(e=>{if(e.recurring)o.set(e.name,e.unit);else{const n=\"ISO8601\"===e.unit?.trim()||\"stdtime\"===e.name?.trim()?.toLowerCase()?a:r;n.add(e.name),e.hasRanges&&n.add(`${e.name}${t}`)}})});return[l(i.variable,\"Variable\"),...[...a].map(e=>u(`${n}${e}`,x(e))),...[...r].map(e=>s(`${n}${e}`,x(e))),...[...o].map(([e,a])=>s(`${n}${e}`,h(e,a)))]}function h(e,a){return a=a?.toLowerCase(),a&&r.has(a)?r.get(a):x(e)}function x(e){const a=e.endsWith(t),n=a?e.slice(0,-4):e,i=\"StdTime\"===n?\"Standard Time\":\"StdZ\"===n?\"Standard Z\":n;return a?`${i} Max`:i}function w(e,a){return a?new Date(e):e}function V(e,a,r){r?.length&&(a[i.variable]=r[0].variableName,r.forEach(({dimensionName:i,values:r})=>{if(i&&r?.length){const l=`${n}${i}`,s=e.find(({name:e})=>e===l);if(!s)return;const u=\"date\"===s.type,o=r[0];if(Array.isArray(o)){if(a[`${n}${i}`]=w(o[0],u),null!=o[1]){const r=`${n}${i}${t}`;if(e.some(({name:e})=>e===r)){const e=w(o[1],u);a[r]=e}}}else a[`${n}${i}`]=w(o,u)}}))}function b(e,a){if(a.pixelType.startsWith(\"f\")&&e.forEach(({format:e,fieldName:a})=>{e&&a&&/^raster\\.(item|service)pixelvalue/i.test(a)&&(e.places=2)}),a.multidimensionalInfo){const i=a.multidimensionalInfo.variables.flatMap(({dimensions:e})=>e);e.forEach(({format:e,fieldName:a})=>{if(e&&a?.startsWith(n)){const r=a.slice(n.length),l=`${r}${t}`,s=i.find(({name:e})=>e===r||e===l);s?.values?.every(e=>Number.isInteger(e))&&(e.places=0)}})}}export{V as addMultidimensionalFieldValues,i as commonRasterFieldNames,$ as getDirectionField,m as getItemPixelValueField,d as getMagnitudeField,p as getMultidimensionalFields,f as getProcessedServicePixelValueField,v as getRasterAttributeTableFields,c as getRawServicePixelValueField,o as getServicePixelValueField,n as rasterDimensionFieldPrefix,a as rasterFieldPrefix,b as setDefaultRasterFieldFormats};\n"],"names":["a","n","t","i","r","l","e","s","u","o","c","m","f","d","$","v","p","x","h","w","V","b"],"mappings":"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","x_google_ignoreList":[0]}