{"version":3,"file":"displayFilterUtils-D_kzcR8w.js","sources":["../../node_modules/@arcgis/core/layers/support/displayFilterUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{floatGreaterThan as e,floatLessThan as n,floatEqualAbsolute as t,floatGreaterThanOrEqual as r}from\"../../core/mathUtils.js\";import{sqlOr as o}from\"../../core/sql.js\";function i(e,n){return{...n,filterMode:e.mode}}function u(e,n){return l(e,n).next().value??null}function c(t,r,i){const u=f(t);if(u&&(e(r,u[0])||n(i,u[1])))return\"\";const c=Array.from(l(t,r,i)),m=a(c,r,i)?\"1=1\":c.map(e=>e.where||\"1=1\").reduce((e,n)=>o(e,n),\"\");return m&&\"1=1\"!==m?m:\"\"}function f(e){if(\"manual\"===s(e))return null;const n=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:t,maxScale:r}of e.filters)n[0]=Math.max(n[0],I(t)),n[1]=Math.min(n[1],d(r));return n}function*l(e,n,t){if(\"manual\"===s(e)){const n=e.filters.find(n=>n.id===e.activeFilterId);n&&(yield n)}else{\"object\"==typeof n&&(n=n.scale);for(const r of e.filters)m(r.minScale,r.maxScale,n,t)&&(yield r)}}function a(t,r,o){if(0===t.length)return!0;const i=I(t.at(0)?.minScale),u=d(t.at(-1)?.maxScale);if(n(i,r)||e(u,o))return!0;for(let e=0;e<t.length-1;e++){const r=t[e],o=t[e+1];if(n(I(o.minScale),d(r.maxScale)))return!0}return!1}function m(e,n,o,i){return e=I(e),o=I(o),n=d(n),!(!t(o,e)&&(i??o)>e)&&(!r(n,o)&&(void 0===i||!t(i,e)))}function s(e){return\"mode\"in e?e.mode:e.filterMode}function I(e){return e||Number.POSITIVE_INFINITY}function d(e){return e||0}export{i as createDisplayFilterJSONContext,c as getClauseForScaleRange,u as getEffectiveDisplayFilter};\n"],"names":["i","e","n","u","l","c","t","r","f","m","a","o","s","I","d"],"mappings":"yEAI6K,SAASA,EAAEC,EAAEC,EAAE,CAAC,MAAM,CAAC,GAAGA,EAAE,WAAWD,EAAE,IAAI,CAAC,CAAC,SAASE,EAAEF,EAAEC,EAAE,CAAC,OAAOE,EAAEH,EAAEC,CAAC,EAAE,KAAI,EAAG,OAAO,IAAI,CAAC,SAASG,EAAEC,EAAEC,EAAEP,EAAE,CAAC,MAAMG,EAAEK,EAAEF,CAAC,EAAE,GAAGH,IAAIF,EAAEM,EAAEJ,EAAE,CAAC,CAAC,GAAGD,EAAEF,EAAEG,EAAE,CAAC,CAAC,GAAG,MAAM,GAAG,MAAME,EAAE,MAAM,KAAKD,EAAEE,EAAEC,EAAEP,CAAC,CAAC,EAAES,EAAEC,EAAEL,EAAEE,EAAEP,CAAC,EAAE,MAAMK,EAAE,IAAIJ,GAAGA,EAAE,OAAO,KAAK,EAAE,OAAO,CAACA,EAAEC,IAAIS,EAAEV,EAAEC,CAAC,EAAE,EAAE,EAAE,OAAOO,GAAWA,IAAR,MAAUA,EAAE,EAAE,CAAC,SAASD,EAAEP,EAAE,CAAC,GAAcW,EAAEX,CAAC,IAAd,SAAgB,OAAO,KAAK,MAAMC,EAAE,CAAC,OAAO,kBAAkB,OAAO,iBAAiB,EAAE,SAAS,CAAC,SAAS,EAAE,SAASK,CAAC,IAAIN,EAAE,QAAQC,EAAE,CAAC,EAAE,KAAK,IAAIA,EAAE,CAAC,EAAEW,EAAE,CAAC,CAAC,EAAEX,EAAE,CAAC,EAAE,KAAK,IAAIA,EAAE,CAAC,EAAEY,EAAEP,CAAC,CAAC,EAAE,OAAOL,CAAC,CAAC,SAASE,EAAEH,EAAEC,EAAE,EAAE,CAAC,GAAcU,EAAEX,CAAC,IAAd,SAAgB,CAAC,MAAMC,EAAED,EAAE,QAAQ,KAAKC,GAAGA,EAAE,KAAKD,EAAE,cAAc,EAAEC,IAAI,MAAMA,EAAE,KAAK,CAAW,OAAOA,GAAjB,WAAqBA,EAAEA,EAAE,OAAO,UAAUK,KAAKN,EAAE,QAAQQ,EAAEF,EAAE,SAASA,EAAE,SAASL,EAAE,CAAC,IAAI,MAAMK,EAAE,CAAC,CAAC,SAASG,EAAEJ,EAAE,EAAEK,EAAE,CAAC,GAAOL,EAAE,SAAN,EAAa,MAAM,GAAG,MAAMN,EAAEa,EAAEP,EAAE,GAAG,CAAC,GAAG,QAAQ,EAAEH,EAAEW,EAAER,EAAE,GAAG,EAAE,GAAG,QAAQ,EAAE,GAAGJ,EAAEF,EAAE,CAAC,GAAGC,EAAEE,EAAEQ,CAAC,EAAE,MAAM,GAAG,QAAQV,EAAE,EAAEA,EAAEK,EAAE,OAAO,EAAEL,IAAI,CAAC,MAAMM,EAAED,EAAEL,CAAC,EAAE,EAAEK,EAAEL,EAAE,CAAC,EAAE,GAAGC,EAAEW,EAAE,EAAE,QAAQ,EAAEC,EAAEP,EAAE,QAAQ,CAAC,EAAE,QAAQ,CAAC,MAAM,EAAE,CAAC,SAASE,EAAER,EAAEC,EAAES,EAAEX,EAAE,CAAC,OAAOC,EAAEY,EAAEZ,CAAC,EAAEU,EAAEE,EAAEF,CAAC,EAAET,EAAEY,EAAEZ,CAAC,EAAE,EAAE,CAACI,EAAEK,EAAEV,CAAC,IAAID,GAAGW,GAAGV,IAAK,CAACM,EAAEL,EAAES,CAAC,IAAaX,IAAT,QAAY,CAACM,EAAEN,EAAEC,CAAC,EAAG,CAAC,SAASW,EAAEX,EAAE,CAAC,MAAM,SAASA,EAAEA,EAAE,KAAKA,EAAE,UAAU,CAAC,SAASY,EAAEZ,EAAE,CAAC,OAAOA,GAAG,OAAO,iBAAiB,CAAC,SAASa,EAAEb,EAAE,CAAC,OAAOA,GAAG,CAAC","x_google_ignoreList":[0]}