{"version":3,"file":"Tick-B9UEufVU.js","sources":["../../node_modules/@amcharts/amcharts5/.internal/core/util/Data.js","../../node_modules/@amcharts/amcharts5/.internal/core/render/Component.js","../../node_modules/@amcharts/amcharts5/.internal/core/util/Time.js","../../node_modules/@amcharts/amcharts5/.internal/core/render/Series.js","../../node_modules/@amcharts/amcharts5/.internal/core/util/Draw.js","../../node_modules/@amcharts/amcharts5/.internal/core/render/Line.js","../../node_modules/d3-shape/src/constant.js","../../node_modules/d3-path/src/path.js","../../node_modules/d3-shape/src/path.js","../../node_modules/@amcharts/amcharts5/.internal/core/render/Chart.js","../../node_modules/@amcharts/amcharts5/.internal/core/render/SerialChart.js","../../node_modules/@amcharts/amcharts5/.internal/core/render/Tick.js"],"sourcesContent":["import { List } from \"./List\";\r\n/**\r\n * A [[List]] that holds components data.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\r\n */\r\nexport class ListData extends List {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * An optional processor for data.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/data/#Pre_processing_data} for more info\r\n         */\r\n        Object.defineProperty(this, \"processor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    incrementRef() { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    decrementRef() { }\r\n    _onPush(newValue) {\r\n        if (this.processor) {\r\n            this.processor.processRow(newValue);\r\n        }\r\n        super._onPush(newValue);\r\n    }\r\n    _onInsertIndex(index, newValue) {\r\n        if (this.processor) {\r\n            this.processor.processRow(newValue);\r\n        }\r\n        super._onInsertIndex(index, newValue);\r\n    }\r\n    _onSetIndex(index, oldValue, newValue) {\r\n        if (this.processor) {\r\n            this.processor.processRow(newValue);\r\n        }\r\n        super._onSetIndex(index, oldValue, newValue);\r\n    }\r\n}\r\n/**\r\n * @deprecated\r\n * @todo remove\r\n */\r\nexport class JsonData {\r\n    constructor(value) {\r\n        Object.defineProperty(this, \"processor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._value = value;\r\n    }\r\n    incrementRef() { }\r\n    decrementRef() { }\r\n}\r\n//# sourceMappingURL=Data.js.map","import { __awaiter } from \"tslib\";\r\nimport { Settings } from \"../util/Entity\";\r\nimport { Container } from \"./Container\";\r\nimport { ListData } from \"../util/Data\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $object from \"../util/Object\";\r\n/**\r\n * A base element that holds data bit (data item) for any [[Component]].\r\n */\r\nexport class DataItem extends Settings {\r\n    constructor(component, dataContext, settings) {\r\n        super(settings);\r\n        /**\r\n         * A data item's owener [[Component]].\r\n         */\r\n        Object.defineProperty(this, \"component\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A reference to actual item in source data this item is based on.\r\n         */\r\n        Object.defineProperty(this, \"dataContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * @todo requires description\r\n         */\r\n        Object.defineProperty(this, \"bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A set of \"open\" values.\r\n         */\r\n        Object.defineProperty(this, \"open\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A set of \"close\" values.\r\n         */\r\n        Object.defineProperty(this, \"close\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.dataContext = dataContext;\r\n        this.component = component;\r\n        this._settings.visible = true;\r\n        this._checkDirty();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirty() {\r\n        this.component.markDirtyValues(this);\r\n    }\r\n    _startAnimation() {\r\n        this.component._root._addAnimation(this);\r\n    }\r\n    _animationTime() {\r\n        return this.component._root.animationTime;\r\n    }\r\n    _dispose() {\r\n        if (this.component) {\r\n            this.component.disposeDataItem(this);\r\n        }\r\n        super._dispose();\r\n    }\r\n    /**\r\n     * Shows a data item that's currently hidden.\r\n     */\r\n    show(duration) {\r\n        this.setRaw(\"visible\", true);\r\n        if (this.component) {\r\n            this.component.showDataItem(this, duration);\r\n        }\r\n    }\r\n    /**\r\n     * Hides a data item that's currently visible.\r\n     */\r\n    hide(duration) {\r\n        this.setRaw(\"visible\", false);\r\n        if (this.component) {\r\n            this.component.hideDataItem(this, duration);\r\n        }\r\n    }\r\n    isHidden() {\r\n        return !this.get(\"visible\");\r\n    }\r\n}\r\n/**\r\n * A base class for elements that make use of data.\r\n */\r\nexport class Component extends Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_data\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListData()\r\n        });\r\n        Object.defineProperty(this, \"_dataItems\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_mainDataItems\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._dataItems\r\n        });\r\n        Object.defineProperty(this, \"valueFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"fields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\"id\"]\r\n        });\r\n        Object.defineProperty(this, \"_valueFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_valueFieldsF\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_fields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_fieldsF\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_valuesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataChanged\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataGrouped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * Indicates if the component has already been initialized.\r\n         */\r\n        Object.defineProperty(this, \"inited\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    /**\r\n     * Component's data.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\r\n     */\r\n    set data(data) {\r\n        data.incrementRef();\r\n        this._data.decrementRef();\r\n        this._data = data;\r\n    }\r\n    /**\r\n     * @return  Data\r\n     */\r\n    get data() {\r\n        return this._data;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        this._data.decrementRef();\r\n    }\r\n    _onDataClear() {\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._data.incrementRef();\r\n        this._updateFields();\r\n        this._disposers.push(this.data.events.onAll((change) => {\r\n            const dataItems = this._mainDataItems;\r\n            this.markDirtyValues();\r\n            this._markDirtyGroup();\r\n            this._dataChanged = true;\r\n            if (change.type === \"clear\") {\r\n                $array.each(dataItems, (dataItem) => {\r\n                    dataItem.dispose();\r\n                });\r\n                dataItems.length = 0;\r\n                this._onDataClear();\r\n            }\r\n            else if (change.type === \"push\") {\r\n                const dataItem = new DataItem(this, change.newValue, this._makeDataItem(change.newValue));\r\n                dataItems.push(dataItem);\r\n                this.processDataItem(dataItem);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                const dataItem = dataItems[change.index];\r\n                const properties = this._makeDataItem(change.newValue);\r\n                if (dataItem.bullets && dataItem.bullets.length == 0) {\r\n                    dataItem.bullets = undefined;\r\n                }\r\n                $object.keys(properties).forEach((key) => {\r\n                    if (dataItem.get(key) == properties[key]) {\r\n                        return;\r\n                    }\r\n                    dataItem.animate({\r\n                        key: key,\r\n                        to: properties[key],\r\n                        duration: this.get(\"interpolationDuration\", 0),\r\n                        easing: this.get(\"interpolationEasing\"),\r\n                    });\r\n                });\r\n                dataItem.dataContext = change.newValue;\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                const dataItem = new DataItem(this, change.newValue, this._makeDataItem(change.newValue));\r\n                dataItems.splice(change.index, 0, dataItem);\r\n                this.processDataItem(dataItem);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                const dataItem = dataItems[change.index];\r\n                dataItem.dispose();\r\n                dataItems.splice(change.index, 1);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                const dataItem = dataItems[change.oldIndex];\r\n                dataItems.splice(change.oldIndex, 1);\r\n                dataItems.splice(change.newIndex, 0, dataItem);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IStreamEvent type\");\r\n            }\r\n            this._afterDataChange();\r\n        }));\r\n    }\r\n    _updateFields() {\r\n        if (this.valueFields) {\r\n            this._valueFields = [];\r\n            this._valueFieldsF = {};\r\n            $array.each(this.valueFields, (key) => {\r\n                const field = this.get((key + \"Field\"));\r\n                if (field) {\r\n                    this._valueFields.push(key);\r\n                    this._valueFieldsF[key] = { fieldKey: key + \"Field\", workingKey: key + \"Working\" };\r\n                }\r\n            });\r\n        }\r\n        if (this.fields) {\r\n            this._fields = [];\r\n            this._fieldsF = {};\r\n            $array.each(this.fields, (key) => {\r\n                const field = this.get((key + \"Field\"));\r\n                if (field) {\r\n                    this._fields.push(key);\r\n                    this._fieldsF[key] = key + \"Field\";\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * A list of component's data items.\r\n     *\r\n     * @return  Data items\r\n     */\r\n    get dataItems() {\r\n        return this._dataItems;\r\n    }\r\n    processDataItem(_dataItem) { }\r\n    _makeDataItem(data) {\r\n        //const output: this[\"_dataItemSettings\"] = {};\r\n        const output = {}; // temporary to solve error\r\n        if (this._valueFields) {\r\n            $array.each(this._valueFields, (key) => {\r\n                const field = this.get((this._valueFieldsF[key].fieldKey));\r\n                output[key] = data[field];\r\n                output[this._valueFieldsF[key].workingKey] = output[key];\r\n            });\r\n        }\r\n        if (this._fields) {\r\n            $array.each(this._fields, (key) => {\r\n                const field = this.get((this._fieldsF[key]));\r\n                output[key] = data[field];\r\n            });\r\n        }\r\n        return output;\r\n    }\r\n    /**\r\n     * Creates a new data item and processes it.\r\n     *\r\n     * @param   data         Data item settings\r\n     * @param   dataContext  Data context\r\n     * @return               New data item\r\n     */\r\n    makeDataItem(data, dataContext) {\r\n        let dataItem = new DataItem(this, dataContext, data);\r\n        this.processDataItem(dataItem);\r\n        return dataItem;\r\n    }\r\n    /**\r\n     * Adds new explicit data item to series.\r\n     *\r\n     * @param   data         Data item settings\r\n     * @param   dataContext  Data context\r\n     * @return               New data item\r\n     */\r\n    pushDataItem(data, dataContext) {\r\n        const dataItem = this.makeDataItem(data, dataContext);\r\n        this._mainDataItems.push(dataItem);\r\n        return dataItem;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(_dataItem) {\r\n    }\r\n    /**\r\n     * Shows component's data item.\r\n     *\r\n     * @param   dataItem   Data item\r\n     * @param   _duration  Animation duration in milliseconds\r\n     * @return             Promise\r\n     */\r\n    showDataItem(dataItem, _duration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            dataItem.set(\"visible\", true);\r\n        });\r\n    }\r\n    /**\r\n     * Hides component's data item.\r\n     *\r\n     * @param   dataItem   Data item\r\n     * @param   _duration  Animation duration in milliseconds\r\n     * @return             Promise\r\n     */\r\n    hideDataItem(dataItem, _duration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            dataItem.set(\"visible\", false);\r\n        });\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._valuesDirty = false;\r\n    }\r\n    _afterDataChange() {\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        if (this._dataChanged) {\r\n            const type = \"datavalidated\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, { type: type, target: this });\r\n            }\r\n            this._dataChanged = false;\r\n        }\r\n        if (this._valuesDirty) {\r\n            const type = \"valueschanged\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, { type: type, target: this });\r\n            }\r\n        }\r\n        this.inited = true;\r\n    }\r\n    /**\r\n     * Forces a repaint of the element which relies on data.\r\n     *\r\n     * @since 5.0.21\r\n     */\r\n    markDirtyValues(_dataItem) {\r\n        this.markDirty();\r\n        this._valuesDirty = true;\r\n    }\r\n    _markDirtyGroup() {\r\n        this._dataGrouped = false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtySize() {\r\n        this._sizeDirty = true;\r\n        this.markDirty();\r\n    }\r\n    /**\r\n     * Looks up and returns a data item by its ID.\r\n     *\r\n     * @param   id  ID\r\n     * @return      Data item\r\n     */\r\n    getDataItemById(id) {\r\n        return $array.find(this.dataItems, (dataItem) => {\r\n            return dataItem.get(\"id\") == id;\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(Component, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Component\"\r\n});\r\nObject.defineProperty(Component, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Container.classNames.concat([Component.className])\r\n});\r\n//# sourceMappingURL=Component.js.map","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $type from \"./Type\";\r\nimport * as $utils from \"./Utils\";\r\n/**\r\n * Returns a `Promise` which can be used to execute code after number of\r\n * milliseconds.\r\n *\r\n * @param   ms  Sleep duration in ms\r\n * @return      Promise\r\n */\r\nexport function sleep(ms) {\r\n    return new Promise((resolve, _reject) => {\r\n        setTimeout(resolve, ms);\r\n    });\r\n}\r\n/**\r\n * Maps time period names to their numeric representations in milliseconds.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport let timeUnitDurations = {\r\n    millisecond: 1,\r\n    second: 1000,\r\n    minute: 60000,\r\n    hour: 3600000,\r\n    day: 86400000,\r\n    week: 604800000,\r\n    month: 365.242 / 12 * 86400000,\r\n    year: 31536000000\r\n};\r\n/**\r\n * Returns the next time unit that goes after source `unit`.\r\n *\r\n * E.g. \"hour\" is the next unit after \"minute\", etc.\r\n *\r\n * @ignore Exclude from docs\r\n * @param unit  Source time unit\r\n * @return Next time unit\r\n */\r\nexport function getNextUnit(unit) {\r\n    switch (unit) {\r\n        case \"year\":\r\n            return;\r\n        case \"month\":\r\n            return \"year\";\r\n        case \"week\":\r\n            return \"month\";\r\n        case \"day\":\r\n            return \"month\"; // not a mistake\r\n        case \"hour\":\r\n            return \"day\";\r\n        case \"minute\":\r\n            return \"hour\";\r\n        case \"second\":\r\n            return \"minute\";\r\n        case \"millisecond\":\r\n            return \"second\";\r\n    }\r\n}\r\n/**\r\n * Returns number of milliseconds in the `count` of time `unit`.\r\n *\r\n * Available units: \"millisecond\", \"second\", \"minute\", \"hour\", \"day\", \"week\",\r\n * \"month\", and \"year\".\r\n *\r\n * @param unit   Time unit\r\n * @param count  Number of units\r\n * @return Milliseconds\r\n */\r\nexport function getDuration(unit, count) {\r\n    if (count == null) {\r\n        count = 1;\r\n    }\r\n    return timeUnitDurations[unit] * count;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getIntervalDuration(interval) {\r\n    if (interval) {\r\n        return timeUnitDurations[interval.timeUnit] * interval.count;\r\n    }\r\n    return 0;\r\n}\r\nexport function getDateIntervalDuration(interval, date, firstDateOfWeek, utc, timezone) {\r\n    const unit = interval.timeUnit;\r\n    const count = interval.count;\r\n    if (unit == \"hour\" || unit == \"minute\" || unit == \"second\" || unit == \"millisecond\") {\r\n        return timeUnitDurations[interval.timeUnit] * interval.count;\r\n    }\r\n    else {\r\n        const firstTime = round(new Date(date.getTime()), unit, count, firstDateOfWeek, utc, undefined, timezone).getTime();\r\n        let lastTime = firstTime + count * getDuration(unit) * 1.05;\r\n        lastTime = round(new Date(lastTime), unit, 1, firstDateOfWeek, utc, undefined, timezone).getTime();\r\n        return lastTime - firstTime;\r\n    }\r\n}\r\n/**\r\n * Returns current `Date` object.\r\n *\r\n * @return Current date\r\n */\r\nexport function now() {\r\n    return new Date();\r\n}\r\n/**\r\n * Returns current timestamp.\r\n *\r\n * @return Current timestamp\r\n */\r\nexport function getTime() {\r\n    return now().getTime();\r\n}\r\n/**\r\n * Returns a copy of the `Date` object.\r\n *\r\n * @param date  Source date\r\n * @return Copy\r\n */\r\nexport function copy(date) {\r\n    return new Date(date.getTime()); // todo: check if this is ok. new Date(date) used to strip milliseconds on FF in v3\r\n}\r\n/**\r\n * Checks if the `unit` part of two `Date` objects do not match. Two dates\r\n * represent a \"range\" of time, rather the same time date.\r\n *\r\n * @param timeOne  timestamp\r\n * @param timeTwo  timestamp\r\n * @param unit     Time unit to check\r\n * @return Range?\r\n */\r\nexport function checkChange(timeOne, timeTwo, unit, utc, timezone) {\r\n    // quick\r\n    if ((timeTwo - timeOne) > getDuration(unit, 1.2)) {\r\n        return true;\r\n    }\r\n    let dateOne = new Date(timeOne);\r\n    let dateTwo = new Date(timeTwo);\r\n    if (timezone) {\r\n        dateOne = timezone.convertLocal(dateOne);\r\n        dateTwo = timezone.convertLocal(dateTwo);\r\n    }\r\n    let timeZoneOffset1 = 0;\r\n    let timeZoneOffset2 = 0;\r\n    if (!utc && unit != \"millisecond\") {\r\n        timeZoneOffset1 = dateOne.getTimezoneOffset();\r\n        dateOne.setUTCMinutes(dateOne.getUTCMinutes() - timeZoneOffset1);\r\n        timeZoneOffset2 = dateTwo.getTimezoneOffset();\r\n        dateTwo.setUTCMinutes(dateTwo.getUTCMinutes() - timeZoneOffset2);\r\n    }\r\n    let changed = false;\r\n    switch (unit) {\r\n        case \"year\":\r\n            if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"month\":\r\n            if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\r\n                changed = true;\r\n            }\r\n            else if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"day\":\r\n            if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\r\n                changed = true;\r\n            }\r\n            else if (dateOne.getUTCDate() != dateTwo.getUTCDate()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"hour\":\r\n            if (dateOne.getUTCHours() != dateTwo.getUTCHours()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"minute\":\r\n            if (dateOne.getUTCMinutes() != dateTwo.getUTCMinutes()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"second\":\r\n            if (dateOne.getUTCSeconds() != dateTwo.getUTCSeconds()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"millisecond\":\r\n            if (dateOne.getTime() != dateTwo.getTime()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n    }\r\n    if (changed) {\r\n        return changed;\r\n    }\r\n    let nextUnit = getNextUnit(unit);\r\n    if (nextUnit) {\r\n        return checkChange(timeOne, timeTwo, nextUnit, utc, timezone);\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Adds `count` of time `unit` to the source date. Returns a modified `Date` object.\r\n *\r\n * @param date   Source date\r\n * @param unit   Time unit\r\n * @param count  Number of units to add\r\n * @return Modified date\r\n */\r\nexport function add(date, unit, count, utc, timezone) {\r\n    let timeZoneOffset = 0;\r\n    if (!utc && unit != \"millisecond\") {\r\n        timeZoneOffset = date.getTimezoneOffset();\r\n        if (timezone) {\r\n            timeZoneOffset -= timezone.offsetUTC(date);\r\n        }\r\n        date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\r\n    }\r\n    switch (unit) {\r\n        case \"day\":\r\n            let day = date.getUTCDate();\r\n            date.setUTCDate(day + count);\r\n            break;\r\n        case \"second\":\r\n            let seconds = date.getUTCSeconds();\r\n            date.setUTCSeconds(seconds + count);\r\n            break;\r\n        case \"millisecond\":\r\n            let milliseconds = date.getUTCMilliseconds();\r\n            date.setUTCMilliseconds(milliseconds + count);\r\n            break;\r\n        case \"hour\":\r\n            let hours = date.getUTCHours();\r\n            date.setUTCHours(hours + count);\r\n            break;\r\n        case \"minute\":\r\n            let minutes = date.getUTCMinutes();\r\n            date.setUTCMinutes(minutes + count);\r\n            break;\r\n        case \"year\":\r\n            let year = date.getUTCFullYear();\r\n            date.setUTCFullYear(year + count);\r\n            break;\r\n        case \"month\":\r\n            const endDays = date.getUTCDate();\r\n            const startDays = new Date(date.getUTCFullYear(), date.getUTCMonth(), 0).getUTCDate();\r\n            let month = date.getUTCMonth();\r\n            if (endDays > startDays) {\r\n                date.setUTCMonth(month + count, startDays);\r\n            }\r\n            else {\r\n                date.setUTCMonth(month + count);\r\n            }\r\n            break;\r\n        case \"week\":\r\n            let wday = date.getUTCDate();\r\n            date.setUTCDate(wday + count * 7);\r\n            break;\r\n    }\r\n    if (!utc && unit != \"millisecond\") {\r\n        date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\r\n        if (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\r\n            let newTimeZoneOffset = date.getTimezoneOffset();\r\n            if (timezone) {\r\n                newTimeZoneOffset += timezone.offsetUTC(date);\r\n            }\r\n            if (newTimeZoneOffset != timeZoneOffset) {\r\n                let diff = newTimeZoneOffset - timeZoneOffset;\r\n                date.setUTCMinutes(date.getUTCMinutes() + diff);\r\n                // solves issues if new time falls back to old time zone\r\n                if (date.getTimezoneOffset() != newTimeZoneOffset) {\r\n                    date.setUTCMinutes(date.getUTCMinutes() - diff);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return date;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function roun(time, unit, count, root, firstTime) {\r\n    let firstDate;\r\n    if (firstTime != null) {\r\n        firstDate = new Date(firstTime);\r\n    }\r\n    return round(new Date(time), unit, count, root.locale.firstDayOfWeek, root.utc, firstDate, root.timezone).getTime();\r\n}\r\n/**\r\n * \"Rounds\" the date to specific time unit.\r\n *\r\n * @param date             Source date\r\n * @param unit             Time unit\r\n * @param count            Number of units to round to\r\n * @param firstDateOfWeek  First day of week\r\n * @param utc              Use UTC timezone\r\n * @param firstDate        First date to round to\r\n * @param roundMinutes     Minutes to round to (some timezones use non-whole hour)\r\n * @param timezone         Use specific named timezone when rounding\r\n * @return New date\r\n */\r\nexport function round(date, unit, count, firstDateOfWeek, utc, firstDate, timezone) {\r\n    if (!timezone || utc) {\r\n        let timeZoneOffset = 0;\r\n        if (!utc && unit != \"millisecond\") {\r\n            timeZoneOffset = date.getTimezoneOffset();\r\n            date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\r\n        }\r\n        switch (unit) {\r\n            case \"day\":\r\n                let day = date.getUTCDate();\r\n                if (count > 1) {\r\n                    //\tday = Math.floor(day / count) * count;\r\n                    if (firstDate) {\r\n                        firstDate = round(firstDate, \"day\", 1);\r\n                        let difference = date.getTime() - firstDate.getTime();\r\n                        let unitCount = Math.floor(difference / getDuration(\"day\") / count);\r\n                        let duration = getDuration(\"day\", unitCount * count);\r\n                        date.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration(\"minute\"));\r\n                    }\r\n                }\r\n                else {\r\n                    date.setUTCDate(day);\r\n                }\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"second\":\r\n                let seconds = date.getUTCSeconds();\r\n                if (count > 1) {\r\n                    seconds = Math.floor(seconds / count) * count;\r\n                }\r\n                date.setUTCSeconds(seconds, 0);\r\n                break;\r\n            case \"millisecond\":\r\n                if (count == 1) {\r\n                    return date; // much better for perf!\r\n                }\r\n                let milliseconds = date.getUTCMilliseconds();\r\n                milliseconds = Math.floor(milliseconds / count) * count;\r\n                date.setUTCMilliseconds(milliseconds);\r\n                break;\r\n            case \"hour\":\r\n                let hours = date.getUTCHours();\r\n                if (count > 1) {\r\n                    hours = Math.floor(hours / count) * count;\r\n                }\r\n                date.setUTCHours(hours, 0, 0, 0);\r\n                break;\r\n            case \"minute\":\r\n                let minutes = date.getUTCMinutes();\r\n                if (count > 1) {\r\n                    minutes = Math.floor(minutes / count) * count;\r\n                }\r\n                date.setUTCMinutes(minutes, 0, 0);\r\n                break;\r\n            case \"month\":\r\n                let month = date.getUTCMonth();\r\n                if (count > 1) {\r\n                    // only do this if count is 2, 3, 4, and 6\r\n                    if (count == 2 || count == 3 || count == 4 || count == 6) {\r\n                        month = Math.floor(month / count) * count;\r\n                    }\r\n                }\r\n                date.setUTCMonth(month, 1);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"year\":\r\n                let year = date.getUTCFullYear();\r\n                if (count > 1) {\r\n                    year = Math.floor(year / count) * count;\r\n                }\r\n                date.setUTCFullYear(year, 0, 1);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"week\":\r\n                if (count > 1) {\r\n                    if (firstDate) {\r\n                        firstDate = round(firstDate, \"week\", 1);\r\n                        let difference = date.getTime() - firstDate.getTime();\r\n                        let unitCount = Math.floor(difference / getDuration(\"week\") / count);\r\n                        let duration = getDuration(\"week\", unitCount * count);\r\n                        date.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration(\"minute\"));\r\n                    }\r\n                }\r\n                let wday = date.getUTCDate();\r\n                let weekDay = date.getUTCDay();\r\n                if (!$type.isNumber(firstDateOfWeek)) {\r\n                    firstDateOfWeek = 1;\r\n                }\r\n                if (weekDay >= firstDateOfWeek) {\r\n                    wday = wday - weekDay + firstDateOfWeek;\r\n                }\r\n                else {\r\n                    wday = wday - (7 + weekDay) + firstDateOfWeek;\r\n                }\r\n                date.setUTCDate(wday);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n        }\r\n        if (!utc && unit != \"millisecond\") {\r\n            date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\r\n            if (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\r\n                let newTimeZoneOffset = date.getTimezoneOffset();\r\n                if (newTimeZoneOffset != timeZoneOffset) {\r\n                    let diff = newTimeZoneOffset - timeZoneOffset;\r\n                    date.setUTCMinutes(date.getUTCMinutes() + diff);\r\n                }\r\n            }\r\n        }\r\n        return date;\r\n    }\r\n    else {\r\n        if (isNaN(date.getTime())) {\r\n            return date;\r\n        }\r\n        let initialTime = date.getTime();\r\n        let tzoffset = timezone.offsetUTC(date);\r\n        let timeZoneOffset = date.getTimezoneOffset();\r\n        let parsedDate = timezone.parseDate(date);\r\n        let year = parsedDate.year;\r\n        let month = parsedDate.month;\r\n        let day = parsedDate.day;\r\n        let hour = parsedDate.hour;\r\n        let minute = parsedDate.minute;\r\n        let second = parsedDate.second;\r\n        let millisecond = parsedDate.millisecond;\r\n        let weekday = parsedDate.weekday;\r\n        let offsetDif = tzoffset - timeZoneOffset;\r\n        switch (unit) {\r\n            case \"day\":\r\n                if (count > 1 && firstDate) {\r\n                    firstDate = round(firstDate, \"day\", 1, firstDateOfWeek, utc, undefined, timezone);\r\n                    let difference = date.getTime() - firstDate.getTime();\r\n                    let unitCount = Math.floor(difference / getDuration(\"day\") / count);\r\n                    let duration = getDuration(\"day\", unitCount * count);\r\n                    date.setTime(firstDate.getTime() + duration);\r\n                    parsedDate = timezone.parseDate(date);\r\n                    year = parsedDate.year;\r\n                    month = parsedDate.month;\r\n                    day = parsedDate.day;\r\n                }\r\n                hour = 0;\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"second\":\r\n                minute += offsetDif;\r\n                if (count > 1) {\r\n                    second = Math.floor(second / count) * count;\r\n                }\r\n                millisecond = 0;\r\n                break;\r\n            case \"millisecond\":\r\n                minute += offsetDif;\r\n                if (count > 1) {\r\n                    millisecond = Math.floor(millisecond / count) * count;\r\n                }\r\n                break;\r\n            case \"hour\":\r\n                if (count > 1) {\r\n                    hour = Math.floor(hour / count) * count;\r\n                }\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"minute\":\r\n                if (count > 1) {\r\n                    minute = Math.floor(minute / count) * count;\r\n                }\r\n                minute += offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"month\":\r\n                if (count > 1) {\r\n                    month = Math.floor(month / count) * count;\r\n                }\r\n                day = 1;\r\n                hour = 0;\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"year\":\r\n                if (count > 1) {\r\n                    year = Math.floor(year / count) * count;\r\n                }\r\n                month = 0;\r\n                day = 1;\r\n                hour = 0;\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"week\":\r\n                if (!$type.isNumber(firstDateOfWeek)) {\r\n                    firstDateOfWeek = 1;\r\n                }\r\n                if (weekday >= firstDateOfWeek) {\r\n                    day = day - weekday + firstDateOfWeek;\r\n                }\r\n                else {\r\n                    day = day - (7 + weekday) + firstDateOfWeek;\r\n                }\r\n                hour = 0;\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n        }\r\n        date = new Date(year, month, day, hour, minute, second, millisecond);\r\n        // fix to solve #101989\r\n        const newTime = date.getTime();\r\n        let hDuration = 3600000;\r\n        if (unit == \"hour\") {\r\n            hDuration = 3600000 * count;\r\n        }\r\n        if (newTime + hDuration <= initialTime) {\r\n            if (unit == \"hour\" || unit == \"minute\" || unit == \"second\" || unit == \"millisecond\") {\r\n                date = new Date(newTime + hDuration);\r\n            }\r\n        }\r\n        // end of fix\r\n        let newTimeZoneOffset = date.getTimezoneOffset();\r\n        let newTzoffset = timezone.offsetUTC(date);\r\n        let newDiff = newTzoffset - newTimeZoneOffset;\r\n        if (newDiff != offsetDif) {\r\n            date.setTime(date.getTime() + (newDiff - offsetDif) * 60000);\r\n        }\r\n        return date;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function chooseInterval(index, duration, gridCount, intervals) {\r\n    let gridInterval = intervals[index];\r\n    let intervalDuration = getIntervalDuration(gridInterval);\r\n    let lastIndex = intervals.length - 1;\r\n    if (index >= lastIndex) {\r\n        return Object.assign({}, intervals[lastIndex]);\r\n    }\r\n    let count = Math.ceil(duration / intervalDuration);\r\n    if (duration < intervalDuration && index > 0) {\r\n        return Object.assign({}, intervals[index - 1]);\r\n    }\r\n    if (count <= gridCount) {\r\n        return Object.assign({}, intervals[index]);\r\n    }\r\n    else {\r\n        if (index + 1 < intervals.length) {\r\n            return chooseInterval(index + 1, duration, gridCount, intervals);\r\n        }\r\n        else {\r\n            return Object.assign({}, intervals[index]);\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getUnitValue(date, unit) {\r\n    switch (unit) {\r\n        case \"day\":\r\n            return date.getDate();\r\n        case \"second\":\r\n            return date.getSeconds();\r\n        case \"millisecond\":\r\n            return date.getMilliseconds();\r\n        case \"hour\":\r\n            return date.getHours();\r\n        case \"minute\":\r\n            return date.getMinutes();\r\n        case \"month\":\r\n            return date.getMonth();\r\n        case \"year\":\r\n            return date.getFullYear();\r\n        case \"week\":\r\n            return $utils.getWeek(date);\r\n    }\r\n}\r\n//# sourceMappingURL=Time.js.map","import { __awaiter } from \"tslib\";\r\nimport { Component } from \"../../core/render/Component\";\r\nimport { List } from \"../../core/util/List\";\r\nimport { Color } from \"../../core/util/Color\";\r\nimport { percentInterpolate } from \"../../core/util/Animation\";\r\nimport { Percent } from \"../../core/util/Percent\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { Label } from \"../../core/render/Label\";\r\n//import { Animations } from \"../../core/util/Animation\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $time from \"../../core/util/Time\";\r\n/**\r\n * A base class for all series.\r\n */\r\nexport class Series extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_aggregatesCalculated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_selectionAggregatesCalculated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataProcessed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_psi\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_pei\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_baseSeriesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A chart series belongs to.\r\n         */\r\n        Object.defineProperty(this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * List of bullets to use for the series.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/} for more info\r\n         */\r\n        Object.defineProperty(this, \"bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new List()\r\n        });\r\n        /**\r\n         * A [[Container]] series' bullets are stored in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(this._root, { width: p100, height: p100, position: \"absolute\" })\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this.valueFields.push(\"value\", \"customValue\");\r\n        super._afterNew();\r\n        this.setPrivate(\"customData\", {});\r\n        this._disposers.push(this.bullets.events.onAll(() => {\r\n            this._handleBullets(this.dataItems);\r\n        }));\r\n    }\r\n    _dispose() {\r\n        this.bulletsContainer.dispose(); // can be in a different parent\r\n        super._dispose();\r\n    }\r\n    startIndex() {\r\n        let len = this.dataItems.length;\r\n        return Math.min(this.getPrivate(\"startIndex\", 0), len);\r\n    }\r\n    endIndex() {\r\n        let len = this.dataItems.length;\r\n        return Math.max(0, Math.min(this.getPrivate(\"endIndex\", len), len));\r\n    }\r\n    _handleBullets(dataItems) {\r\n        $array.each(dataItems, (dataItem) => {\r\n            const bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                $array.each(bullets, (bullet) => {\r\n                    bullet.dispose();\r\n                });\r\n                dataItem.bullets = undefined;\r\n            }\r\n        });\r\n        this.markDirtyValues();\r\n    }\r\n    _makeBullets(dataItem) {\r\n        if (this._shouldMakeBullet(dataItem)) {\r\n            dataItem.bullets = [];\r\n            this.bullets.each((bulletFunction) => {\r\n                this._makeBullet(dataItem, bulletFunction);\r\n            });\r\n        }\r\n    }\r\n    _shouldMakeBullet(_dataItem) {\r\n        return true;\r\n    }\r\n    _makeBullet(dataItem, bulletFunction, index) {\r\n        const bullet = bulletFunction(this._root, this, dataItem);\r\n        if (bullet) {\r\n            bullet._index = index;\r\n            this._makeBulletReal(dataItem, bullet);\r\n        }\r\n        return bullet;\r\n    }\r\n    _makeBulletReal(dataItem, bullet) {\r\n        let sprite = bullet.get(\"sprite\");\r\n        if (sprite) {\r\n            sprite._setDataItem(dataItem);\r\n            sprite.setRaw(\"position\", \"absolute\");\r\n            this.bulletsContainer.children.push(sprite);\r\n        }\r\n        bullet.series = this;\r\n        dataItem.bullets.push(bullet);\r\n    }\r\n    /**\r\n     * Adds bullet directly to a data item.\r\n     *\r\n     * Please note: method accepts [[Bullet]] instance as a paramter, not a\r\n     * reference to a function.\r\n     *\r\n     * You should add Bullet instance, not a method like you do it on series.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/#Adding_directly_to_data_item} for more info\r\n     * @since 5.6.0\r\n     *\r\n     * @param  dataItem  Target data item\r\n     * @param  bullet    Bullet instance\r\n     */\r\n    addBullet(dataItem, bullet) {\r\n        if (!dataItem.bullets) {\r\n            dataItem.bullets = [];\r\n        }\r\n        if (bullet) {\r\n            this._makeBulletReal(dataItem, bullet);\r\n        }\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._aggregatesCalculated = false;\r\n        this._baseSeriesDirty = false;\r\n        this._selectionAggregatesCalculated = false;\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        let startIndex = this.startIndex();\r\n        let endIndex = this.endIndex();\r\n        if (this.isDirty(\"name\")) {\r\n            this.updateLegendValue();\r\n        }\r\n        if (this.isDirty(\"heatRules\")) {\r\n            this._valuesDirty = true;\r\n        }\r\n        if (this.isPrivateDirty(\"baseValueSeries\")) {\r\n            const baseValueSeries = this.getPrivate(\"baseValueSeries\");\r\n            if (baseValueSeries) {\r\n                this._disposers.push(baseValueSeries.onPrivate(\"startIndex\", () => {\r\n                    this._baseSeriesDirty = true;\r\n                    this.markDirtyValues();\r\n                }));\r\n            }\r\n        }\r\n        const calculateAggregates = this.get(\"calculateAggregates\");\r\n        if (calculateAggregates) {\r\n            if (this._valuesDirty && !this._dataProcessed) {\r\n                if (!this._aggregatesCalculated) {\r\n                    this._calculateAggregates(0, this.dataItems.length);\r\n                    this._aggregatesCalculated = true;\r\n                    if (startIndex != 0) {\r\n                        this._psi = undefined;\r\n                    }\r\n                }\r\n            }\r\n            if ((this._psi != startIndex || this._pei != endIndex || this.isPrivateDirty(\"adjustedStartIndex\")) && !this._selectionAggregatesCalculated) {\r\n                if (startIndex === 0 && endIndex === this.dataItems.length && this._aggregatesCalculated) {\r\n                    // void\r\n                }\r\n                else {\r\n                    this._calculateAggregates(startIndex, endIndex);\r\n                }\r\n                this._selectionAggregatesCalculated = true;\r\n            }\r\n        }\r\n        if (this.isDirty(\"tooltip\")) {\r\n            let tooltip = this.get(\"tooltip\");\r\n            if (tooltip) {\r\n                tooltip.hide(0);\r\n                tooltip.set(\"tooltipTarget\", this);\r\n            }\r\n        }\r\n        if (this.isDirty(\"fill\") || this.isDirty(\"stroke\")) {\r\n            let markerRectangle;\r\n            const legendDataItem = this.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                markerRectangle = legendDataItem.get(\"markerRectangle\");\r\n                if (markerRectangle) {\r\n                    if (this.isVisible()) {\r\n                        if (this.isDirty(\"stroke\")) {\r\n                            let stroke = this.get(\"stroke\");\r\n                            markerRectangle.set(\"stroke\", stroke);\r\n                        }\r\n                        if (this.isDirty(\"fill\")) {\r\n                            let fill = this.get(\"fill\");\r\n                            markerRectangle.set(\"fill\", fill);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.updateLegendMarker(undefined);\r\n        }\r\n        if (this.bullets.length > 0) {\r\n            let startIndex = this.startIndex();\r\n            let endIndex = this.endIndex();\r\n            if (endIndex < this.dataItems.length) {\r\n                endIndex++;\r\n            }\r\n            for (let i = startIndex; i < endIndex; i++) {\r\n                let dataItem = this.dataItems[i];\r\n                if (!dataItem.bullets) {\r\n                    this._makeBullets(dataItem);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handleRemoved() {\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _adjustStartIndex(index) {\r\n        return index;\r\n    }\r\n    _calculateAggregates(startIndex, endIndex) {\r\n        let fields = this._valueFields;\r\n        if (!fields) {\r\n            throw new Error(\"No value fields are set for the series.\");\r\n        }\r\n        const excludeFromAggregate = this.get(\"excludeFromAggregate\");\r\n        if (excludeFromAggregate) {\r\n            fields = fields.filter((field) => {\r\n                return excludeFromAggregate.indexOf(field) == -1;\r\n            });\r\n        }\r\n        const sum = {};\r\n        const absSum = {};\r\n        const count = {};\r\n        const low = {};\r\n        const high = {};\r\n        const open = {};\r\n        const close = {};\r\n        const average = {};\r\n        const previous = {};\r\n        for (let f = 0, flen = fields.length; f < flen; f++) {\r\n            let key = fields[f];\r\n            sum[key] = 0;\r\n            absSum[key] = 0;\r\n            count[key] = 0;\r\n        }\r\n        const dataItems = this.dataItems;\r\n        const len = dataItems.length;\r\n        for (let f = 0, flen = fields.length; f < flen; f++) {\r\n            let key = fields[f];\r\n            let change = key + \"Change\";\r\n            let changePercent = key + \"ChangePercent\";\r\n            let changePrevious = key + \"ChangePrevious\";\r\n            let changePreviousPercent = key + \"ChangePreviousPercent\";\r\n            let changeSelection = key + \"ChangeSelection\";\r\n            let changeSelectionPercent = key + \"ChangeSelectionPercent\";\r\n            let openKey = \"valueY\";\r\n            if (key === \"valueX\" || key.endsWith(\"ValueX\")) {\r\n                openKey = \"valueX\";\r\n            }\r\n            const baseValueSeries = this.getPrivate(\"baseValueSeries\");\r\n            const adjustedStartIndex = this.getPrivate(\"adjustedStartIndex\", startIndex);\r\n            const calculateChangesForItem = (dataItem, value, key) => {\r\n                if (startIndex === 0) {\r\n                    const openValue = open[openKey];\r\n                    const changeValue = value - openValue;\r\n                    dataItem.setRaw((change), changeValue);\r\n                    dataItem.setRaw((changePercent), changeValue / openValue * 100);\r\n                }\r\n                const changePreviousValue = value - previous[openKey];\r\n                const changeSelectionValue = value - open[openKey];\r\n                dataItem.setRaw((changePrevious), changePreviousValue);\r\n                dataItem.setRaw((changePreviousPercent), changePreviousValue / previous[openKey] * 100);\r\n                dataItem.setRaw((changeSelection), changeSelectionValue);\r\n                dataItem.setRaw((changeSelectionPercent), changeSelectionValue / open[openKey] * 100);\r\n                previous[key] = value;\r\n            };\r\n            // find first non-null value to initialize open, low, high instead of checking in loop\r\n            for (let i = adjustedStartIndex; i < endIndex; i++) {\r\n                const dataItem = dataItems[i];\r\n                if (dataItem) {\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        if (low[key] == null) {\r\n                            low[key] = value;\r\n                        }\r\n                        if (high[key] == null) {\r\n                            high[key] = value;\r\n                        }\r\n                        if (open[key] == null) {\r\n                            open[key] = value;\r\n                            previous[key] = value;\r\n                            if (baseValueSeries) {\r\n                                open[openKey] = baseValueSeries._getBase(openKey);\r\n                            }\r\n                        }\r\n                        // stop cycle\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            for (let i = adjustedStartIndex; i < endIndex; i++) {\r\n                const dataItem = dataItems[i];\r\n                if (dataItem) {\r\n                    let value = dataItem._settings[key];\r\n                    if (value != null) {\r\n                        count[key]++;\r\n                        sum[key] += value;\r\n                        absSum[key] += Math.abs(value);\r\n                        if (low[key] > value) {\r\n                            low[key] = value;\r\n                        }\r\n                        if (high[key] < value) {\r\n                            high[key] = value;\r\n                        }\r\n                        close[key] = value;\r\n                        calculateChangesForItem(dataItem, value, key);\r\n                    }\r\n                }\r\n            }\r\n            average[key] = sum[key] / count[key];\r\n            if (endIndex < len) {\r\n                const dataItem = dataItems[endIndex];\r\n                if (dataItem) {\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        calculateChangesForItem(dataItem, value, key);\r\n                    }\r\n                }\r\n            }\r\n            if (endIndex + 1 < len) {\r\n                const dataItem = dataItems[endIndex + 1];\r\n                if (dataItem) {\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        calculateChangesForItem(dataItem, value, key);\r\n                    }\r\n                }\r\n            }\r\n            if (startIndex > 0) {\r\n                startIndex--;\r\n            }\r\n            delete previous[key];\r\n            for (let i = startIndex; i < adjustedStartIndex; i++) {\r\n                const dataItem = dataItems[i];\r\n                if (dataItem) {\r\n                    let value = dataItem.get(key);\r\n                    if (previous[key] == null) {\r\n                        previous[key] = value;\r\n                    }\r\n                    if (value != null) {\r\n                        calculateChangesForItem(dataItem, value, key);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        for (let f = 0, flen = fields.length; f < flen; f++) {\r\n            let key = fields[f];\r\n            this.setPrivate((key + \"AverageSelection\"), average[key]);\r\n            this.setPrivate((key + \"CountSelection\"), count[key]);\r\n            this.setPrivate((key + \"SumSelection\"), sum[key]);\r\n            this.setPrivate((key + \"AbsoluteSumSelection\"), absSum[key]);\r\n            this.setPrivate((key + \"LowSelection\"), low[key]);\r\n            this.setPrivate((key + \"HighSelection\"), high[key]);\r\n            this.setPrivate((key + \"OpenSelection\"), open[key]);\r\n            this.setPrivate((key + \"CloseSelection\"), close[key]);\r\n        }\r\n        if (startIndex === 0 && endIndex === len) {\r\n            for (let f = 0, flen = fields.length; f < flen; f++) {\r\n                let key = fields[f];\r\n                this.setPrivate((key + \"Average\"), average[key]);\r\n                this.setPrivate((key + \"Count\"), count[key]);\r\n                this.setPrivate((key + \"Sum\"), sum[key]);\r\n                this.setPrivate((key + \"AbsoluteSum\"), absSum[key]);\r\n                this.setPrivate((key + \"Low\"), low[key]);\r\n                this.setPrivate((key + \"High\"), high[key]);\r\n                this.setPrivate((key + \"Open\"), open[key]);\r\n                this.setPrivate((key + \"Close\"), close[key]);\r\n            }\r\n        }\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        this._psi = this.startIndex();\r\n        this._pei = this.endIndex();\r\n        if (this.isDirty(\"visible\")) {\r\n            this.bulletsContainer.set(\"visible\", this.get(\"visible\"));\r\n        }\r\n        // Apply heat rules\r\n        const rules = this.get(\"heatRules\");\r\n        if (this._valuesDirty && rules && rules.length > 0) {\r\n            $array.each(rules, (rule) => {\r\n                const minValue = rule.minValue || this.getPrivate((rule.dataField + \"Low\")) || 0;\r\n                const maxValue = rule.maxValue || this.getPrivate((rule.dataField + \"High\")) || 0;\r\n                $array.each(rule.target._entities, (target) => {\r\n                    const value = target.dataItem.get(rule.dataField);\r\n                    if (!$type.isNumber(value)) {\r\n                        if (rule.neutral) {\r\n                            target.set(rule.key, rule.neutral);\r\n                        }\r\n                        const states = target.states;\r\n                        if (states) {\r\n                            const defaultState = states.lookup(\"default\");\r\n                            if (defaultState && rule.neutral) {\r\n                                defaultState.set(rule.key, rule.neutral);\r\n                            }\r\n                        }\r\n                        if (!rule.customFunction) {\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (rule.customFunction) {\r\n                        rule.customFunction.call(this, target, minValue, maxValue, value);\r\n                    }\r\n                    else {\r\n                        let percent;\r\n                        if (rule.logarithmic) {\r\n                            percent = (Math.log(value) * Math.LOG10E - Math.log(minValue) * Math.LOG10E) / ((Math.log(maxValue) * Math.LOG10E - Math.log(minValue) * Math.LOG10E));\r\n                        }\r\n                        else {\r\n                            percent = (value - minValue) / (maxValue - minValue);\r\n                        }\r\n                        if ($type.isNumber(value) && (!$type.isNumber(percent) || Math.abs(percent) == Infinity)) {\r\n                            percent = 0.5;\r\n                        }\r\n                        // fixes problems if all values are the same\r\n                        let propertyValue;\r\n                        if ($type.isNumber(rule.min)) {\r\n                            propertyValue = rule.min + (rule.max - rule.min) * percent;\r\n                        }\r\n                        else if (rule.min instanceof Color) {\r\n                            propertyValue = Color.interpolate(percent, rule.min, rule.max);\r\n                        }\r\n                        else if (rule.min instanceof Percent) {\r\n                            propertyValue = percentInterpolate(percent, rule.min, rule.max);\r\n                        }\r\n                        target.set(rule.key, propertyValue);\r\n                        const states = target.states;\r\n                        if (states) {\r\n                            const defaultState = states.lookup(\"default\");\r\n                            if (defaultState) {\r\n                                defaultState.set(rule.key, propertyValue);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        if (this.get(\"visible\")) {\r\n            let count = this.dataItems.length;\r\n            let startIndex = this.startIndex();\r\n            let endIndex = this.endIndex();\r\n            if (endIndex < count) {\r\n                endIndex++;\r\n            }\r\n            if (startIndex > 0) {\r\n                startIndex--;\r\n            }\r\n            for (let i = 0; i < startIndex; i++) {\r\n                this._hideBullets(this.dataItems[i]);\r\n            }\r\n            for (let i = startIndex; i < endIndex; i++) {\r\n                this._positionBullets(this.dataItems[i]);\r\n            }\r\n            for (let i = endIndex; i < count; i++) {\r\n                this._hideBullets(this.dataItems[i]);\r\n            }\r\n        }\r\n    }\r\n    _positionBullets(dataItem) {\r\n        if (dataItem.bullets) {\r\n            $array.each(dataItem.bullets, (bullet) => {\r\n                this._positionBullet(bullet);\r\n                const sprite = bullet.get(\"sprite\");\r\n                if (bullet.get(\"dynamic\")) {\r\n                    if (sprite) {\r\n                        sprite._markDirtyKey(\"fill\");\r\n                        sprite.markDirtySize();\r\n                    }\r\n                    if (sprite instanceof Container) {\r\n                        sprite.walkChildren((child) => {\r\n                            child._markDirtyKey(\"fill\");\r\n                            child.markDirtySize();\r\n                            if (child instanceof Label) {\r\n                                child.text.markDirtyText();\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                if (sprite instanceof Label && sprite.get(\"populateText\")) {\r\n                    sprite.text.markDirtyText();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _hideBullets(dataItem) {\r\n        if (dataItem.bullets) {\r\n            $array.each(dataItem.bullets, (bullet) => {\r\n                let sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite.setPrivate(\"visible\", false);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _positionBullet(_bullet) {\r\n    }\r\n    _placeBulletsContainer(chart) {\r\n        chart.bulletsContainer.children.moveValue(this.bulletsContainer);\r\n    }\r\n    _removeBulletsContainer() {\r\n        const bulletsContainer = this.bulletsContainer;\r\n        if (bulletsContainer.parent) {\r\n            bulletsContainer.parent.children.removeValue(bulletsContainer);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        //super.disposeDataItem(dataItem); // does nothing\r\n        const bullets = dataItem.bullets;\r\n        if (bullets) {\r\n            $array.each(bullets, (bullet) => {\r\n                bullet.dispose();\r\n            });\r\n            dataItem.bullets = undefined;\r\n        }\r\n    }\r\n    _getItemReaderLabel() {\r\n        return \"\";\r\n    }\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    showDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            showDataItem: { get: () => super.showDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.showDataItem.call(this, dataItem, duration)];\r\n            const bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                $array.each(bullets, (bullet) => {\r\n                    const sprite = bullet.get(\"sprite\");\r\n                    if (sprite) {\r\n                        promises.push(sprite.show(duration));\r\n                    }\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    hideDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            hideDataItem: { get: () => super.hideDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.hideDataItem.call(this, dataItem, duration)];\r\n            const bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                $array.each(bullets, (bullet) => {\r\n                    const sprite = bullet.get(\"sprite\");\r\n                    if (sprite) {\r\n                        promises.push(sprite.hide(duration));\r\n                    }\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    _sequencedShowHide(show, duration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.get(\"sequencedInterpolation\")) {\r\n                if (!$type.isNumber(duration)) {\r\n                    duration = this.get(\"interpolationDuration\", 0);\r\n                }\r\n                if (duration > 0) {\r\n                    const startIndex = this.startIndex();\r\n                    const endIndex = this.endIndex();\r\n                    yield Promise.all($array.map(this.dataItems, (dataItem, i) => __awaiter(this, void 0, void 0, function* () {\r\n                        let realDuration = duration || 0;\r\n                        if (i < startIndex - 10 || i > endIndex + 10) {\r\n                            realDuration = 0;\r\n                        }\r\n                        //let delay = this.get(\"sequencedDelay\", 0) * i + realDuration * (i - startIndex) / (endIndex - startIndex);\r\n                        let delay = this.get(\"sequencedDelay\", 0) + realDuration / (endIndex - startIndex);\r\n                        yield $time.sleep(delay * (i - startIndex));\r\n                        if (show) {\r\n                            yield this.showDataItem(dataItem, realDuration);\r\n                        }\r\n                        else {\r\n                            yield this.hideDataItem(dataItem, realDuration);\r\n                        }\r\n                    })));\r\n                }\r\n                else {\r\n                    yield Promise.all($array.map(this.dataItems, (dataItem) => {\r\n                        if (show) {\r\n                            return this.showDataItem(dataItem, 0);\r\n                        }\r\n                        else {\r\n                            return this.hideDataItem(dataItem, 0);\r\n                        }\r\n                    }));\r\n                }\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLegendValue(dataItem) {\r\n        if (dataItem) {\r\n            const legendDataItem = dataItem.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                const valueLabel = legendDataItem.get(\"valueLabel\");\r\n                if (valueLabel) {\r\n                    const text = valueLabel.text;\r\n                    let txt = \"\";\r\n                    valueLabel._setDataItem(dataItem);\r\n                    txt = this.get(\"legendValueText\", text.get(\"text\", \"\"));\r\n                    valueLabel.set(\"text\", txt);\r\n                    text.markDirtyText();\r\n                }\r\n                const label = legendDataItem.get(\"label\");\r\n                if (label) {\r\n                    const text = label.text;\r\n                    let txt = \"\";\r\n                    label._setDataItem(dataItem);\r\n                    txt = this.get(\"legendLabelText\", text.get(\"text\", \"\"));\r\n                    label.set(\"text\", txt);\r\n                    text.markDirtyText();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLegendMarker(_dataItem) {\r\n    }\r\n    _onHide() {\r\n        super._onHide();\r\n        const tooltip = this.getTooltip();\r\n        if (tooltip) {\r\n            tooltip.hide();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    hoverDataItem(_dataItem) { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    unhoverDataItem(_dataItem) { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _getBase(key) {\r\n        const dataItem = this.dataItems[this.startIndex()];\r\n        if (dataItem) {\r\n            return dataItem.get(key);\r\n        }\r\n        return 0;\r\n    }\r\n}\r\nObject.defineProperty(Series, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Series\"\r\n});\r\nObject.defineProperty(Series, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Component.classNames.concat([Series.className])\r\n});\r\n//# sourceMappingURL=Series.js.map","/** @ignore */ /** */\r\nimport * as $math from \"./Math\";\r\n/**\r\n * @ignore\r\n */\r\nexport function segmentedLine(display, segments) {\r\n    for (let s = 0, len = segments.length; s < len; s++) {\r\n        const groups = segments[s];\r\n        if (groups.length > 0) {\r\n            let firstGroup = groups[0];\r\n            if (firstGroup.length > 0) {\r\n                let firstPoint = firstGroup[0];\r\n                display.moveTo(firstPoint.x, firstPoint.y);\r\n                for (let g = 0, len = groups.length; g < len; g++) {\r\n                    line(display, groups[g]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function line(display, points) {\r\n    for (let p = 0, len = points.length; p < len; p++) {\r\n        const point = points[p];\r\n        display.lineTo(point.x, point.y);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function moveTo(display, point) {\r\n    display.moveTo(point.x, point.y);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function clear(display) {\r\n    display.clear();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function smoothedSegmentedline(display, segments, tensionX, tensionY) {\r\n    for (let s = 0, len = segments.length; s < len; s++) {\r\n        const groups = segments[s];\r\n        if (groups.length > 0) {\r\n            let firstGroup = groups[0];\r\n            if (firstGroup.length > 0) {\r\n                let firstPoint = firstGroup[0];\r\n                display.moveTo(firstPoint.x, firstPoint.y);\r\n                for (let g = 0, len = groups.length; g < len; g++) {\r\n                    const points = groups[g];\r\n                    if (points.length > 0) {\r\n                        display.lineTo(points[0].x, points[0].y);\r\n                    }\r\n                    smoothedLine(display, points, tensionX, tensionY);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function smoothedLine(display, points, tensionX, tensionY) {\r\n    for (let i = points.length - 1; i > 0; i--) {\r\n        let p0 = points[i];\r\n        let p1 = points[i - 1];\r\n        if (Math.abs(p0.x - p1.x) < 0.1 && Math.abs(p0.y - p1.y) < 0.1) {\r\n            points.splice(i - 1, 1);\r\n        }\r\n    }\r\n    if (points.length < 3 || (tensionX >= 1 && tensionY >= 1)) {\r\n        line(display, points);\r\n        return;\r\n    }\r\n    tensionX = 1 - tensionX + 0.00001;\r\n    tensionY = 1 - tensionY + 0.00001;\r\n    let first = points[0];\r\n    let last = points[points.length - 1];\r\n    let closed = false;\r\n    if ($math.round(first.x, 3) == $math.round(last.x) && $math.round(first.y) == $math.round(last.y)) {\r\n        closed = true;\r\n    }\r\n    // Can't moveTo here, as it wont be possible to have fill then.\r\n    let path = \"\";\r\n    for (let i = 0, len = points.length - 1; i < len; i++) {\r\n        let p0 = points[i - 1];\r\n        let p1 = points[i];\r\n        let p2 = points[i + 1];\r\n        let p3 = points[i + 2];\r\n        if (i === 0) {\r\n            if (closed) {\r\n                p0 = points[len - 2];\r\n            }\r\n            else {\r\n                p0 = points[0];\r\n            }\r\n        }\r\n        else if (i == len - 1) {\r\n            if (closed) {\r\n                p3 = points[1];\r\n            }\r\n            else {\r\n                p3 = p2;\r\n            }\r\n        }\r\n        let controlPointA = $math.getCubicControlPointA(p0, p1, p2, tensionX, tensionY);\r\n        let controlPointB = $math.getCubicControlPointB(p1, p2, p3, tensionX, tensionY);\r\n        display.bezierCurveTo(controlPointA.x, controlPointA.y, controlPointB.x, controlPointB.y, p2.x, p2.y);\r\n    }\r\n    return path;\r\n}\r\n//# sourceMappingURL=Draw.js.map","import { Graphics } from \"./Graphics\";\r\nimport * as $draw from \"../util/Draw\";\r\n/**\r\n * Draws a line.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nexport class Line extends Graphics {\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"points\") || this.isDirty(\"segments\") || this._sizeDirty || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            const points = this.get(\"points\");\r\n            const segments = this.get(\"segments\");\r\n            if (points && points.length > 0) {\r\n                let point = points[0];\r\n                this._display.moveTo(point.x, point.y);\r\n                $draw.segmentedLine(this._display, [[points]]);\r\n            }\r\n            else if (segments) {\r\n                $draw.segmentedLine(this._display, segments);\r\n            }\r\n            else if (!this.get(\"draw\")) {\r\n                let w = this.width();\r\n                let h = this.height();\r\n                this._display.moveTo(0, 0);\r\n                this._display.lineTo(w, h);\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Line, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Line\"\r\n});\r\nObject.defineProperty(Line, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Graphics.classNames.concat([Line.className])\r\n});\r\n//# sourceMappingURL=Line.js.map","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n","import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n","import { Container } from \"../../core/render/Container\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\n/**\r\n * A base class for all charts.\r\n */\r\nexport class Chart extends Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A [[Container]] chart places its elements in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"chartContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, { width: p100, height: p100, interactiveChildren: false }))\r\n        });\r\n        /**\r\n         * A [[Container]] chart places its bullets in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(this._root, { interactiveChildren: false, isMeasured: false, position: \"absolute\", width: p100, height: p100 })\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(Chart, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Chart\"\r\n});\r\nObject.defineProperty(Chart, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Container.classNames.concat([Chart.className])\r\n});\r\n//# sourceMappingURL=Chart.js.map","import { Chart } from \"./Chart\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { ListAutoDispose } from \"../../core/util/List\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport * as $array from \"../../core/util/Array\";\r\n/**\r\n * A base class for all series-based charts.\r\n */\r\nexport class SerialChart extends Chart {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A [[Container]] where chart will store all series.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"seriesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(this._root, { width: p100, height: p100, isMeasured: false })\r\n        });\r\n        /**\r\n         * A list of chart's series.\r\n         */\r\n        Object.defineProperty(this, \"series\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListAutoDispose()\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._disposers.push(this.series);\r\n        const children = this.seriesContainer.children;\r\n        this._disposers.push(this.series.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                $array.each(change.oldValues, (series) => {\r\n                    this._removeSeries(series);\r\n                });\r\n                const colors = this.get(\"colors\");\r\n                if (colors) {\r\n                    colors.reset();\r\n                }\r\n                const patterns = this.get(\"patterns\");\r\n                if (patterns) {\r\n                    patterns.reset();\r\n                }\r\n            }\r\n            else if (change.type === \"push\") {\r\n                children.moveValue(change.newValue);\r\n                this._processSeries(change.newValue);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                children.setIndex(change.index, change.newValue);\r\n                this._processSeries(change.newValue);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                children.insertIndex(change.index, change.newValue);\r\n                this._processSeries(change.newValue);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._removeSeries(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                children.moveValue(change.value, change.newIndex);\r\n                this._processSeries(change.value);\r\n            }\r\n            else if (change.type === \"swap\") {\r\n                const a = change.a;\r\n                const b = change.b;\r\n                const aIndex = this.series.indexOf(a);\r\n                const bIndex = this.series.indexOf(b);\r\n                children.moveValue(a, bIndex);\r\n                children.moveValue(b, aIndex);\r\n                this.series.each((series) => {\r\n                    this._processSeries(series);\r\n                    series.markDirtyValues();\r\n                });\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IListEvent type\");\r\n            }\r\n        }));\r\n    }\r\n    _processSeries(series) {\r\n        series.chart = this;\r\n        series._placeBulletsContainer(this);\r\n    }\r\n    _removeSeries(series) {\r\n        series._handleRemoved();\r\n        if (!series.isDisposed()) {\r\n            this.seriesContainer.children.removeValue(series);\r\n            series._removeBulletsContainer();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(SerialChart, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"SerialChart\"\r\n});\r\nObject.defineProperty(SerialChart, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Chart.classNames.concat([SerialChart.className])\r\n});\r\n//# sourceMappingURL=SerialChart.js.map","import { Line } from \"./Line\";\r\n/**\r\n * Draws a tick element (mostly used on axes).\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n */\r\nexport class Tick extends Line {\r\n}\r\nObject.defineProperty(Tick, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Tick\"\r\n});\r\nObject.defineProperty(Tick, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Line.classNames.concat([Tick.className])\r\n});\r\n//# sourceMappingURL=Tick.js.map"],"names":["ListData","List","newValue","index","oldValue","DataItem","Settings","component","dataContext","settings","duration","Component","Container","data","change","dataItems","$array.each","dataItem","properties","$object.keys","key","_dataItem","output","field","_duration","__awaiter","type","id","$array.find","sleep","ms","resolve","_reject","round","date","unit","count","firstDateOfWeek","utc","firstDate","timezone","timeZoneOffset","day","seconds","milliseconds","hours","minutes","month","year","wday","weekDay","$type.isNumber","newTimeZoneOffset","diff","initialTime","tzoffset","parsedDate","hour","minute","second","millisecond","weekday","offsetDif","newTime","hDuration","newDiff","Series","p100","len","bullets","bullet","bulletFunction","sprite","startIndex","endIndex","baseValueSeries","tooltip","markerRectangle","legendDataItem","stroke","fill","i","fields","excludeFromAggregate","sum","absSum","low","high","open","close","average","previous","flen","changePercent","changePrevious","changePreviousPercent","changeSelection","changeSelectionPercent","openKey","adjustedStartIndex","calculateChangesForItem","value","openValue","changeValue","changePreviousValue","changeSelectionValue","rules","rule","minValue","maxValue","target","states","defaultState","percent","propertyValue","Color","Percent","percentInterpolate","child","Label","_bullet","chart","bulletsContainer","_super","promises","show","$array.map","realDuration","delay","$time.sleep","valueLabel","text","txt","label","segmentedLine","display","segments","s","groups","firstGroup","firstPoint","g","line","points","p","point","Line","Graphics","$draw.segmentedLine","w","h","constant","x","pi","tau","epsilon","tauEpsilon","append","strings","n","appendRound","digits","d","k","Path","y","x1","y1","x2","y2","x0","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","l","t01","t21","r","a0","a1","ccw","dx","dy","cw","da","withPath","shape","_","Chart","SerialChart","ListAutoDispose","children","series","colors","patterns","a","b","aIndex","bIndex","Tick"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11]}