{"version":3,"file":"displayFilterUtils-p-3UabHV.js","sources":["../../node_modules/@arcgis/core/layers/support/displayFilterUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{floatGreaterThan as e,floatLessThan as n,floatEqualAbsolute as t,floatGreaterThanOrEqual as r}from\"../../core/mathUtils.js\";import{sqlOr as o}from\"../../core/sql.js\";function i(e,n){return{...n,filterMode:e.mode}}function u(e,n){return l(e,n).next().value??null}function c(t,r,i){const u=f(t);if(u&&(e(r,u[0])||n(i,u[1])))return\"\";const c=Array.from(l(t,r,i)),m=a(c,r,i)?\"1=1\":c.map(e=>e.where||\"1=1\").reduce((e,n)=>o(e,n),\"\");return m&&\"1=1\"!==m?m:\"\"}function f(e){if(\"manual\"===s(e))return null;const n=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:t,maxScale:r}of e.filters)n[0]=Math.max(n[0],I(t)),n[1]=Math.min(n[1],d(r));return n}function*l(e,n,t){if(\"manual\"===s(e)){const n=e.filters.find(n=>n.id===e.activeFilterId);n&&(yield n)}else{\"object\"==typeof n&&(n=n.scale);for(const r of e.filters)m(r.minScale,r.maxScale,n,t)&&(yield r)}}function a(t,r,o){if(0===t.length)return!0;const i=I(t.at(0)?.minScale),u=d(t.at(-1)?.maxScale);if(n(i,r)||e(u,o))return!0;for(let e=0;e<t.length-1;e++){const r=t[e],o=t[e+1];if(n(I(o.minScale),d(r.maxScale)))return!0}return!1}function m(e,n,o,i){return e=I(e),o=I(o),n=d(n),!(!t(o,e)&&(i??o)>e)&&(!r(n,o)&&(void 0===i||!t(i,e)))}function s(e){return\"mode\"in e?e.mode:e.filterMode}function I(e){return e||Number.POSITIVE_INFINITY}function d(e){return e||0}export{i as createDisplayFilterJSONContext,c as getClauseForScaleRange,u as getEffectiveDisplayFilter};\n"],"names":["i","e","u","l","c","t","r","f","n","m","a","o","s","I","d"],"mappings":"yEAI6K,SAASA,EAAEC,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,WAAWA,EAAE,IAAI,CAAC,CAAC,SAASC,EAAED,EAAE,EAAE,CAAC,OAAOE,EAAEF,EAAE,CAAC,EAAE,KAAI,EAAG,OAAO,IAAI,CAAC,SAASG,EAAEC,EAAEC,EAAEN,EAAE,CAAC,MAAME,EAAEK,EAAEF,CAAC,EAAE,GAAGH,IAAID,EAAEK,EAAEJ,EAAE,CAAC,CAAC,GAAGM,EAAER,EAAEE,EAAE,CAAC,CAAC,GAAG,MAAM,GAAG,MAAM,EAAE,MAAM,KAAKC,EAAEE,EAAEC,EAAEN,CAAC,CAAC,EAAES,EAAEC,EAAE,EAAEJ,EAAEN,CAAC,EAAE,MAAM,EAAE,IAAIC,GAAGA,EAAE,OAAO,KAAK,EAAE,OAAO,CAACA,EAAEO,IAAIG,EAAEV,EAAEO,CAAC,EAAE,EAAE,EAAE,OAAOC,GAAWA,IAAR,MAAUA,EAAE,EAAE,CAAC,SAASF,EAAEN,EAAE,CAAC,GAAcW,EAAEX,CAAC,IAAd,SAAgB,OAAO,KAAK,MAAM,EAAE,CAAC,OAAO,kBAAkB,OAAO,iBAAiB,EAAE,SAAS,CAAC,SAAS,EAAE,SAASK,CAAC,IAAIL,EAAE,QAAQ,EAAE,CAAC,EAAE,KAAK,IAAI,EAAE,CAAC,EAAEY,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,KAAK,IAAI,EAAE,CAAC,EAAEC,EAAER,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,SAASH,EAAEF,EAAE,EAAE,EAAE,CAAC,GAAcW,EAAEX,CAAC,IAAd,SAAgB,CAAC,MAAMO,EAAEP,EAAE,QAAQ,KAAKO,GAAGA,EAAE,KAAKP,EAAE,cAAc,EAAEO,IAAI,MAAMA,EAAE,KAAK,CAAW,OAAO,GAAjB,WAAqB,EAAE,EAAE,OAAO,UAAUF,KAAKL,EAAE,QAAQQ,EAAEH,EAAE,SAASA,EAAE,SAAS,EAAE,CAAC,IAAI,MAAMA,EAAE,CAAC,CAAC,SAASI,EAAEL,EAAEC,EAAEK,EAAE,CAAC,GAAON,EAAE,SAAN,EAAa,MAAM,GAAG,MAAML,EAAEa,EAAER,EAAE,GAAG,CAAC,GAAG,QAAQ,EAAEH,EAAEY,EAAET,EAAE,GAAG,EAAE,GAAG,QAAQ,EAAE,GAAGG,EAAER,EAAEM,CAAC,GAAGL,EAAEC,EAAES,CAAC,EAAE,MAAM,GAAG,QAAQV,EAAE,EAAEA,EAAEI,EAAE,OAAO,EAAEJ,IAAI,CAAC,MAAMK,EAAED,EAAEJ,CAAC,EAAE,EAAEI,EAAEJ,EAAE,CAAC,EAAE,GAAGO,EAAEK,EAAE,EAAE,QAAQ,EAAEC,EAAER,EAAE,QAAQ,CAAC,EAAE,QAAQ,CAAC,MAAM,EAAE,CAAC,SAASG,EAAER,EAAE,EAAEU,EAAEX,EAAE,CAAC,OAAOC,EAAEY,EAAEZ,CAAC,EAAEU,EAAEE,EAAEF,CAAC,EAAE,EAAEG,EAAE,CAAC,EAAE,EAAE,CAACT,EAAEM,EAAEV,CAAC,IAAID,GAAGW,GAAGV,IAAK,CAACK,EAAE,EAAEK,CAAC,IAAaX,IAAT,QAAY,CAACK,EAAEL,EAAEC,CAAC,EAAG,CAAC,SAASW,EAAEX,EAAE,CAAC,MAAM,SAASA,EAAEA,EAAE,KAAKA,EAAE,UAAU,CAAC,SAASY,EAAEZ,EAAE,CAAC,OAAOA,GAAG,OAAO,iBAAiB,CAAC,SAASa,EAAEb,EAAE,CAAC,OAAOA,GAAG,CAAC","x_google_ignoreList":[0]}