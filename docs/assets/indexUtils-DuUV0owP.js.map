{"version":3,"file":"indexUtils-DuUV0owP.js","sources":["../../node_modules/@arcgis/core/chunks/vec2.js","../../node_modules/@arcgis/core/views/3d/glTF/DefaultLoadingContext.js","../../node_modules/@arcgis/core/views/3d/glTF/internal/indexUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isTypedArray as e,isFloat as t,maximumValue as r,isSigned as f}from\"../core/typedArrayUtil.js\";function o(e,t){n(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function n(o,n,l=2,u=l){const i=n.length/2;let a=0,d=0;if(!e(n)||t(n)){for(let e=0;e<i;++e)o[a]=n[d],o[a+1]=n[d+1],a+=l,d+=u;return}const c=r(n);if(f(n))for(let e=0;e<i;++e)o[a]=Math.max(n[d]/c,-1),o[a+1]=Math.max(n[d+1]/c,-1),a+=l,d+=u;else for(let e=0;e<i;++e)o[a]=n[d]/c,o[a+1]=n[d+1]/c,a+=l,d+=u}function l(e,t,r,f){const o=e.typedBuffer,n=e.typedBufferStride,l=f?.count??e.count;let u=(f?.dstIndex??0)*n;for(let i=0;i<l;++i)o[u]=t,o[u+1]=r,u+=n}const u=Object.freeze(Object.defineProperty({__proto__:null,fill:l,normalizeIntegerBuffer:n,normalizeIntegerBufferView:o},Symbol.toStringTag,{value:\"Module\"}));export{n as a,l as f,o as n,u as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport r from\"../../../request.js\";import{result as e}from\"../../../core/asyncUtils.js\";import t from\"../../../core/Error.js\";import{throwIfAborted as o,throwIfAbortError as s}from\"../../../core/promiseUtils.js\";import{isDataProtocol as a,dataToArrayBuffer as i}from\"../../../core/urlUtils.js\";class l{constructor(r){this._streamDataRequester=r}async loadJSON(r,e){return this._load(0,r,e)}async loadBinary(r,e){return a(r)?(o(e),i(r)):this._load(1,r,e)}async loadImage(r,e){return this._load(2,r,e)}async _load(o,a,i){if(null==this._streamDataRequester)return(await r(a,{responseType:n[o]})).data;const l=await e(this._streamDataRequester.request(a,o,i));if(!0===l.ok)return l.value;throw s(l.error),new t(\"glt-loader-request-error\",`Request for resource failed: ${l.error}`)}}const n={2:\"image\",1:\"array-buffer\",0:\"json\",3:void 0};export{l as DefaultLoadingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isUint8Array as r}from\"../../../../core/typedArrayUtil.js\";import{newIndexArray as t,getContinuousIndexArray as e}from\"../../../../geometry/support/Indices.js\";import{PrimitiveType as n}from\"../../../webgl/enums.js\";function o(r,t){switch(t){case n.TRIANGLES:return f(r);case n.TRIANGLE_STRIP:return u(r);case n.TRIANGLE_FAN:return i(r)}}function f(t){return\"number\"==typeof t?e(t):r(t)?new Uint16Array(t):t}function u(r){const e=\"number\"==typeof r?r:r.length;if(e<3)return[];const n=e-2,o=t(3*n);if(\"number\"==typeof r){let r=0;for(let t=0;t<n;t+=1)t%2==0?(o[r++]=t,o[r++]=t+1,o[r++]=t+2):(o[r++]=t+1,o[r++]=t,o[r++]=t+2)}else{let t=0;for(let e=0;e<n;e+=1)e%2==0?(o[t++]=r[e],o[t++]=r[e+1],o[t++]=r[e+2]):(o[t++]=r[e+1],o[t++]=r[e],o[t++]=r[e+2])}return o}function i(r){const t=\"number\"==typeof r?r:r.length;if(t<3)return new Uint16Array(0);const e=t-2,n=e<=65536?new Uint16Array(3*e):new Uint32Array(3*e);if(\"number\"==typeof r){let r=0;for(let t=0;t<e;++t)n[r++]=0,n[r++]=t+1,n[r++]=t+2;return n}const o=r[0];let f=r[1],u=0;for(let i=0;i<e;++i){const t=r[i+2];n[u++]=o,n[u++]=f,n[u++]=t,f=t}return n}export{o as convertPrimitiveToTriangles};\n"],"names":["o","n","l","u","i","a","d","e","t","c","r","f","s"],"mappings":"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","x_google_ignoreList":[0,1,2]}