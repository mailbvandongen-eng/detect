{"version":3,"file":"uikavUiterwaardenOL-B5hB6j6L.js","sources":["../../src/layers/uikavUiterwaardenOL.ts"],"sourcesContent":["import { Vector as VectorLayer } from 'ol/layer'\r\nimport { Vector as VectorSource } from 'ol/source'\r\nimport GeoJSON from 'ol/format/GeoJSON'\r\nimport { Style, Fill, Stroke, Text } from 'ol/style'\r\nimport { register } from 'ol/proj/proj4'\r\nimport proj4 from 'proj4'\r\nimport { loadGeoJSON } from '../utils/layerLoaderOL.js'\r\n\r\n// Register Dutch RD projection (EPSG:28992)\r\nproj4.defs('EPSG:28992', '+proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +towgs84=565.417,50.3319,465.552,-0.398957,0.343988,-1.8774,4.0725 +units=m +no_defs')\r\nregister(proj4)\r\n\r\n// Kleuren per rivier\r\nconst RIVIER_COLORS: Record<string, string> = {\r\n  'Maas': '#3b82f6',      // Blue\r\n  'Waal': '#10b981',      // Green\r\n  'Rijn': '#8b5cf6',      // Purple\r\n  'IJssel': '#f59e0b',    // Amber\r\n  'Lek': '#ef4444',       // Red\r\n  'Nederrijn': '#ec4899', // Pink\r\n}\r\n\r\nfunction getZoomFromResolution(resolution: number) {\r\n  return Math.round(Math.log2(156543.03392804097 / resolution))\r\n}\r\n\r\n/**\r\n * UIKAV Uiterwaarden Indeling\r\n * Indeling van uiterwaarden per rivier\r\n */\r\nexport async function createUIKAVUiterwaardenLayerOL() {\r\n  const geojson = await loadGeoJSON('/detect/data/uikav/uikav_uiterwaarden_indeling.geojson')\r\n\r\n  const source = new VectorSource({\r\n    features: new GeoJSON().readFeatures(geojson, {\r\n      dataProjection: 'EPSG:28992',\r\n      featureProjection: 'EPSG:3857'\r\n    })\r\n  })\r\n\r\n  console.log(`âœ“ UIKAV Uiterwaarden Indeling loaded (${source.getFeatures().length} areas)`)\r\n\r\n  const layer = new VectorLayer({\r\n    source: source,\r\n    title: 'UIKAV Uiterwaarden',\r\n    visible: false,\r\n    style: (feature, resolution) => {\r\n      const rivier = feature.get('rivier') || ''\r\n      const naam = feature.get('Uiterwaard') || ''\r\n      const zoom = getZoomFromResolution(resolution)\r\n\r\n      const baseColor = RIVIER_COLORS[rivier] || '#6b7280'\r\n\r\n      return new Style({\r\n        fill: new Fill({ color: baseColor + '20' }), // 12% opacity\r\n        stroke: new Stroke({ color: baseColor, width: 1.5 }),\r\n        text: zoom >= 12 ? new Text({\r\n          text: naam,\r\n          font: '11px sans-serif',\r\n          fill: new Fill({ color: baseColor }),\r\n          stroke: new Stroke({ color: 'white', width: 2 })\r\n        }) : undefined\r\n      })\r\n    },\r\n    zIndex: 8\r\n  })\r\n\r\n  return layer\r\n}\r\n"],"names":["proj4","register","RIVIER_COLORS","getZoomFromResolution","resolution","createUIKAVUiterwaardenLayerOL","geojson","loadGeoJSON","source","VectorSource","GeoJSON","VectorLayer","feature","rivier","naam","zoom","baseColor","Style","Fill","Stroke","Text"],"mappings":"kGASAA,EAAM,KAAK,aAAc,uMAAuM,EAChOC,EAASD,CAAK,EAGd,MAAME,EAAwC,CAC5C,KAAQ,UACR,KAAQ,UACR,KAAQ,UACR,OAAU,UACV,IAAO,UACP,UAAa,SACf,EAEA,SAASC,EAAsBC,EAAoB,CACjD,OAAO,KAAK,MAAM,KAAK,KAAK,mBAAqBA,CAAU,CAAC,CAC9D,CAMA,eAAsBC,GAAiC,CACrD,MAAMC,EAAU,MAAMC,EAAY,wDAAwD,EAEpFC,EAAS,IAAIC,EAAa,CAC9B,SAAU,IAAIC,IAAU,aAAaJ,EAAS,CAC5C,eAAgB,aAChB,kBAAmB,WAAA,CACpB,CAAA,CACF,EAED,eAAQ,IAAI,yCAAyCE,EAAO,cAAc,MAAM,SAAS,EAE3E,IAAIG,EAAY,CAC5B,OAAAH,EACA,MAAO,qBACP,QAAS,GACT,MAAO,CAACI,EAASR,IAAe,CAC9B,MAAMS,EAASD,EAAQ,IAAI,QAAQ,GAAK,GAClCE,EAAOF,EAAQ,IAAI,YAAY,GAAK,GACpCG,EAAOZ,EAAsBC,CAAU,EAEvCY,EAAYd,EAAcW,CAAM,GAAK,UAE3C,OAAO,IAAII,EAAM,CACf,KAAM,IAAIC,EAAK,CAAE,MAAOF,EAAY,KAAM,EAC1C,OAAQ,IAAIG,EAAO,CAAE,MAAOH,EAAW,MAAO,IAAK,EACnD,KAAMD,GAAQ,GAAK,IAAIK,EAAK,CAC1B,KAAMN,EACN,KAAM,kBACN,KAAM,IAAII,EAAK,CAAE,MAAOF,EAAW,EACnC,OAAQ,IAAIG,EAAO,CAAE,MAAO,QAAS,MAAO,EAAG,CAAA,CAChD,EAAI,MAAA,CACN,CACH,EACA,OAAQ,CAAA,CACT,CAGH"}