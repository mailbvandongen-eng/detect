import{c_ as s,c$ as l,d0 as N,br as m,d1 as S}from"./index-CGj4CZUX.js";function F(r,n){return{...n,filterMode:r.mode}}function p(r,n){return I(r,n).next().value??null}function y(r,n,t){const e=x(r);if(e&&(s(n,e[0])||l(t,e[1])))return"";const c=Array.from(I(r,n,t)),u=T(c,n,t)?"1=1":c.map(a=>a.where||"1=1").reduce((a,o)=>N(a,o),"");return u&&u!=="1=1"?u:""}function x(r){if(d(r)==="manual")return null;const n=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:t,maxScale:e}of r.filters)n[0]=Math.max(n[0],i(t)),n[1]=Math.min(n[1],f(e));return n}function*I(r,n,t){if(d(r)==="manual"){const e=r.filters.find(c=>c.id===r.activeFilterId);e&&(yield e)}else{typeof n=="object"&&(n=n.scale);for(const e of r.filters)b(e.minScale,e.maxScale,n,t)&&(yield e)}}function T(r,n,t){if(r.length===0)return!0;const e=i(r.at(0)?.minScale),c=f(r.at(-1)?.maxScale);if(l(e,n)||s(c,t))return!0;for(let u=0;u<r.length-1;u++){const a=r[u],o=r[u+1];if(l(i(o.minScale),f(a.maxScale)))return!0}return!1}function b(r,n,t,e){return r=i(r),t=i(t),n=f(n),!(!m(t,r)&&(e??t)>r)&&!S(n,t)&&(e===void 0||!m(e,r))}function d(r){return"mode"in r?r.mode:r.filterMode}function i(r){return r||Number.POSITIVE_INFINITY}function f(r){return r||0}export{y as c,F as i,p as u};
//# sourceMappingURL=displayFilterUtils-DZ0jE7Yx.js.map
