{"version":3,"mappings":"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","names":["n","t","r","l","i","o","e","s","A","j","S","p","V","x","y","M","T","u","a","U","v","h","f","m","A$1","_","b","C","d","B","O","c","g","d$4","z","P","W","R","F","E","N","$","k","L","H","I","J","G","q","D","w","__vitePreload","RibbonLine_glsl","i$1","tt","mt","pt","ut","ft","dt","gt","K","Q","et","it","at","rt","st","nt","X","Y","lt","ct","ot","ht"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22],"sources":["../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/utils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DirtyEvents.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/LocalOriginFactory.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/NoPerspective.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/stippleTextureRepository.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ensureColor4.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js","../../node_modules/@arcgis/core/views/3d/support/engineContent/marker.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/AnimatedLine.glsl.js","../../node_modules/@arcgis/core/chunks/RibbonLine.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechnique.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js","../../node_modules/@arcgis/core/views/3d/support/ElevationProvider.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction n(n){return\"position\"===n}export{n as affectsGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{encodeDoubleArray as e}from\"../../../../webgl/doublePrecisionUtils.js\";function n(t,e){return null==t&&(t=[]),t.push(e),t}function r(t,e){if(null==t)return null;const n=t.filter(t=>t!==e);return 0===n.length?null:n}function l(t,n,r,l,i){o[0]=t.get(n,0),o[1]=t.get(n,1),o[2]=t.get(n,2),e(o,s,3),r.set(i,0,s[0]),l.set(i,0,s[1]),r.set(i,1,s[2]),l.set(i,1,s[3]),r.set(i,2,s[4]),l.set(i,2,s[5])}const o=t(),s=new Float32Array(6);export{n as addObject3DStateID,l as encodeDoubleVec3,r as removeObject3DStateID};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{generateUID as t}from\"../../../../core/uid.js\";import{multiply as i,copy as e,hasIdentityRotation as s}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as o,IDENTITY as r}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{l as a,t as h,k as n,j as m,g as d,q as l,d as c}from\"../../../../chunks/vec32.js\";import{create as g,fromValues as _}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{o as u,a as f,c as b}from\"../../../../chunks/sphere.js\";import{maxScale as v}from\"../../support/mathUtils.js\";import{Object3DOccludeeStateID as p,Object3DHighlightStateID as y}from\"./Object3DStateID.js\";import{assert as j}from\"./Util.js\";import{affectsGeometry as S}from\"./VertexAttribute.js\";import{addObject3DStateID as V,removeObject3DStateID as x}from\"../materials/renderers/utils.js\";class W{constructor(i={}){this.id=t(),this._highlightIds=new Set,this._shaderTransformation=null,this._visible=!0,this.castShadow=i.castShadow??!0,this.usesVerticalDistanceToGround=i.usesVerticalDistanceToGround??!1,this.graphicUid=i.graphicUid,this.layerViewUid=i.layerViewUid,i.isElevationSource&&(this.lastValidElevationBB=new A),this._geometries=i.geometries?Array.from(i.geometries):new Array}dispose(){this._geometries.length=0}get layer(){return this._layer}set layer(t){j(null==this._layer||null==t,\"Object3D can only be added to a single Layer\"),this._layer=t}addGeometry(t){t.visible=this._visible,this._geometries.push(t);for(const i of this._highlightIds)t.addHighlight(i);this._emit(\"geometryAdded\",{object:this,geometry:t}),this._highlightIds.size&&this._emit(\"highlightChanged\",this),this._invalidateBoundingVolume()}removeGeometry(t){const i=this._geometries.splice(t,1)[0];if(i){for(const t of this._highlightIds)i.removeHighlight(t);this._emit(\"geometryRemoved\",{object:this,geometry:i}),this._highlightIds.size&&this._emit(\"highlightChanged\",this),this._invalidateBoundingVolume()}}removeAllGeometries(){for(;this._geometries.length>0;)this.removeGeometry(0)}geometryVertexAttributeUpdated(t,i,e=!1){this._emit(\"attributesChanged\",{object:this,geometry:t,attribute:i,sync:e}),S(i)&&this._invalidateBoundingVolume()}get visible(){return this._visible}set visible(t){if(this._visible!==t){this._visible=t;for(const t of this._geometries)t.visible=this._visible;this._emit(\"visibilityChanged\",this)}}maskOccludee(){const t=new p;for(const i of this._geometries)i.occludees=V(i.occludees,t);return this._emit(\"occlusionChanged\",this),t}removeOcclude(t){for(const i of this._geometries)i.occludees=x(i.occludees,t);this._emit(\"occlusionChanged\",this)}highlight(t){const i=new y(t);for(const e of this._geometries)e.addHighlight(i);return this._emit(\"highlightChanged\",this),this._highlightIds.add(i),i}removeHighlight(t){this._highlightIds.delete(t);for(const i of this._geometries)i.removeHighlight(t);this._emit(\"highlightChanged\",this)}removeStateID(t){0===t.channel?this.removeHighlight(t):this.removeOcclude(t)}getCombinedStaticTransformation(t,e){return i(e,this.transformation,t.transformation)}getCombinedShaderTransformation(t,e=o()){return i(e,this.effectiveTransformation,t.transformation)}get boundingVolumeWorldSpace(){return this._bvWorldSpace||(this._bvWorldSpace=this._bvWorldSpace||new M,this._validateBoundingVolume(this._bvWorldSpace,0)),this._bvWorldSpace}get boundingVolumeObjectSpace(){return this._bvObjectSpace||(this._bvObjectSpace=this._bvObjectSpace||new M,this._validateBoundingVolume(this._bvObjectSpace,1)),this._bvObjectSpace}_validateBoundingVolume(t,i){const e=1===i;for(const s of this._geometries){const i=s.boundingInfo;i&&T(i,t,e?s.transformation:this.getCombinedShaderTransformation(s))}u(t.bounds,a(U,t.min,t.max,.5));for(const s of this._geometries){const i=s.boundingInfo;if(null==i)continue;const o=e?s.transformation:this.getCombinedShaderTransformation(s),r=v(o);h(U,i.center,o);const a=n(U,f(t.bounds)),m=i.radius*r;t.bounds[3]=Math.max(t.bounds[3],a+m)}}_invalidateBoundingVolume(){const t=this._bvWorldSpace?.bounds;this._bvObjectSpace=this._bvWorldSpace=void 0,this.layer&&t&&this.layer.notifyObjectBBChanged(this,t)}_emit(t,i){this.layer?.events.emit(t,i)}get geometries(){return this._geometries}get transformation(){return this._transformation??r}set transformation(t){this._transformation=e(this._transformation??o(),t),this._invalidateBoundingVolume(),this._emit(\"transformationChanged\",this)}get shaderTransformation(){return this._shaderTransformation}set shaderTransformation(t){this._shaderTransformation=t?e(this._shaderTransformation??o(),t):null,this._invalidateBoundingVolume(),this._emit(\"shaderTransformationChanged\",this)}get effectiveTransformation(){return this.shaderTransformation??this.transformation}get test(){}}class A{constructor(){this._data=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE]}get min(){return _(this._data[0],this._data[1],this._data[2])}get max(){return _(this._data[3],this._data[4],this._data[5])}minWith(t){const{_data:i}=this;i[0]=Math.min(i[0],t[0]),i[1]=Math.min(i[1],t[1]),i[2]=Math.min(i[2],t[2])}maxWith(t){const{_data:i}=this;i[3]=Math.max(i[3],t[0]),i[4]=Math.max(i[4],t[1]),i[5]=Math.max(i[5],t[2])}assignMinMax(t,i){for(let e=0;e<3;++e)this._data[0+e]=t[e],this._data[3+e]=i[e]}isEmpty(){return this._data[3]<this._data[0]&&this._data[4]<this._data[1]&&this._data[5]<this._data[2]}}class M extends A{constructor(){super(...arguments),this.bounds=b()}}function T(t,i,e){const o=t.bbMin,r=t.bbMax;if(s(e)){const t=m(C,e[12],e[13],e[14]);return d(B,o,t),d(O,r,t),i.minWith(B),void i.maxWith(O)}if(h(B,o,e),l(o,r))return i.minWith(B),void i.maxWith(B);h(O,r,e),i.minWith(B),i.minWith(O),i.maxWith(B),i.maxWith(O);for(let s=0;s<3;++s)c(B,o),c(O,r),B[s]=r[s],O[s]=o[s],h(B,B,e),h(O,O,e),i.minWith(B),i.minWith(O),i.maxWith(B),i.maxWith(O)}const C=g(),B=g(),O=g(),U=g();export{M as BoundingVolume,W as Object3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst e=[\"layerObjectAdded\",\"layerObjectRemoved\",\"layerObjectsAdded\",\"layerObjectsRemoved\",\"transformationChanged\",\"shaderTransformationChanged\",\"visibilityChanged\",\"occlusionChanged\",\"highlightChanged\",\"geometryAdded\",\"geometryRemoved\",\"attributesChanged\"];export{e as DirtyEventNames};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{removeUnordered as e}from\"../../../../core/arrayUtils.js\";import{toConst as t}from\"../../../../core/compilerUtils.js\";import{EventEmitter as s}from\"../../../../core/Evented.js\";import i from\"../../../../core/Handles.js\";import\"../../../../core/has.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{generateUID as r}from\"../../../../core/uid.js\";import{DirtyEventNames as h}from\"./DirtyEvents.js\";import{Octree as c}from\"./Octree.js\";class d{constructor(e,t,o=\"\"){this.stage=e,this.apiLayerViewUid=o,this.id=r(),this.events=new s,this.visible=!0,this.sliceable=!1,this._objectsAdded=new Array,this._handles=new i,this._objects=new Map,this._pickable=!0,this.visible=t?.visible??!0,this._pickable=t?.pickable??!0,this.updatePolicy=t?.updatePolicy??0,e.addLayer(this);for(const s of h)this._handles.add(this.events.on(s,t=>e.handleEvent(s,t)))}destroy(){this._handles.size&&(this._handles.destroy(),this.stage.removeLayer(this),this.invalidateSpatialQueryAccelerator())}get objects(){return this._objects}getObject(e){return t(this._objects.get(e))}set pickable(e){this._pickable=e}get pickable(){return this._pickable&&this.visible}add(e){this._objects.set(e.id,e),e.layer=this,this.events.emit(\"layerObjectAdded\",e),null!=this._octree&&this._objectsAdded.push(e)}remove(t){this._objects.delete(t.id)&&(this.events.emit(\"layerObjectRemoved\",t),t.layer=null,null!=this._octree&&(e(this._objectsAdded,t)||this._octree.remove([t])))}addMany(e){for(const t of e)this._objects.set(t.id,t),t.layer=this;this.events.emit(\"layerObjectsAdded\",e),null!=this._octree&&this._objectsAdded.push(...e)}removeMany(t){const s=new Array;for(const e of t)this._objects.delete(e.id)&&s.push(e);if(0!==s.length&&(this.events.emit(\"layerObjectsRemoved\",s),s.forEach(e=>e.layer=null),null!=this._octree)){for(let t=0;t<s.length;)e(this._objectsAdded,s[t])?(s[t]=s[s.length-1],s.length-=1):++t;this._octree.remove(s)}}commit(){this.stage.commitLayer(this)}sync(){1!==this.updatePolicy&&this.stage.syncLayer(this.id)}notifyObjectBBChanged(e,t){null==this._octree||this._objectsAdded.includes(e)||this._octree.update(e,t)}getSpatialQueryAccelerator(){return null==this._octree&&this._objects.size>50?(this._octree=new c(e=>e.boundingVolumeWorldSpace.bounds),this._octree.add(this._objects.values())):null!=this._octree&&this._objectsAdded.length>0&&(this._octree.add(this._objectsAdded),this._objectsAdded.length=0),this._octree}invalidateSpatialQueryAccelerator(){this._octree=o(this._octree),this._objectsAdded.length=0}get test(){}}export{d as WebGLLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{fromValues as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";class s{constructor(r,s){this.vec3=r,this.id=s}}function t(t,o,c,e){return new s(r(t,o,c),e)}export{s as LocalOrigin,t as fromValues};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{invert as e,translate as i}from\"../../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as a}from\"../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{VisualVariables as t}from\"../shading/VisualVariables.glsl.js\";import{ScreenSizePerspective as r,addScreenSizePerspective as o}from\"../util/ScreenSizePerspective.glsl.js\";import{addCameraPosition as c}from\"../util/View.glsl.js\";import{Float3PassUniform as l}from\"../../shaderModules/Float3PassUniform.js\";import{FloatPassUniform as s}from\"../../shaderModules/FloatPassUniform.js\";import{FloatsPassUniform as v}from\"../../shaderModules/FloatsPassUniform.js\";import{glsl as n,If as p}from\"../../shaderModules/glsl.js\";import{Matrix4DrawUniform as d}from\"../../shaderModules/Matrix4DrawUniform.js\";const u=8;function f(a,f){const{vertex:S,attributes:m}=a;S.uniforms.add(new s(\"intrinsicWidth\",e=>e.width));const{hasScreenSizePerspective:y,spherical:O}=f;y?(a.include(r,f),o(S),c(S,f),S.uniforms.add(new d(\"inverseViewMatrix\",(a,t)=>e(z,i(z,t.camera.viewMatrix,a.origin)))),S.code.add(n`\n      float applyLineSizeScreenSizePerspective(float size, vec3 pos) {\n        vec3 worldPos = (inverseViewMatrix * vec4(pos, 1)).xyz;\n        vec3 groundUp = ${O?n`normalize(worldPos + localOrigin)`:n`vec3(0.0, 0.0, 1.0)`};\n        float absCosAngle = abs(dot(groundUp, normalize(worldPos - cameraPosition)));\n\n        return screenSizePerspectiveScaleFloat(size, absCosAngle, length(pos), screenSizePerspective);\n      }\n    `)):S.code.add(n`float applyLineSizeScreenSizePerspective(float size, vec3 pos) {\nreturn size;\n}`),f.hasVVSize?(m.add(\"sizeFeatureAttribute\",\"float\"),S.uniforms.add(new l(\"vvSizeMinSize\",e=>e.vvSize.minSize),new l(\"vvSizeMaxSize\",e=>e.vvSize.maxSize),new l(\"vvSizeOffset\",e=>e.vvSize.offset),new l(\"vvSizeFactor\",e=>e.vvSize.factor),new l(\"vvSizeFallback\",e=>e.vvSize.fallback)),S.code.add(n`\n    float getSize(${p(y,\"vec3 pos\")}) {\n      float size = isnan(sizeFeatureAttribute)\n        ? vvSizeFallback.x\n        : intrinsicWidth * clamp(vvSizeOffset + sizeFeatureAttribute * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize).x;\n\n      return ${p(y,\"applyLineSizeScreenSizePerspective(size, pos)\",\"size\")};\n    }\n    `)):(m.add(\"size\",\"float\"),S.code.add(n`\n    float getSize(${p(y,\"vec3 pos\")}) {\n      float fullSize = intrinsicWidth * size;\n      return ${p(y,\"applyLineSizeScreenSizePerspective(fullSize, pos)\",\"fullSize\")};\n    }\n    `)),f.hasVVOpacity?(m.add(\"opacityFeatureAttribute\",\"float\"),S.constants.add(\"vvOpacityNumber\",\"int\",8),S.uniforms.add(new v(\"vvOpacityValues\",e=>e.vvOpacity.values,u),new v(\"vvOpacityOpacities\",e=>e.vvOpacity.opacityValues,u),new s(\"vvOpacityFallback\",e=>e.vvOpacity.fallback,{supportsNaN:!0})),S.code.add(n`\n    float interpolateOpacity(float value) {\n      if (value <= vvOpacityValues[0]) {\n        return vvOpacityOpacities[0];\n      }\n\n      for (int i = 1; i < vvOpacityNumber; ++i) {\n        if (vvOpacityValues[i] >= value) {\n          float f = (value - vvOpacityValues[i-1]) / (vvOpacityValues[i] - vvOpacityValues[i-1]);\n          return mix(vvOpacityOpacities[i-1], vvOpacityOpacities[i], f);\n        }\n      }\n\n      return vvOpacityOpacities[vvOpacityNumber - 1];\n    }\n\n    vec4 applyOpacity(vec4 color) {\n      if (isnan(opacityFeatureAttribute)) {\n        // If there is a color vv then it will already have taken care of applying the fallback\n        return ${p(f.hasVVColor,\"color\",\"vec4(color.rgb, vvOpacityFallback)\")};\n      }\n\n      return vec4(color.rgb, interpolateOpacity(opacityFeatureAttribute));\n    }\n    `)):S.code.add(n`vec4 applyOpacity(vec4 color) {\nreturn color;\n}`),f.hasVVColor?(a.include(t,f),m.add(\"colorFeatureAttribute\",\"float\"),S.code.add(n`vec4 getColor() {\nvec4 color = interpolateVVColor(colorFeatureAttribute);\nif (isnan(color.r)) {\nreturn vec4(0);\n}\nreturn applyOpacity(color);\n}`)):(m.add(\"color\",\"vec4\"),S.code.add(n`vec4 getColor() {\nreturn applyOpacity(color);\n}`))}const z=a();export{f as RibbonVertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction e(e){e.vertex.code.add(\"#define noPerspectiveWrite(x, w) (x * w)\")}function d(e){e.fragment.code.add(\"#define noPerspectiveRead(x) (x * gl_FragCoord.w)\")}export{d as NoPerspectiveRead,e as NoPerspectiveWrite};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ProceduralTextureRepository as t}from\"./ProceduralTextureRepository.js\";import{PixelType as e,SizedPixelFormat as r}from\"../../../webgl/enums.js\";import{Texture as o}from\"../../../webgl/Texture.js\";import{TextureDescriptor as n}from\"../../../webgl/TextureDescriptor.js\";function i(i,u){return new t(t=>{const{data:u,textureSize:l}=a(t),p=new n(l,1);return p.dataType=e.FLOAT,p.pixelFormat=6403,p.internalFormat=r.R16F,p.wrapMode=10497,new o(i,p,u)},t=>`${t.pattern.join(\",\")}-r${t.pixelRatio}`,u)}function a(t){const e=u(t),r=1/t.pixelRatio,o=l(t),n=[];let i=1;for(const u of e){for(let t=0;t<u;t++){const e=i*(Math.min(t,u-1-t)+.5)*r;n.push(e)}i=-i}const a=Math.round(e[0]/2);return{data:new Float32Array([...n.slice(a),...n.slice(0,a)]),textureSize:o}}function u(t){return t.pattern.map(e=>Math.round(e*t.pixelRatio))}function l(t){if(null==t)return 1;const e=u(t);return Math.floor(e.reduce((t,e)=>t+e))}export{l as computeTextureSize,i as createStippleTextureRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{s as r}from\"../../../../chunks/vec42.js\";import{ZEROS as o,create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";function s(t){return null==t?o:4===t.length?t:r(c,t[0],t[1],t[2],1)}const c=t();export{s as ensureColor4};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{NoPerspectiveRead as e}from\"../util/NoPerspective.glsl.js\";import{addCameraPosition as t,addPixelRatio as o}from\"../util/View.glsl.js\";import{Float4PassUniform as r}from\"../../shaderModules/Float4PassUniform.js\";import{FloatBindUniform as i}from\"../../shaderModules/FloatBindUniform.js\";import{FloatPassUniform as l}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as a,If as s}from\"../../shaderModules/glsl.js\";import{Texture2DPassUniform as n}from\"../../shaderModules/Texture2DPassUniform.js\";import{computeTextureSize as p}from\"../../../materials/stippleTextureRepository.js\";import{ensureColor4 as d}from\"../../../shaders/ensureColor4.js\";function c(p,c){if(!c.stippleEnabled)return void p.fragment.code.add(a`float getStippleAlpha(float lineWidth) { return 1.0; }\nvoid discardByStippleAlpha(float stippleAlpha, float threshold) {}\nvec4 blendStipple(vec4 color, float stippleAlpha) { return color; }`);const u=!(c.draped&&c.stipplePreferContinuous),{vertex:S,fragment:h}=p;c.draped||(t(S,c),S.uniforms.add(new i(\"worldToScreenPerDistanceRatio\",({camera:e})=>1/e.perScreenPixelRatio)).code.add(a`float computeWorldToScreenRatio(vec3 segmentCenter) {\nfloat segmentDistanceToCamera = length(segmentCenter - cameraPosition);\nreturn worldToScreenPerDistanceRatio / segmentDistanceToCamera;\n}`)),p.varyings.add(\"vStippleDistance\",\"float\"),p.varyings.add(\"vStippleDistanceLimits\",\"vec2\"),p.varyings.add(\"vStipplePatternStretch\",\"float\"),S.code.add(a`\n    float discretizeWorldToScreenRatio(float worldToScreenRatio) {\n      float step = ${a.float(m)};\n\n      float discreteWorldToScreenRatio = log(worldToScreenRatio);\n      discreteWorldToScreenRatio = ceil(discreteWorldToScreenRatio / step) * step;\n      discreteWorldToScreenRatio = exp(discreteWorldToScreenRatio);\n      return discreteWorldToScreenRatio;\n    }\n  `),o(S),S.code.add(a`\n    vec2 computeStippleDistanceLimits(float startPseudoScreen, float segmentLengthPseudoScreen, float segmentLengthScreen, float patternLength) {\n\n      // First check if the segment is long enough to support fully screen space patterns.\n      // Force sparse mode for segments that are very large in screen space even if it is not allowed,\n      // to avoid imprecision from calculating with large floats.\n      if (segmentLengthPseudoScreen >= ${u?\"patternLength\":\"1e4\"}) {\n        // Round the screen length to get an integer number of pattern repetitions (minimum 1).\n        float repetitions = segmentLengthScreen / (patternLength * pixelRatio);\n        float flooredRepetitions = max(1.0, floor(repetitions + 0.5));\n        float segmentLengthScreenRounded = flooredRepetitions * patternLength;\n\n        float stretch = repetitions / flooredRepetitions;\n\n        // We need to impose a lower bound on the stretch factor to prevent the dots from merging together when there is only 1 repetition.\n        // 0.75 is the lowest possible stretch value for flooredRepetitions > 1, so it makes sense as lower bound.\n        vStipplePatternStretch = max(0.75, stretch);\n\n        return vec2(0.0, segmentLengthScreenRounded);\n      }\n      return vec2(startPseudoScreen, startPseudoScreen + segmentLengthPseudoScreen);\n    }\n  `),h.uniforms.add(new n(\"stipplePatternTexture\",e=>e.stippleTexture),new l(\"stipplePatternPixelSizeInv\",e=>1/f(e))),c.stippleOffColorEnabled&&h.uniforms.add(new r(\"stippleOffColor\",e=>d(e.stippleOffColor))),p.include(e),h.code.add(a`float getStippleSDF(out bool isClamped) {\nfloat stippleDistanceClamped = noPerspectiveRead(clamp(vStippleDistance, vStippleDistanceLimits.x, vStippleDistanceLimits.y));\nfloat lineSizeInv = noPerspectiveRead(vLineSizeInv);\nvec2 aaCorrectedLimits = vStippleDistanceLimits + vec2(1.0, -1.0) / gl_FragCoord.w;\nisClamped = vStippleDistance < aaCorrectedLimits.x || vStippleDistance > aaCorrectedLimits.y;\nfloat u = stippleDistanceClamped * stipplePatternPixelSizeInv * lineSizeInv;\nu = fract(u);\nfloat sdf = texture(stipplePatternTexture, vec2(u, 0.5)).r;\nreturn (sdf - 0.5) * vStipplePatternStretch + 0.5;\n}\nfloat getStippleSDF() {\nbool ignored;\nreturn getStippleSDF(ignored);\n}\nfloat getStippleAlpha(float lineWidth) {\nbool isClamped;\nfloat stippleSDF = getStippleSDF(isClamped);\nfloat antiAliasedResult = clamp(stippleSDF * lineWidth + 0.5, 0.0, 1.0);\nreturn isClamped ? floor(antiAliasedResult + 0.5) : antiAliasedResult;\n}`),h.code.add(a`\n    void discardByStippleAlpha(float stippleAlpha, float threshold) {\n     ${s(!c.stippleOffColorEnabled,\"if (stippleAlpha < threshold) { discard; }\")}\n    }\n\n    vec4 blendStipple(vec4 color, float stippleAlpha) {\n      return ${c.stippleOffColorEnabled?\"mix(color, stippleOffColor, stippleAlpha)\":\"vec4(color.rgb, color.a * stippleAlpha)\"};\n    }\n  `)}function f(e){const t=e.stipplePattern;return t?p(e.stipplePattern)/t.pixelRatio:1}const m=.4;export{c as LineStipple,f as computePixelSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{createPrimitive as r}from\"./sdfPrimitives.js\";import{SizedPixelFormat as e,PixelType as t}from\"../../../webgl/enums.js\";import{Texture as o}from\"../../../webgl/Texture.js\";import{TextureDescriptor as m}from\"../../../webgl/TextureDescriptor.js\";const i=64,s=i/2,n=s/5,p=i/n,a=.25;function f(p,a){const f=r(p,i,s,n),u=new m(i);return u.internalFormat=e.R16F,u.dataType=t.FLOAT,u.pixelFormat=6403,u.wrapMode=33071,new o(a,u,f)}export{f as createMarkerTexture,p as markerSizePerLineWidth,s as markerSymbolSize,i as markerTextureSize,n as markerThickness,a as markerTipThicknessFactor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{markerSizePerLineWidth as e}from\"../../../../support/engineContent/marker.js\";import{addPixelRatio as r}from\"../util/View.glsl.js\";import{FloatBindUniform as t}from\"../../shaderModules/FloatBindUniform.js\";import{If as o,glsl as a}from\"../../shaderModules/glsl.js\";function i(i,n){const d=i.vertex,l=n.hasScreenSizePerspective;r(d),null==d.uniforms.get(\"markerScale\")&&d.constants.add(\"markerScale\",\"float\",1),d.constants.add(\"markerSizePerLineWidth\",\"float\",e).code.add(a`\n  float getLineWidth(${o(l,\"vec3 pos\")}) {\n     return max(getSize(${o(l,\"pos\")}), 1.0) * pixelRatio;\n  }\n\n  float getScreenMarkerSize(float lineWidth) {\n    return markerScale * markerSizePerLineWidth * lineWidth;\n  }\n  `),2===n.space&&(d.constants.add(\"maxSegmentLengthFraction\",\"float\",.45),d.uniforms.add(new t(\"perRenderPixelRatio\",e=>e.camera.perRenderPixelRatio)),d.code.add(a`\n  bool areWorldMarkersHidden(vec3 pos, vec3 other) {\n    vec3 midPoint = mix(pos, other, 0.5);\n    float distanceToCamera = length(midPoint);\n    float screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\n    float worldMarkerSize = getScreenMarkerSize(getLineWidth(${o(l,\"pos\")})) * screenToWorldRatio;\n    float segmentLen = length(pos - other);\n    return worldMarkerSize > maxSegmentLengthFraction * segmentLen;\n  }\n\n  float getWorldMarkerSize(vec3 pos) {\n    float distanceToCamera = length(pos);\n    float screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\n    return getScreenMarkerSize(getLineWidth(${o(l,\"pos\")})) * screenToWorldRatio;\n  }\n  `))}export{i as MarkerSizing};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{s as e}from\"../../../../chunks/vec42.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{Float4PassUniform as a}from\"../core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as i}from\"../core/shaderModules/FloatPassUniform.js\";import{glsl as o}from\"../core/shaderModules/glsl.js\";function m(t,m){if(!m.hasAnimation)return;const{attributes:r,varyings:d,vertex:l,fragment:T}=t;r.add(\"timeStamps\",\"vec4\"),d.add(\"vTimeStamp\",\"float\"),d.add(\"vFirstTime\",\"float\"),d.add(\"vLastTime\",\"float\"),d.add(\"vTransitionType\",\"float\"),l.main.add(o`vTimeStamp = timeStamps.x;\nvFirstTime = timeStamps.y;\nvLastTime = timeStamps.z;\nvTransitionType = timeStamps.w;`);const{animation:v}=m;3===v&&T.constants.add(\"decayRate\",\"float\",2.3),T.code.add(o`\n    float getTrailOpacity(float x) {\n      ${s(v)}\n    }`),T.uniforms.add(new i(\"timeElapsed\",e=>e.timeElapsed),new i(\"trailLength\",e=>e.trailLength),new i(\"speed\",e=>e.animationSpeed),new a(\"timingOptions\",t=>e(n,t.startTime,t.endTime,t.fadeInTime,t.fadeOutTime))),T.code.add(o`float fadeIn(float x) {\nreturn smoothstep(0.0, timingOptions[2], x);\n}\nfloat fadeOut(float x) {\nreturn isinf(timingOptions[3]) ? 1.0 : smoothstep(timingOptions[3], 0.0, x);\n}`),T.code.add(o`vec4 animate(vec4 color) {\nfloat startTime = timingOptions[0];\nfloat endTime = timingOptions[1];\nfloat totalTime = vLastTime - vFirstTime;\nfloat actualEndTime = int(vTransitionType) == 2 ? min(endTime, startTime + vLastTime / speed) : endTime;\nvec4 animatedColor = color;\nif (speed == 0.0) {\nanimatedColor.a *= getTrailOpacity((totalTime - (vTimeStamp - vFirstTime)) / trailLength);\nanimatedColor.a *= isinf(actualEndTime) ? 1.0 : fadeOut(timeElapsed - actualEndTime);\nanimatedColor.a *= fadeIn(timeElapsed - startTime);\nreturn animatedColor;\n}\nfloat relativeStartTime = mod(startTime, totalTime);\nfloat vHeadRelativeToFirst = mod((timeElapsed - relativeStartTime) * speed - vFirstTime, totalTime);\nfloat vRelativeToHead = vHeadRelativeToFirst + vFirstTime - vTimeStamp;\nbool inPreviousCycle = vRelativeToHead < 0.0;\nvRelativeToHead += inPreviousCycle ? totalTime : 0.0;\nfloat vAbsoluteTime = timeElapsed - vRelativeToHead / speed;\nif (vAbsoluteTime > actualEndTime) {\nvRelativeToHead = (timeElapsed - relativeStartTime) * speed - vTimeStamp;\nvAbsoluteTime = timeElapsed - vRelativeToHead / speed;\n}\nanimatedColor *= step(startTime, vAbsoluteTime);\nanimatedColor *= step(vAbsoluteTime, actualEndTime);\nanimatedColor.a *= isinf(actualEndTime) ? 1.0 : fadeOut(timeElapsed - actualEndTime);\nanimatedColor.a *= inPreviousCycle ? fadeOut(vHeadRelativeToFirst / speed) : 1.0;\nanimatedColor.a *= getTrailOpacity(vRelativeToHead / trailLength);\nanimatedColor.a *= int(vTransitionType) == 0 ? fadeIn(vAbsoluteTime - startTime) : 1.0;\nanimatedColor.a *= fadeIn(vTimeStamp - vFirstTime);\nreturn animatedColor;\n}`)}function s(e){switch(e){case 2:return\"return x >= 0.0 && x <= 1.0 ? 1.0 : 0.0;\";case 3:return\"float cutOff = exp(-decayRate);\\n        return (exp(-decayRate * x) - cutOff) / (1.0 - cutOff);\";default:return\"return 1.0;\"}}const n=t();export{m as AnimatedLine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{SliceDraw as e}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ObjectAndLayerIdColor as i}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{RibbonVertexPosition as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js\";import{LineStipple as n,computePixelSize as r}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js\";import{MarkerSizing as o}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js\";import{PiUtils as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js\";import{terrainDepthTest as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{NoPerspectiveWrite as p,NoPerspectiveRead as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/NoPerspective.glsl.js\";import{addProjViewLocalOrigin as c,addPixelRatio as m}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2BindUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/Float2BindUniform.js\";import{Float4BindUniform as f}from\"../views/3d/webgl-engine/core/shaderModules/Float4BindUniform.js\";import{Float4PassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatBindUniform as D}from\"../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js\";import{FloatPassUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as h,If as x}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Matrix4BindUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js\";import{AnimatedLine as L}from\"../views/3d/webgl-engine/shaders/AnimatedLine.glsl.js\";import{outputColorHighlightOID as w}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{ShaderBuilder as b}from\"../views/webgl/ShaderBuilder.js\";import{alphaCutoff as y}from\"../webscene/support/AlphaCutoff.js\";const P=1;function j(j){const z=new b,{attributes:C,varyings:W,vertex:R,fragment:F}=z,{applyMarkerOffset:A,draped:V,output:T,capType:E,stippleEnabled:O,falloffEnabled:M,roundJoins:N,wireframe:$,innerColorEnabled:_,hasAnimation:k,hasScreenSizePerspective:B}=j;F.include(a),z.include(t,j),z.include(n,j),z.include(i,j),z.include(s,j),z.include(L,j);const H=A&&!V;H&&(R.uniforms.add(new S(\"markerScale\",e=>e.markerScale)),z.include(o,{space:2,hasScreenSizePerspective:B})),c(R,j),R.uniforms.add(new u(\"inverseProjectionMatrix\",e=>e.camera.inverseProjectionMatrix),new v(\"nearFar\",e=>e.camera.nearFar),new S(\"miterLimit\",e=>\"miter\"!==e.join?0:e.miterLimit),new f(\"viewport\",e=>e.camera.fullViewport)),R.constants.add(\"LARGE_HALF_FLOAT\",\"float\",65500),C.add(\"position\",\"vec3\"),C.add(\"previousDelta\",\"vec4\"),C.add(\"nextDelta\",\"vec4\"),C.add(\"lineParameters\",\"vec2\"),C.add(\"u0\",\"float\"),W.add(\"vColor\",\"vec4\"),W.add(\"vpos\",\"vec3\",{invariant:!0}),W.add(\"vLineDistance\",\"float\"),W.add(\"vLineWidth\",\"float\");const I=O;I&&W.add(\"vLineSizeInv\",\"float\");const J=2===E,U=O&&J,G=M||U;G&&W.add(\"vLineDistanceNorm\",\"float\"),J&&(W.add(\"vSegmentSDF\",\"float\"),W.add(\"vReverseSegmentSDF\",\"float\")),R.code.add(h`vec2 perpendicular(vec2 v) {\nreturn vec2(v.y, -v.x);\n}\nfloat interp(float ncp, vec4 a, vec4 b) {\nreturn (-ncp - a.z) / (b.z - a.z);\n}\nvec2 rotate(vec2 v, float a) {\nfloat s = sin(a);\nfloat c = cos(a);\nmat2 m = mat2(c, -s, s, c);\nreturn m * v;\n}`),R.code.add(h`vec4 projectAndScale(vec4 pos) {\nvec4 posNdc = proj * pos;\nposNdc.xy *= viewport.zw / posNdc.w;\nreturn posNdc;\n}`),R.code.add(h`void clip(\ninout vec4 pos,\ninout vec4 prev,\ninout vec4 next,\nbool isStartVertex\n) {\nfloat vnp = nearFar[0] * 0.99;\nif (pos.z > -nearFar[0]) {\nif (!isStartVertex) {\nif (prev.z < -nearFar[0]) {\npos = mix(prev, pos, interp(vnp, prev, pos));\nnext = pos;\n} else {\npos = vec4(0.0, 0.0, 0.0, 1.0);\n}\n} else {\nif (next.z < -nearFar[0]) {\npos = mix(pos, next, interp(vnp, pos, next));\nprev = pos;\n} else {\npos = vec4(0.0, 0.0, 0.0, 1.0);\n}\n}\n} else {\nif (prev.z > -nearFar[0]) {\nprev = mix(pos, prev, interp(vnp, pos, prev));\n}\nif (next.z > -nearFar[0]) {\nnext = mix(next, pos, interp(vnp, next, pos));\n}\n}\n}`),m(R),R.constants.add(\"aaWidth\",\"float\",O?0:1).main.add(h`bool isStartVertex = abs(abs(lineParameters.y) - 3.0) == 1.0;\nvec3 prevPosition = position + previousDelta.xyz * previousDelta.w;\nvec3 nextPosition = position + nextDelta.xyz * nextDelta.w;\nfloat coverage = 1.0;\nif (lineParameters.y == 0.0) {\ngl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n}\nelse {\nvec4 pos  = view * vec4(position, 1.0);\nvec4 prev = view * vec4(prevPosition, 1.0);\nvec4 next = view * vec4(nextPosition, 1.0);\nbool isJoin = abs(lineParameters.y) < 3.0;`),H&&R.main.add(h`vec4 other = isStartVertex ? next : prev;\nbool markersHidden = areWorldMarkersHidden(pos.xyz, other.xyz);\nif (!isJoin && !markersHidden) {\npos.xyz += normalize(other.xyz - pos.xyz) * getWorldMarkerSize(pos.xyz) * 0.5;\n}`),z.include(p),R.main.add(h`\n      clip(pos, prev, next, isStartVertex);\n\n      vec3 clippedPos = pos.xyz;\n      vec3 clippedCenter = mix(pos.xyz, isStartVertex ? next.xyz : prev.xyz, 0.5);\n\n      forwardViewPosDepth(pos.xyz);\n\n      pos = projectAndScale(pos);\n      next = projectAndScale(next);\n      prev = projectAndScale(prev);\n\n      vec2 left = (pos.xy - prev.xy);\n      vec2 right = (next.xy - pos.xy);\n\n      float leftLen = length(left);\n      float rightLen = length(right);\n\n      float lineSize = getSize(${x(B,\"clippedPos\")});\n      ${x(O&&B,\"float patternLineSize = getSize(clippedCenter);\")}\n      ${x(O&&!B,\"float patternLineSize = lineSize;\")}\n\n      if (lineSize < 1.0) {\n        coverage = lineSize; // convert sub-pixel coverage to alpha\n        lineSize = 1.0;\n      }\n      lineSize += aaWidth;\n\n      float lineWidth = lineSize * pixelRatio;\n      vLineWidth = noPerspectiveWrite(lineWidth, pos.w);\n      ${I?h`vLineSizeInv = noPerspectiveWrite(1.0 / lineSize, pos.w);`:\"\"}\n  `);(O||J)&&R.main.add(h`\n      float isEndVertex = float(!isStartVertex);\n      vec2 segmentOrigin = mix(pos.xy, prev.xy, isEndVertex);\n      vec2 segment = mix(right, left, isEndVertex);\n      ${J?h`vec2 segmentEnd = mix(next.xy, pos.xy, isEndVertex);`:\"\"}\n    `),R.main.add(h`left = (leftLen > 0.001) ? left/leftLen : vec2(0.0, 0.0);\nright = (rightLen > 0.001) ? right/rightLen : vec2(0.0, 0.0);\nvec2 capDisplacementDir = vec2(0, 0);\nvec2 joinDisplacementDir = vec2(0, 0);\nfloat displacementLen = lineWidth;\nif (isJoin) {\nbool isOutside = (left.x * right.y - left.y * right.x) * lineParameters.y > 0.0;\njoinDisplacementDir = normalize(left + right);\njoinDisplacementDir = perpendicular(joinDisplacementDir);\nif (leftLen > 0.001 && rightLen > 0.001) {\nfloat nDotSeg = dot(joinDisplacementDir, left);\ndisplacementLen /= length(nDotSeg * left - joinDisplacementDir);\nif (!isOutside) {\ndisplacementLen = min(displacementLen, min(leftLen, rightLen)/abs(nDotSeg));\n}\n}\nfloat subdivisionFactor = lineParameters.x;\nif (isOutside && (displacementLen > miterLimit * lineWidth)) {`),N?R.main.add(h`\n        vec2 startDir = leftLen < 0.001 ? right : left;\n        startDir = perpendicular(startDir);\n\n        vec2 endDir = rightLen < 0.001 ? left : right;\n        endDir = perpendicular(endDir);\n\n        float factor = ${O?h`min(1.0, subdivisionFactor * ${h.float((P+2)/(P+1))})`:h`subdivisionFactor`};\n\n        float rotationAngle = acos(clamp(dot(startDir, endDir), -1.0, 1.0));\n        joinDisplacementDir = rotate(startDir, -sign(lineParameters.y) * factor * rotationAngle);\n      `):R.main.add(h`if (leftLen < 0.001) {\njoinDisplacementDir = right;\n}\nelse if (rightLen < 0.001) {\njoinDisplacementDir = left;\n}\nelse {\njoinDisplacementDir = (isStartVertex || subdivisionFactor > 0.0) ? right : left;\n}\njoinDisplacementDir = perpendicular(joinDisplacementDir);`);const q=0!==E;return R.main.add(h`\n        displacementLen = lineWidth;\n      }\n    } else {\n      // CAP handling ---------------------------------------------------\n      joinDisplacementDir = isStartVertex ? right : left;\n      joinDisplacementDir = perpendicular(joinDisplacementDir);\n\n      ${q?h`capDisplacementDir = isStartVertex ? -right : left;`:\"\"}\n    }\n  `),R.main.add(h`\n    // Displacement (in pixels) caused by join/or cap\n    vec2 dpos = joinDisplacementDir * sign(lineParameters.y) * displacementLen + capDisplacementDir * displacementLen;\n    float lineDistNorm = noPerspectiveWrite(sign(lineParameters.y), pos.w);\n\n    vLineDistance = lineWidth * lineDistNorm;\n    ${G?h`vLineDistanceNorm = lineDistNorm;`:\"\"}\n\n    pos.xy += dpos;\n  `),J&&R.main.add(h`vec2 segmentDir = normalize(segment);\nvSegmentSDF = noPerspectiveWrite((isJoin && isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentOrigin, segmentDir)), pos.w);\nvReverseSegmentSDF = noPerspectiveWrite((isJoin && !isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentEnd, -segmentDir)), pos.w);`),O&&(V?R.uniforms.add(new D(\"worldToScreenRatio\",e=>1/e.screenToPCSRatio)):R.main.add(h`vec3 segmentCenter = mix((nextPosition + position) * 0.5, (position + prevPosition) * 0.5, isEndVertex);\nfloat worldToScreenRatio = computeWorldToScreenRatio(segmentCenter);`),R.main.add(h`float segmentLengthScreenDouble = length(segment);\nfloat segmentLengthScreen = segmentLengthScreenDouble * 0.5;\nfloat discreteWorldToScreenRatio = discretizeWorldToScreenRatio(worldToScreenRatio);\nfloat segmentLengthRender = length(mix(nextPosition - position, position - prevPosition, isEndVertex));\nvStipplePatternStretch = worldToScreenRatio / discreteWorldToScreenRatio;`),V?R.main.add(h`float segmentLengthPseudoScreen = segmentLengthScreen / pixelRatio * discreteWorldToScreenRatio / worldToScreenRatio;\nfloat startPseudoScreen = u0 * discreteWorldToScreenRatio - mix(0.0, segmentLengthPseudoScreen, isEndVertex);`):R.main.add(h`float startPseudoScreen = mix(u0, u0 - segmentLengthRender, isEndVertex) * discreteWorldToScreenRatio;\nfloat segmentLengthPseudoScreen = segmentLengthRender * discreteWorldToScreenRatio;`),R.uniforms.add(new S(\"stipplePatternPixelSize\",e=>r(e))),R.main.add(h`float patternLength = patternLineSize * stipplePatternPixelSize;\nvStippleDistanceLimits = computeStippleDistanceLimits(startPseudoScreen, segmentLengthPseudoScreen, segmentLengthScreen, patternLength);\nvStippleDistance = mix(vStippleDistanceLimits.x, vStippleDistanceLimits.y, isEndVertex);\nif (segmentLengthScreenDouble >= 0.001) {\nvec2 stippleDisplacement = pos.xy - segmentOrigin;\nfloat stippleDisplacementFactor = dot(segment, stippleDisplacement) / (segmentLengthScreenDouble * segmentLengthScreenDouble);\nvStippleDistance += (stippleDisplacementFactor - isEndVertex) * (vStippleDistanceLimits.y - vStippleDistanceLimits.x);\n}\nvStippleDistanceLimits = noPerspectiveWrite(vStippleDistanceLimits, pos.w);\nvStippleDistance = noPerspectiveWrite(vStippleDistance, pos.w);\nvStippleDistanceLimits = isJoin ?\nvStippleDistanceLimits :\nisStartVertex ?\nvec2(-1e34, vStippleDistanceLimits.y) :\nvec2(vStippleDistanceLimits.x, 1e34);`)),R.main.add(h`\n      // Convert back into NDC\n      pos.xy = (pos.xy / viewport.zw) * pos.w;\n\n      vColor = getColor();\n      vColor.a = noPerspectiveWrite(vColor.a * coverage, pos.w);\n\n      ${$&&!V?\"pos.z -= 0.001 * pos.w;\":\"\"}\n\n      // transform final position to camera space for slicing\n      vpos = (inverseProjectionMatrix * pos).xyz;\n      gl_Position = pos;\n      forwardObjectAndLayerIdColor();\n    }`),z.fragment.include(e,j),z.include(w,j),F.include(l),F.main.add(h`discardBySlice(vpos);\ndiscardByTerrainDepth();`),z.include(d),F.main.add(h`\n    float lineWidth = noPerspectiveRead(vLineWidth);\n    float lineDistance = noPerspectiveRead(vLineDistance);\n    ${x(G,h`float lineDistanceNorm = noPerspectiveRead(vLineDistanceNorm);`)}\n  `),$?F.main.add(h`vec4 finalColor = vec4(1.0, 0.0, 1.0, 1.0);`):(J&&F.main.add(h`\n        float sdf = noPerspectiveRead(min(vSegmentSDF, vReverseSegmentSDF));\n        vec2 fragmentPosition = vec2(min(sdf, 0.0), lineDistance);\n\n        float fragmentRadius = length(fragmentPosition);\n        float fragmentCapSDF = (fragmentRadius - lineWidth) * 0.5; // Divide by 2 to transform from double pixel scale\n        float capCoverage = clamp(0.5 - fragmentCapSDF, 0.0, 1.0);\n\n        if (capCoverage < ${h.float(y)}) {\n          discard;\n        }\n      `),U?F.main.add(h`\n      vec2 stipplePosition = vec2(\n        min(getStippleSDF() * 2.0 - 1.0, 0.0),\n        lineDistanceNorm\n      );\n      float stippleRadius = length(stipplePosition * lineWidth);\n      float stippleCapSDF = (stippleRadius - lineWidth) * 0.5; // Divide by 2 to transform from double pixel scale\n      float stippleCoverage = clamp(0.5 - stippleCapSDF, 0.0, 1.0);\n      float stippleAlpha = step(${h.float(y)}, stippleCoverage);\n      `):F.main.add(h`float stippleAlpha = getStippleAlpha(lineWidth);`),10!==T&&F.main.add(h`discardByStippleAlpha(stippleAlpha, ${h.float(y)});`),z.include(d),F.uniforms.add(new g(\"intrinsicColor\",e=>e.color)).main.add(h`vec4 color = intrinsicColor * vColor;\ncolor.a = noPerspectiveRead(color.a);`),_&&F.uniforms.add(new g(\"innerColor\",e=>e.innerColor??e.color),new S(\"innerWidth\",(e,i)=>e.innerWidth*i.camera.pixelRatio)).main.add(h`float distToInner = abs(lineDistance) - innerWidth;\nfloat innerAA = clamp(0.5 - distToInner, 0.0, 1.0);\nfloat innerAlpha = innerColor.a + color.a * (1.0 - innerColor.a);\ncolor = mix(color, vec4(innerColor.rgb, innerAlpha), innerAA);`),F.main.add(h`vec4 finalColor = blendStipple(color, stippleAlpha);`),M&&(F.uniforms.add(new S(\"falloff\",e=>e.falloff)),F.main.add(h`finalColor.a *= pow(max(0.0, 1.0 - abs(lineDistanceNorm)), falloff);`)),O||F.main.add(h`float featherStartDistance = max(lineWidth - 2.0, 0.0);\nfloat value = abs(lineDistance);\nfloat feather = (value - featherStartDistance) / (lineWidth - featherStartDistance);\nfinalColor.a *= 1.0 - clamp(feather, 0.0, 1.0);`),k&&F.main.add(h`\n        finalColor = animate(finalColor);\n\n        ${x(10!==T,h`\n            if (finalColor.a <= ${h.float(y)}) {\n              discard;\n            }`)}\n      `)),F.main.add(h`outputColorHighlightOID(finalColor, vpos, finalColor.rgb);`),z}const z=Object.freeze(Object.defineProperty({__proto__:null,build:j,ribbonlineNumRoundJoinSubdivisions:P},Symbol.toStringTag,{value:\"Module\"}));export{z as R,j as b,P as r};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmission as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r,depthOnlyOutputBuffersOr as l}from\"../core/shaderTechnique/ShaderTechnique.js\";import{olidEnabled as s}from\"../effects/geometry/olidUtils.js\";import{OITPolygonOffset as n,depthWrite as o,oitDepthTest as u,blending as c,getDrawBuffers as a}from\"../lib/OrderIndependentTransparency.js\";import{stencilToolMaskBaseParams as p,stencilBaseAllZerosParams as f,stencilWriteMaskOn as d,stencilToolTransparentOccluderParams as h,depthCompareAlways as m,stencilToolMaskOccluderParams as P,stencilWriteMaskOff as g,depthCompareLess as b}from\"../lib/StencilUtils.js\";import{R as T}from\"../../../../chunks/RibbonLine.glsl.js\";import{PrimitiveType as W}from\"../../../webgl/enums.js\";import{makePipelineState as y,defaultColorWrite as O,unpremultipliedAlphaToPremultipliedAlpha as j}from\"../../../webgl/renderState.js\";class S extends r{constructor(e,t){super(e,t,new i(T,()=>import(\"./RibbonLine.glsl.js\")),v(t).locations),this.primitiveType=t.wireframe?W.LINES:W.TRIANGLE_STRIP}_makePipelineState(e,i){const{oitPass:r,output:s,hasOccludees:h,hasPolygonOffset:m}=e,P=0===r,g=2===r;return y({blending:t(s)?c(r):null,depthTest:{func:u(r)},depthWrite:o(e),drawBuffers:l(s,a(r,s)),colorWrite:O,stencilWrite:h?d:null,stencilTest:h?i?p:f:null,polygonOffset:P||g?m?_:null:n})}initializePipeline(e){if(e.occluder){const t=e.hasPolygonOffset?_:null,{output:i,hasOccludees:r}=e;this._occluderPipelineTransparent=y({blending:j,polygonOffset:t,depthTest:m,depthWrite:null,colorWrite:O,stencilWrite:null,stencilTest:r?h:null,drawBuffers:l(i)}),this._occluderPipelineOpaque=y({blending:j,polygonOffset:t,depthTest:r?m:b,depthWrite:null,colorWrite:O,stencilWrite:r?g:null,stencilTest:r?P:null,drawBuffers:l(i)}),this._occluderPipelineMaskWrite=y({blending:null,polygonOffset:t,depthTest:b,depthWrite:null,colorWrite:null,stencilWrite:r?d:null,stencilTest:r?p:null,drawBuffers:l(i)})}return this._occludeePipeline=this._makePipelineState(e,!0),this._makePipelineState(e,!1)}getPipeline(e,t){if(e)return this._occludeePipeline;switch(t){case 11:return this._occluderPipelineTransparent??super.getPipeline();case 10:return this._occluderPipelineOpaque??super.getPipeline();default:return this._occluderPipelineMaskWrite??super.getPipeline()}}}const _={factor:0,units:-4};function v(t){const i=e().vec3f(\"position\").vec4f16(\"previousDelta\").vec4f16(\"nextDelta\").f32(\"u0\").vec2f16(\"lineParameters\");return t.hasVVColor?i.f32(\"colorFeatureAttribute\"):i.vec4u8(\"color\",{glNormalized:!0}),t.hasVVSize?i.f32(\"sizeFeatureAttribute\"):i.f32(\"size\"),t.hasVVOpacity&&i.f32(\"opacityFeatureAttribute\"),s()&&i.vec4u8(\"olidColor\"),t.hasAnimation&&i.vec4f16(\"timeStamps\"),i}export{S as RibbonLineTechnique,v as getLayout};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as e}from\"../materials/DefaultTechniqueConfiguration.js\";class i extends e{constructor(o){super(),this.spherical=o,this.capType=0,this.emissionSource=0,this.hasPolygonOffset=!1,this.writeDepth=!1,this.draped=!1,this.stippleEnabled=!1,this.stippleOffColorEnabled=!1,this.stipplePreferContinuous=!0,this.roundJoins=!1,this.applyMarkerOffset=!1,this.hasVVSize=!1,this.hasVVColor=!1,this.hasVVOpacity=!1,this.falloffEnabled=!1,this.innerColorEnabled=!1,this.hasOccludees=!1,this.occluder=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.wireframe=!1,this.discardInvisibleFragments=!1,this.animation=2,this.hasScreenSizePerspective=!1,this.textureCoordinateType=0,this.occlusionPass=!1,this.hasVVInstancing=!1,this.hasSliceTranslatedView=!0,this.overlayEnabled=!1,this.snowCover=!1}get hasAnimation(){return 0!==this.animation}}o([t({count:3})],i.prototype,\"capType\",void 0),o([t({count:8})],i.prototype,\"emissionSource\",void 0),o([t()],i.prototype,\"hasPolygonOffset\",void 0),o([t()],i.prototype,\"writeDepth\",void 0),o([t()],i.prototype,\"draped\",void 0),o([t()],i.prototype,\"stippleEnabled\",void 0),o([t()],i.prototype,\"stippleOffColorEnabled\",void 0),o([t()],i.prototype,\"stipplePreferContinuous\",void 0),o([t()],i.prototype,\"roundJoins\",void 0),o([t()],i.prototype,\"applyMarkerOffset\",void 0),o([t()],i.prototype,\"hasVVSize\",void 0),o([t()],i.prototype,\"hasVVColor\",void 0),o([t()],i.prototype,\"hasVVOpacity\",void 0),o([t()],i.prototype,\"falloffEnabled\",void 0),o([t()],i.prototype,\"innerColorEnabled\",void 0),o([t()],i.prototype,\"hasOccludees\",void 0),o([t()],i.prototype,\"occluder\",void 0),o([t()],i.prototype,\"terrainDepthTest\",void 0),o([t()],i.prototype,\"cullAboveTerrain\",void 0),o([t()],i.prototype,\"wireframe\",void 0),o([t()],i.prototype,\"discardInvisibleFragments\",void 0),o([t({count:4})],i.prototype,\"animation\",void 0),o([t()],i.prototype,\"hasScreenSizePerspective\",void 0);export{i as RibbonLineTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Logger.js\";import{clamp as e}from\"../../../../core/mathUtils.js\";import{createRenderScreenPointArray3 as i}from\"../../../../core/screenUtils.js\";import{secondsFromMilliseconds as r}from\"../../../../core/time.js\";import{copy as s}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{j as a,e as n,f as o,h as l,g as h,d as c,b as m,k as p,t as u}from\"../../../../chunks/vec32.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as d}from\"../../../../chunks/vec42.js\";import{ONES as g,create as b}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{makeFloat16Array as _}from\"../../../../geometry/support/float16.js\";import{distance2 as S,fromPoints as v,create as P,closestLineSegmentPoint as j}from\"../../../../geometry/support/lineSegment.js\";import{fromPoints as E,create as w,signedDistance as y,getNormal as T}from\"../../../../geometry/support/plane.js\";import{isHighlightOrOID as z,isColorOrColorEmission as A,isDepth as C,isColorEmissionHighlightOIDOrDepth as O,is2DGeometryOutput as L}from\"../core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as M}from\"../effects/geometry/olidUtils.js\";import V from\"../lib/GLMaterial.js\";import{Material as R}from\"../lib/Material.js\";import{isTranslationMatrix as x}from\"../lib/Util.js\";import{VisualVariablePassParameters as F}from\"./VisualVariablePassParameters.js\";import{writeDeltaF16Vector as k}from\"./internal/bufferWriterUtils.js\";import{r as N}from\"../../../../chunks/RibbonLine.glsl.js\";import{getLayout as U,RibbonLineTechnique as D}from\"../shaders/RibbonLineTechnique.js\";import{RibbonLineTechniqueConfiguration as B}from\"../shaders/RibbonLineTechniqueConfiguration.js\";import{alphaCutoff as W}from\"../../../../webscene/support/AlphaCutoff.js\";class J extends R{constructor(t,e){super(t,q),this.produces=new Map([[2,t=>z(t)||A(t)&&8===this.parameters.renderOccluded],[3,t=>C(t)],[10,t=>O(t)&&8===this.parameters.renderOccluded],[11,t=>O(t)&&8===this.parameters.renderOccluded],[4,t=>A(t)&&this.parameters.writeDepth&&8!==this.parameters.renderOccluded],[8,t=>A(t)&&!this.parameters.writeDepth&&8!==this.parameters.renderOccluded],[18,t=>L(t)]]),this._configuration=new B(e)}getConfiguration(t,e){super.getConfiguration(t,e,this._configuration),this._configuration.oitPass=e.oitPass,this._configuration.draped=18===e.slot;const i=null!=this.parameters.stipplePattern&&9!==t;return this._configuration.stippleEnabled=i,this._configuration.stippleOffColorEnabled=i&&null!=this.parameters.stippleOffColor,this._configuration.stipplePreferContinuous=i&&this.parameters.stipplePreferContinuous,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.roundJoins=\"round\"===this.parameters.join,this._configuration.capType=this.parameters.cap,this._configuration.applyMarkerOffset=null!=this.parameters.markerParameters&&H(this.parameters.markerParameters),this._configuration.hasPolygonOffset=this.parameters.hasPolygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasVVSize=this.parameters.hasVVSize,this._configuration.hasVVColor=this.parameters.hasVVColor,this._configuration.hasVVOpacity=this.parameters.hasVVOpacity,this._configuration.innerColorEnabled=this.parameters.innerWidth>0&&null!=this.parameters.innerColor,this._configuration.falloffEnabled=this.parameters.falloff>0,this._configuration.hasOccludees=e.hasOccludees,this._configuration.occluder=8===this.parameters.renderOccluded,this._configuration.terrainDepthTest=e.terrainDepthTest&&A(t),this._configuration.cullAboveTerrain=e.cullAboveTerrain,this._configuration.wireframe=this.parameters.wireframe,this._configuration.animation=this.parameters.animation,this._configuration.emissionSource=this.hasEmissions?1:0,this._configuration.hasScreenSizePerspective=!!this.parameters.screenSizePerspective,this._configuration}get visible(){return this.parameters.color[3]>=W||null!=this.parameters.stipplePattern&&(this.parameters.stippleOffColor?.[3]??0)>W}setParameters(t,e){t.animation=this.parameters.animation,super.setParameters(t,e)}intersectDraped({attributes:t,screenToWorldRatio:i},r,s,a,n){if(!r.options.selectionMode)return;const o=t.get(\"size\");let l=this.parameters.width;if(this.parameters.vvSize){const i=t.get(\"sizeFeatureAttribute\").data[0];Number.isNaN(i)?l*=this.parameters.vvSize.fallback[0]:l*=e(this.parameters.vvSize.offset[0]+i*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0])}else o&&(l*=o.data[0]);const h=s[0],c=s[1],m=(l/2+4)*i;let p=Number.MAX_VALUE,u=0;const f=t.get(\"position\").data,d=I(this.parameters,t)?f.length-2:f.length-5;for(let g=0;g<d;g+=3){const t=f[g],i=f[g+1],r=(g+3)%f.length,s=h-t,a=c-i,n=f[r]-t,o=f[r+1]-i,l=e((n*s+o*a)/(n*n+o*o),0,1),m=n*l-s,d=o*l-a,b=m*m+d*d;b<p&&(p=b,u=g/3)}p<m*m&&a(n.distance,n.normal,u)}intersect(i,r,u,f,d,g){const{options:b,camera:_,rayBegin:P,rayEnd:w}=u;if(!b.selectionMode||!i.visible||!_)return;if(!x(r))return void t.getLogger(\"esri.views.3d.webgl-engine.materials.RibbonLineMaterial\").error(\"intersection assumes a translation-only matrix\");const z=i.attributes,A=z.get(\"position\").data;let C=this.parameters.width;if(this.parameters.vvSize){const t=z.get(\"sizeFeatureAttribute\").data[0];Number.isNaN(t)||(C*=e(this.parameters.vvSize.offset[0]+t*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0]))}else z.has(\"size\")&&(C*=z.get(\"size\").data[0]);const O=tt;s(O,u.point);const L=C*_.pixelRatio/2+4*_.pixelRatio;a(mt[0],O[0]-L,O[1]+L,0),a(mt[1],O[0]+L,O[1]+L,0),a(mt[2],O[0]+L,O[1]-L,0),a(mt[3],O[0]-L,O[1]-L,0);for(let t=0;t<4;t++)if(!_.unprojectFromRenderScreen(mt[t],pt[t]))return;E(_.eye,pt[0],pt[1],ut),E(_.eye,pt[1],pt[2],ft),E(_.eye,pt[2],pt[3],dt),E(_.eye,pt[3],pt[0],gt);let M=Number.MAX_VALUE,V=0;const R=I(this.parameters,z)?A.length-2:A.length-5;for(let t=0;t<R;t+=3){K[0]=A[t]+r[12],K[1]=A[t+1]+r[13],K[2]=A[t+2]+r[14];const e=(t+3)%A.length;if(Q[0]=A[e]+r[12],Q[1]=A[e+1]+r[13],Q[2]=A[e+2]+r[14],y(ut,K)<0&&y(ut,Q)<0||y(ft,K)<0&&y(ft,Q)<0||y(dt,K)<0&&y(dt,Q)<0||y(gt,K)<0&&y(gt,Q)<0)continue;const i=_.projectToRenderScreen(K,et),s=_.projectToRenderScreen(Q,it);if(null==i||null==s)continue;if(i[2]<0&&s[2]>0){n(Z,K,Q);const t=_.frustum,e=-y(t[4],K)/o(Z,T(t[4]));if(l(Z,Z,e),h(K,K,Z),!_.projectToRenderScreen(K,i))continue}else if(i[2]>0&&s[2]<0){n(Z,Q,K);const t=_.frustum,e=-y(t[4],Q)/o(Z,T(t[4]));if(l(Z,Z,e),h(Q,Q,Z),!_.projectToRenderScreen(Q,s))continue}else if(i[2]<0&&s[2]<0)continue;i[2]=0,s[2]=0;const a=S(v(i,s,at),O);a<M&&(M=a,c(rt,K),c(st,Q),V=t/3)}if(M<L*L){let t=Number.MAX_VALUE;if(j(v(rt,st,at),v(P,w,nt),$)){n($,$,P);const e=m($);l($,$,1/e),t=e/p(P,w)}g(t,$,V)}}get hasEmissions(){return this.parameters.emissiveStrength>0}createBufferWriter(){return new X(U(this.parameters),this.parameters)}createGLMaterial(t){return new Y(t)}validateParameters(t){\"miter\"!==t.join&&(t.miterLimit=0),null!=t.markerParameters&&(t.markerScale=t.markerParameters.width/t.width)}update(t){const{hasAnimation:e}=this.parameters;return!!e&&(this.setParameters({timeElapsed:r(t.time)},!1),0!==t.dt)}}class Y extends V{constructor(){super(...arguments),this._stipplePattern=null}dispose(){super.dispose(),this._stippleTextures?.release(this._stipplePattern),this._stipplePattern=null}beginSlot(t){const e=this._material.parameters.stipplePattern;return this._stipplePattern!==e&&(this._material.setParameters({stippleTexture:this._stippleTextures.swap(e,this._stipplePattern)}),this._stipplePattern=e),this.getTechnique(D,t)}}class q extends F{constructor(){super(...arguments),this.width=0,this.color=g,this.join=\"miter\",this.cap=0,this.miterLimit=5,this.writeDepth=!0,this.hasPolygonOffset=!1,this.stippleTexture=null,this.stipplePreferContinuous=!0,this.markerParameters=null,this.markerScale=1,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.isClosed=!1,this.falloff=0,this.innerWidth=0,this.wireframe=!1,this.timeElapsed=0,this.animation=0,this.animationSpeed=1,this.trailLength=1,this.startTime=0,this.endTime=1/0,this.fadeInTime=0,this.fadeOutTime=1/0,this.emissiveStrength=0}get transparent(){return this.color[3]<1||this.hasAnimation||null!=this.stipplePattern&&(this.stippleOffColor?.[3]??0)<1}get hasAnimation(){return 0!==this.animation}}class X{constructor(t,e){this.layout=t,this._parameters=e;const i=e.stipplePattern?1:0;switch(this._parameters.join){case\"miter\":case\"bevel\":this.numJoinSubdivisions=i;break;case\"round\":this.numJoinSubdivisions=N+i}}_isClosed(t){return I(this._parameters,t)}allocate(t){return this.layout.createBuffer(t)}elementCount(t){const e=2,i=t.get(\"position\").indices.length/2+1,r=this._isClosed(t);let s=r?2:2*e;return s+=((r?i:i-1)-(r?0:1))*(2*this.numJoinSubdivisions+4),s+=2,this._parameters.wireframe&&(s=2+4*(s-2)),s}write(t,e,i,r,s,n){const o=this.layout,l=i.get(\"position\"),h=l.indices,m=l.data.length/3,f=i.get(\"distanceToStart\")?.data;h&&h.length!==2*(m-1)&&console.warn(\"RibbonLineMaterial does not support indices\");const g=o.fields.has(\"sizeFeatureAttribute\");let b=1,S=null;if(g){const t=i.get(\"sizeFeatureAttribute\");1===t.data.length?b=t.data[0]:S=t.data}else b=i.get(\"size\")?.data[0]??1;let v=[1,1,1,1],P=0,j=null;const E=o.fields.has(\"colorFeatureAttribute\");if(E){const t=i.get(\"colorFeatureAttribute\");1===t.data.length?P=t.data[0]:j=t.data}else v=i.get(\"color\")?.data??v;const w=i.get(\"timeStamps\")?.data,y=w&&o.fields.has(\"timeStamps\"),T=o.fields.has(\"opacityFeatureAttribute\");let z=0,A=null;if(T){const t=i.get(\"opacityFeatureAttribute\");1===t.data.length?z=t.data[0]:A=t.data}const C=new Float32Array(s.buffer),O=_(s.buffer),L=new Uint8Array(s.buffer),V=o.stride/4;let R=n*V;const x=R;let F=0;const N=f?(t,e,i)=>F=f[i]:(t,e,i)=>F+=p(t,e),U=C.BYTES_PER_ELEMENT/O.BYTES_PER_ELEMENT,D=4/U,B=M(),W=(t,e,i,s,a,n,o,l)=>{C[R++]=e[0],C[R++]=e[1],C[R++]=e[2],k(t,e,O,R*U),R+=D,k(i,e,O,R*U),R+=D,C[R++]=l;let h=R*U;if(O[h++]=a,O[h++]=n,R=Math.ceil(h/U),E)C[R]=j?.[o]??P;else{const t=Math.min(4*o,v.length-4),e=4*R;L[e]=255*v[t],L[e+1]=255*v[t+1],L[e+2]=255*v[t+2],L[e+3]=255*v[t+3]}if(R++,C[R++]=S?.[o]??b,T&&(C[R++]=A?.[o]??z),B){let t=4*R;r?(L[t++]=r[0],L[t++]=r[1],L[t++]=r[2],L[t++]=r[3]):(L[t++]=0,L[t++]=0,L[t++]=0,L[t++]=0),R=Math.ceil(.25*t)}y&&(h=R*U,O[h++]=s[0],O[h++]=s[1],O[h++]=s[2],O[h++]=s[3],R=Math.ceil(h/U))};R+=V,a(lt,l.data[0],l.data[1],l.data[2]),y&&d(ct,w[0],w[1],w[2],w[3]),t&&u(lt,lt,t);const J=this._isClosed(i);if(J){const e=l.data.length-3;a(ot,l.data[e],l.data[e+1],l.data[e+2]),t&&u(ot,ot,t)}else a(ht,l.data[3],l.data[4],l.data[5]),t&&u(ht,ht,t),W(lt,lt,ht,ct,1,-4,0,0),W(lt,lt,ht,ct,1,4,0,0),c(ot,lt),c(lt,ht),y&&d(ct,w[4],w[5],w[6],w[7]);const Y=J?0:1,q=J?m:m-1;for(let p=Y;p<q;p++){const e=(p+1)%m*3;a(ht,l.data[e],l.data[e+1],l.data[e+2]),t&&u(ht,ht,t),N(ot,lt,p),W(ot,lt,ht,ct,0,-1,p,F),W(ot,lt,ht,ct,0,1,p,F);const i=this.numJoinSubdivisions;for(let t=0;t<i;++t){const e=(t+1)/(i+1);W(ot,lt,ht,ct,e,-1,p,F),W(ot,lt,ht,ct,e,1,p,F)}if(W(ot,lt,ht,ct,1,-2,p,F),W(ot,lt,ht,ct,1,2,p,F),c(ot,lt),c(lt,ht),y){const t=(p+1)%m*4;d(ct,w[t],w[t+1],w[t+2],w[t+3])}}J?(a(ht,l.data[3],l.data[4],l.data[5]),t&&u(ht,ht,t),F=N(ot,lt,q),W(ot,lt,ht,ct,0,-1,Y,F),W(ot,lt,ht,ct,0,1,Y,F)):(F=N(ot,lt,q),W(ot,lt,lt,ct,0,-5,q,F),W(ot,lt,lt,ct,0,5,q,F)),G(C,x+V,C,x,V);return R=G(C,R-V,C,R,V),this._parameters.wireframe&&this._addWireframeVertices(s,x,R,V),null}_addWireframeVertices(t,e,i,r){const s=new Float32Array(t.buffer,i*Float32Array.BYTES_PER_ELEMENT),a=new Float32Array(t.buffer,e*Float32Array.BYTES_PER_ELEMENT,i-e);let n=0;const o=t=>n=G(a,t,s,n,r);for(let l=0;l<a.length-1;l+=2*r)o(l),o(l+2*r),o(l+1*r),o(l+2*r),o(l+1*r),o(l+3*r)}}function G(t,e,i,r,s){for(let a=0;a<s;a++)i[r++]=t[e++];return r}function I(t,e){if(!t.isClosed)return!1;return e.get(\"position\").indices.length>2}function H(t){return 1===t.anchor&&t.hideOnShortSegments&&\"begin-end\"===t.placement&&t.worldSpace}const K=f(),Q=f(),Z=f(),$=f(),tt=f(),et=i(),it=i(),rt=f(),st=f(),at=P(),nt=P(),ot=f(),lt=f(),ht=f(),ct=b(),mt=[i(),i(),i(),i()],pt=[f(),f(),f(),f()],ut=w(),ft=w(),dt=w(),gt=w();export{q as Parameters,J as RibbonLineMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{generateUID as t}from\"../../../../core/uid.js\";import{e as i}from\"../../../../chunks/vec32.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectBuffer as s}from\"../../../../geometry/projection/projectBuffer.js\";import{Attribute as e}from\"./Attribute.js\";import{Geometry as n}from\"./Geometry.js\";import{fromValues as a}from\"./LocalOriginFactory.js\";import{Object3D as h}from\"./Object3D.js\";import{gridLocalOriginFactory as c}from\"./testUtils.js\";import{WebGLLayer as m}from\"./WebGLLayer.js\";import{RibbonLineMaterial as g}from\"../materials/RibbonLineMaterial.js\";class f{constructor(i){this._originSR=i,this._rootOriginId=\"root/\"+t(),this._origins=new Map,this._objects=new Map,this._gridSize=5e5}getOrigin(t){const r=this._origins.get(this._rootOriginId);if(null==r){const i=c.rootOrigin;if(null!=i)return this._origins.set(this._rootOriginId,a(i[0],i[1],i[2],this._rootOriginId)),this.getOrigin(t);const r=a(t[0]+Math.random()-.5,t[1]+Math.random()-.5,t[2]+Math.random()-.5,this._rootOriginId);return this._origins.set(this._rootOriginId,r),r}const o=this._gridSize,s=Math.round(t[0]/o),e=Math.round(t[1]/o),n=Math.round(t[2]/o),h=`${s}/${e}/${n}`;let m=this._origins.get(h);const g=.5*o;if(i(d,t,r.vec3),d[0]=Math.abs(d[0]),d[1]=Math.abs(d[1]),d[2]=Math.abs(d[2]),d[0]<g&&d[1]<g&&d[2]<g){if(m){const r=Math.max(...d);i(d,t,m.vec3),d[0]=Math.abs(d[0]),d[1]=Math.abs(d[1]),d[2]=Math.abs(d[2]);if(Math.max(...d)<r)return m}return r}return m||(m=a(s*o,e*o,n*o,h),this._origins.set(h,m)),m}_drawOriginBox(t,i=o(1,1,0,1)){const r=window.view,a=r.stage,c=i.toString();if(!this._objects.has(c)){this._material=new g({width:2,color:i},!1);const t=new m(a,{pickable:!1}),r=new h({castShadow:!1});t.add(r),this._objects.set(c,r)}const f=this._objects.get(c),d=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],l=d.length,_=new Array(3*l),p=new Array,j=.5*this._gridSize;for(let o=0;o<l;o++)_[3*o]=t[0]+(1&d[o]?j:-j),_[3*o+1]=t[1]+(2&d[o]?j:-j),_[3*o+2]=t[2]+(4&d[o]?j:-j),o>0&&p.push(o-1,o);s(_,this._originSR,0,_,r.renderSpatialReference,0,l);const b=new n(this._material,[[\"position\",new e(_,p,3,!0)]],null,2);f.addGeometry(b)}get test(){}}const d=r();export{f as GridLocalOriginFactory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isDehydratedPoint as e}from\"../../../layers/graphics/dehydratedFeatureUtils.js\";class r{constructor(e,r=null,t=0){this.array=e,this.spatialReference=r,this.offset=t}}function t(e){return\"array\"in e}function a(r,a,n=\"ground\"){if(e(a))return r.getElevation(a.x,a.y,a.z||0,a.spatialReference,n);if(t(a)){let e=a.offset;return r.getElevation(a.array[e++],a.array[e++],a.array[e]||0,a.spatialReference??r.spatialReference,n)}return r.getElevation(a[0],a[1],a[2]||0,r.spatialReference,n)}export{r as SamplePosition,a as getElevationAtPoint,t as isSamplePosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{copy as e}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeTranslationToOriginAndRotation as o}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBuffer as r}from\"../../../../geometry/projection/projectBuffer.js\";import{isDehydratedPoint as i}from\"../../../../layers/graphics/dehydratedFeatureUtils.js\";import{isSamplePosition as a,getElevationAtPoint as s}from\"../../support/ElevationProvider.js\";function l(e,t,n,o,i,a,s,l,c,u,f){const d=b[f.mode];let m,g,p=0;if(r(e,t,n,o,c.spatialReference,i,l))return d?.requiresAlignment(f)?(p=d.applyElevationAlignmentBuffer(o,i,a,s,l,c,u,f),m=a,g=s):(m=o,g=i),r(m,c.spatialReference,g,a,u.spatialReference,s,l)?p:void 0}function c(e,t,n,o,r){const l=(i(e)?e.z:a(e)?e.array[e.offset+2]:e[2])||0;switch(n.mode){case\"on-the-ground\":{const n=s(t,e,\"ground\")??0;return r.verticalDistanceToGround=0,r.sampledElevation=n,void(r.z=n)}case\"relative-to-ground\":{const i=s(t,e,\"ground\")??0,a=n.geometryZWithOffset(l,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case\"relative-to-scene\":{const i=s(t,e,\"scene\")??0,a=n.geometryZWithOffset(l,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case\"absolute-height\":{const i=n.geometryZWithOffset(l,o),a=s(t,e,\"ground\")??0;return r.verticalDistanceToGround=i-a,r.sampledElevation=a,void(r.z=i)}default:return void(r.z=0)}}function u(e,t,n,o){return c(e,t,n,o,j),j.z}function f(e,t,n){return\"on-the-ground\"===t&&\"on-the-ground\"===n?e.staysOnTheGround:t===n||\"on-the-ground\"!==t&&\"on-the-ground\"!==n?null==t||null==n?e.definedChanged:1:e.onTheGroundChanged}function d(e){return\"relative-to-ground\"===e||\"relative-to-scene\"===e}function m(e){return\"absolute-height\"!==e}function g(t,n,r,i,a){c(n,r,a,i,j),p(t,j.verticalDistanceToGround);const s=j.sampledElevation,l=e(R,t.transformation);O[0]=n.x,O[1]=n.y,O[2]=j.z;return o(n.spatialReference,O,l,i.spatialReference)?t.transformation=l:console.warn(\"Could not locate symbol object properly, it might be misplaced\"),s}function p(e,t){for(let n=0;n<e.geometries.length;++n){const o=e.geometries[n].getMutableAttribute(\"centerOffsetAndDistance\");o&&o.data[3]!==t&&(o.data[3]=t,e.geometryVertexAttributeUpdated(e.geometries[n],\"centerOffsetAndDistance\"))}}function v(e,t,n,o,r,i){let a=0;const s=i.spatialReference;t*=3,o*=3;for(let l=0;l<r;++l){const r=e[t],l=e[t+1],c=e[t+2],u=i.getElevation(r,l,c,s,\"ground\")??0;a+=u,n[o]=r,n[o+1]=l,n[o+2]=u,t+=3,o+=3}return a/r}function h(e,t,n,o,r,i,a,s){let l=0;const c=s.calculateOffsetRenderUnits(a),u=s.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let d=0;d<r;++d){const r=e[t],a=e[t+1],s=e[t+2],d=i.getElevation(r,a,s,f,\"ground\")??0;l+=d,n[o]=r,n[o+1]=a,n[o+2]=null==u?s+d+c:d+c,t+=3,o+=3}return l/r}function E(e,t,n,o,r,i,a,s){let l=0;const c=s.calculateOffsetRenderUnits(a),u=s.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let d=0;d<r;++d){const r=e[t],a=e[t+1],s=e[t+2],d=i.getElevation(r,a,s,f,\"scene\")??0;l+=d,n[o]=r,n[o+1]=a,n[o+2]=null==u?s+d+c:d+c,t+=3,o+=3}return l/r}function y(e){const t=e.meterUnitOffset,n=e.featureExpressionInfoContext;return 0!==t||null!=n}function A(e,t,n,o,r,i,a,s){const l=s.calculateOffsetRenderUnits(a),c=s.featureExpressionInfoContext;t*=3,o*=3;for(let u=0;u<r;++u){const r=e[t],i=e[t+1],a=e[t+2];n[o]=r,n[o+1]=i,n[o+2]=null==c?a+l:l,t+=3,o+=3}return 0}class x{constructor(){this.verticalDistanceToGround=0,this.sampledElevation=0,this.z=0}}const b={\"absolute-height\":{applyElevationAlignmentBuffer:A,requiresAlignment:y},\"on-the-ground\":{applyElevationAlignmentBuffer:v,requiresAlignment:()=>!0},\"relative-to-ground\":{applyElevationAlignmentBuffer:h,requiresAlignment:()=>!0},\"relative-to-scene\":{applyElevationAlignmentBuffer:E,requiresAlignment:()=>!0}},R=t(),j=new x,O=n();export{x as SampleElevationInfo,g as applyElevationAlignmentForHUD,l as applyPerVertexElevationAlignment,f as elevationModeChangeUpdateType,u as evaluateElevationAlignmentAtPoint,c as evaluateElevationInfoAtPoint,d as needsElevationUpdates2D,m as needsElevationUpdates3D,p as updateVertexPointGroundDistance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{hydrateGeometry as r}from\"../../../../layers/graphics/hydratedFeatures.js\";import{loadArcade as n}from\"../../../../support/loadArcade.js\";const c=()=>e.getLogger(\"esri.views.3d.layers.graphics.featureExpressionInfoUtils\");function o(e){return{cachedResult:e.cachedResult,arcade:e.arcade?{func:e.arcade.func,context:e.arcade.modules.arcadeUtils.createExecContext(null,{sr:e.arcade.context.spatialReference}),modules:e.arcade.modules}:null}}function u(e){const t=e?.expression;if(\"string\"==typeof t){const e=m(t);if(null!=e)return{cachedResult:e}}return null}async function a(e,r,c,o){const u=e?.expression;if(\"string\"!=typeof u)return null;const a=m(u);if(null!=a)return{cachedResult:a};const s=await n();t(c);const l=s.arcadeUtils,i=l.createSyntaxTree(u);return l.dependsOnView(i)?(null!=o&&o.error(\"Expressions containing '$view' are not supported on ElevationInfo\"),{cachedResult:0}):{arcade:{func:l.createFunction(i),context:l.createExecContext(null,{sr:r}),modules:s}}}function s(e,t,r){return e.arcadeUtils.createFeature(t.attributes,t.geometry,r)}function l(e,t){if(null!=e&&!p(e)){if(!t||!e.arcade)return void c().errorOncePerTick(\"Arcade support required but not provided\");const n=t;n._geometry&&(n._geometry=r(n._geometry)),e.arcade.modules.arcadeUtils.updateExecContext(e.arcade.context,t)}}function i(e){if(null!=e){if(p(e))return e.cachedResult;const t=e.arcade;let r=t?.modules.arcadeUtils.executeFunction(t.func,t.context);return\"number\"!=typeof r&&(e.cachedResult=0,r=0),r}return 0}function d(e,t=!1){let r=e?.featureExpressionInfo;const n=r?.expression;return t||\"0\"===n||(r=null),r??null}const f={cachedResult:0};function p(e){return null!=e.cachedResult}function m(e){return\"0\"===e?0:null}export{o as clone,a as createContext,u as createContextWithoutExpressionSupport,s as createFeature,i as execute,d as extractExpressionInfo,l as setContextFeature,f as zeroContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnit as t,supportsUnit as e}from\"../../../../symbols/support/unitConversionUtils.js\";import{execute as n,clone as s,setContextFeature as i,createFeature as r}from\"./featureExpressionInfoUtils.js\";class o{constructor(){this._meterUnitOffset=0,this._renderUnitOffset=0,this._unit=\"meters\",this._metersPerElevationInfoUnit=1,this._featureExpressionInfoContext=null,this.mode=null,this.centerInElevationSR=null}get featureExpressionInfoContext(){return this._featureExpressionInfoContext}get meterUnitOffset(){return this._meterUnitOffset}get unit(){return this._unit}set unit(e){this._unit=e,this._metersPerElevationInfoUnit=t(e)}get requiresSampledElevationInfo(){return\"absolute-height\"!==this.mode}reset(){this.mode=null,this._meterUnitOffset=0,this._renderUnitOffset=0,this._featureExpressionInfoContext=null,this.unit=\"meters\"}set offsetMeters(t){this._meterUnitOffset=t,this._renderUnitOffset=0}set offsetElevationInfoUnits(t){this._meterUnitOffset=t*this._metersPerElevationInfoUnit,this._renderUnitOffset=0}addOffsetRenderUnits(t){this._renderUnitOffset+=t}geometryZWithOffset(t,e){const n=this.calculateOffsetRenderUnits(e);return null!=this.featureExpressionInfoContext?n:t+n}calculateOffsetRenderUnits(t){let e=this._meterUnitOffset;const s=this.featureExpressionInfoContext;return null!=s&&(e+=n(s)*this._metersPerElevationInfoUnit),e/t.unitInMeters+this._renderUnitOffset}setFromElevationInfo(t){this.mode=t.mode,this.unit=e(t.unit)?t.unit:\"meters\",this.offsetElevationInfoUnits=t.offset??0}setFeatureExpressionInfoContext(t){this._featureExpressionInfoContext=t}updateFeatureExpressionInfoContextForGraphic(t,e,n){t.arcade?(this._featureExpressionInfoContext=s(t),this.updateFeatureExpressionFeature(e,n)):this._featureExpressionInfoContext=t}updateFeatureExpressionFeature(t,e){const n=this.featureExpressionInfoContext;n?.arcade&&(n.cachedResult=void 0,i(this._featureExpressionInfoContext,t.geometry?r(n.arcade.modules,t,e):null))}static fromElevationInfo(t){const e=new o;return null!=t&&e.setFromElevationInfo(t),e}}export{o as ElevationContext};\n"],"file":"RibbonLine.glsl-Dr1uLgn1.js"}