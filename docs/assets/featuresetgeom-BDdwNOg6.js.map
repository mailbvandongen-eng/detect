{"version":3,"file":"featuresetgeom-BDdwNOg6.js","sources":["../../node_modules/@arcgis/core/arcade/functions/featuresetgeom.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ArcadeExecutionError as e}from\"../executionError.js\";import{shapeExtent as t}from\"../kernel.js\";import{C as n,B as r,h as s,u as i,m as a}from\"../../chunks/languageUtils.js\";import o from\"../featureset/actions/SpatialFilter.js\";import u from\"../featureset/sources/Empty.js\";import{invokeRemoteGeometryOp as l}from\"../geometry/operatorsWorkerConnection.js\";function c(i){return async(c,f,p)=>{if(r(p,2,2,c,f),null===(p=n(p))[0]&&null===p[1])return!1;if(a(p[0])){if(s(p[1]))return new o({parentfeatureset:p[0],relation:i,relationGeom:p[1]});if(null===p[1])return new u({parentfeatureset:p[0]});throw new e(c,\"InvalidParameter\",f)}if(s(p[0])){if(s(p[1])){switch(i){case\"esriSpatialRelEnvelopeIntersects\":{const e=t(p[0]),n=t(p[1]);return null!=e&&null!=n&&l(\"intersects\",[e.toJSON(),n.toJSON()])}case\"esriSpatialRelIntersects\":return l(\"intersects\",[p[0].toJSON(),p[1].toJSON()]);case\"esriSpatialRelContains\":return l(\"contains\",[p[0].toJSON(),p[1].toJSON()]);case\"esriSpatialRelOverlaps\":return l(\"overlaps\",[p[0].toJSON(),p[1].toJSON()]);case\"esriSpatialRelWithin\":return l(\"within\",[p[0].toJSON(),p[1].toJSON()]);case\"esriSpatialRelTouches\":return l(\"touches\",[p[0].toJSON(),p[1].toJSON()]);case\"esriSpatialRelCrosses\":return l(\"crosses\",[p[0].toJSON(),p[1].toJSON()])}throw new e(c,\"InvalidParameter\",f)}if(a(p[1]))return new o({parentfeatureset:p[1],relation:i,relationGeom:p[0]});if(null===p[1])return!1;throw new e(c,\"InvalidParameter\",f)}if(null===p[0]){if(a(p[1]))return new u({parentfeatureset:p[1]});if(s(p[1])||null===p[1])return!1}throw new e(c,\"InvalidParameter\",f)}}function f(t){\"async\"===t.mode&&(t.functions.intersects=function(e,n){return t.standardFunctionAsync(e,n,c(\"esriSpatialRelIntersects\"))},t.functions.envelopeintersects=function(e,n){return t.standardFunctionAsync(e,n,c(\"esriSpatialRelEnvelopeIntersects\"))},t.signatures.push({name:\"envelopeintersects\",min:2,max:2}),t.functions.contains=function(e,n){return t.standardFunctionAsync(e,n,c(\"esriSpatialRelContains\"))},t.functions.overlaps=function(e,n){return t.standardFunctionAsync(e,n,c(\"esriSpatialRelOverlaps\"))},t.functions.within=function(e,n){return t.standardFunctionAsync(e,n,c(\"esriSpatialRelWithin\"))},t.functions.touches=function(e,n){return t.standardFunctionAsync(e,n,c(\"esriSpatialRelTouches\"))},t.functions.crosses=function(e,n){return t.standardFunctionAsync(e,n,c(\"esriSpatialRelCrosses\"))},t.functions.relate=function(o,c){return t.standardFunctionAsync(o,c,async(t,f,p)=>{if(p=n(p),r(p,3,3,o,c),s(p[0])&&s(p[1]))return l(\"relate\",[p[0].toJSON(),p[1].toJSON(),i(p[2])]);if(s(p[0])&&null===p[1])return!1;if(s(p[1])&&null===p[0])return!1;if(a(p[0])&&null===p[1])return new u({parentfeatureset:p[0]});if(a(p[1])&&null===p[0])return new u({parentfeatureset:p[1]});if(a(p[0])&&s(p[1]))return p[0].relate(p[1],i(p[2]));if(a(p[1])&&s(p[0]))return p[1].relate(p[0],i(p[2]));if(null===p[0]&&null===p[1])return!1;throw new e(o,\"InvalidParameter\",c)})})}export{f as registerFunctions};\n"],"names":["c","f","p","r","n","a","s","o","u","e","t","l","i"],"mappings":"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","x_google_ignoreList":[0]}