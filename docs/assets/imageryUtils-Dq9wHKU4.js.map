{"version":3,"file":"imageryUtils-Dq9wHKU4.js","sources":["../../node_modules/@arcgis/core/layers/save/imageryUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as t}from\"./utils.js\";import{getPrimaryRasters as r}from\"../support/rasterDatasets/datasetUtils.js\";import{getWGS84ExtentForItem as a,removeTypeKeyword as s,typeKeyword as i,toggleTypeKeyword as y}from\"../../portal/support/portalItemUtils.js\";const l=\"Image Service\",o=\"imagery-layer-save\",m=\"imagery-layer-save-as\",n=\"imagery-tile-layer-save\",c=\"imagery-tile-layer-save-as\",p=\"WCS\",u=\"wcs-layer-save\",g=\"wcs-layer-save-as\";function v(e){if(\"imagery\"===e.type||\"wcs\"===e.type)return{isValid:!0};const{raster:t}=e,a=r(t)[0];return{isValid:\"RasterTileServer\"===a?.datasetFormat&&(\"Raster\"===a.tileType||\"Map\"===a.tileType),errorMessage:\"imagery tile layer should be created from a tiled image service.\"}}function f(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function d(e,t){const{parsedUrl:r,title:l,fullExtent:o}=e;t.url=r.path,t.title||=l;try{t.extent=await a(o)}catch{t.extent=void 0}s(t,i.METADATA),y(t,i.TILED_IMAGERY,\"imagery-tile\"===e.type)}async function I(t,r){const a=\"imagery\"===t.type?o:\"imagery-tile\"===t.type?n:u,s=\"wcs\"===t.type?p:l;return e({layer:t,itemType:s,validateLayer:v,createItemData:f,errorNamePrefix:a},r)}async function T(e,r,a){const s=\"imagery\"===e.type?m:\"imagery-tile\"===e.type?c:g,i=\"wcs\"===e.type?p:l;return t({layer:e,itemType:i,validateLayer:v,createItemData:f,errorNamePrefix:s,newItem:r,setItemProperties:d},a)}export{I as save,T as saveAs};\n"],"names":["l","o","m","n","c","p","u","g","v","t","r","f","d","a","s","i","y","I","e","T"],"mappings":"qSAI2Q,MAAMA,EAAE,gBAAgBC,EAAE,qBAAqBC,EAAE,wBAAwBC,EAAE,0BAA0BC,EAAE,6BAA6BC,EAAE,MAAMC,EAAE,iBAAiBC,EAAE,oBAAoB,SAASC,EAAE,EAAE,CAAC,GAAe,EAAE,OAAd,WAA4B,EAAE,OAAV,MAAe,MAAM,CAAC,QAAQ,EAAE,EAAE,KAAK,CAAC,OAAOC,CAAC,EAAE,EAAE,EAAEC,EAAED,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,QAA6B,GAAG,gBAAxB,qBAAmD,EAAE,WAAb,UAA+B,EAAE,WAAV,OAAoB,aAAa,kEAAkE,CAAC,CAAC,SAASE,EAAE,EAAE,CAAC,MAAMF,EAAE,EAAE,UAAU,OAAO,QAAQ,QAAQA,GAAG,OAAO,KAAKA,CAAC,EAAE,OAAOA,EAAE,IAAI,CAAC,CAAC,eAAeG,EAAE,EAAEH,EAAE,CAAC,KAAK,CAAC,UAAUC,EAAE,MAAMV,EAAE,WAAWC,CAAC,EAAE,EAAEQ,EAAE,IAAIC,EAAE,KAAKD,EAAE,QAAQT,EAAE,GAAG,CAACS,EAAE,OAAO,MAAMI,EAAEZ,CAAC,CAAC,MAAM,CAACQ,EAAE,OAAO,MAAM,CAACK,EAAEL,EAAEM,EAAE,QAAQ,EAAEC,EAAEP,EAAEM,EAAE,cAA+B,EAAE,OAAnB,cAAuB,CAAC,CAAC,eAAeE,EAAER,EAAE,EAAE,CAAC,MAAM,EAAcA,EAAE,OAAd,UAAmBR,EAAmBQ,EAAE,OAAnB,eAAwBN,EAAEG,EAAEQ,EAAUL,EAAE,OAAV,MAAeJ,EAAEL,EAAE,OAAOkB,EAAE,CAAC,MAAMT,EAAE,SAASK,EAAE,cAAcN,EAAE,eAAeG,EAAE,gBAAgB,CAAC,EAAE,CAAC,CAAC,CAAC,eAAeQ,EAAE,EAAE,EAAE,EAAE,CAAC,MAAML,EAAc,EAAE,OAAd,UAAmBZ,EAAmB,EAAE,OAAnB,eAAwBE,EAAEG,EAAE,EAAU,EAAE,OAAV,MAAeF,EAAEL,EAAE,OAAOS,EAAE,CAAC,MAAM,EAAE,SAAS,EAAE,cAAcD,EAAE,eAAeG,EAAE,gBAAgBG,EAAE,QAAQ,EAAE,kBAAkBF,CAAC,EAAE,CAAC,CAAC","x_google_ignoreList":[0]}