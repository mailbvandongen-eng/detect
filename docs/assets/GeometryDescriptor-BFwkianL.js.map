{"version":3,"file":"GeometryDescriptor-BFwkianL.js","sources":["../../node_modules/@arcgis/core/layers/support/GeometryDescriptor.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../geometry/Multipoint.js\";import t from\"../../geometry/Point.js\";import s from\"../../geometry/Polyline.js\";import{initializeProjection as n,project as o}from\"../../geometry/projectionUtils.js\";class r{constructor(e){this.geometry=e,this.spatialReference=e.spatialReference}export(){return this._exporter(this.coordinates,this.spatialReference)}clone(e){const t=new r(this.geometry);return t.spatialReference=this.spatialReference,t.coordinates=e??this.coordinates.map(e=>e.clone()),t._exporter=this._exporter,t}async project(t,s){if(this.spatialReference.equals(t))return this.clone();await n([{source:this.spatialReference,dest:t}],{signal:s});const r=new e({spatialReference:this.spatialReference,points:this.coordinates.map(e=>[e.x,e.y])}),i=o(r,t);if(!i)return null;const a=this.coordinates.map((e,t)=>{const s=e.clone(),n=i.points[t];return s.x=n[0],s.y=n[1],s}),c=this.clone(a);return c.spatialReference=t,c}static fromGeometry(n){const o=new r(n);if(n instanceof r)return o.coordinates=n.coordinates.map(e=>e.clone()),o._exporter=(e,t)=>{const s=n.clone(e);return s.spatialReference=t,s},o;switch(n.type){case\"point\":{const e=n,{hasZ:s,hasM:r}=e;return o.coordinates=s&&r?[new i(e.x,e.y,e.z,e.m)]:s?[new i(e.x,e.y,e.z)]:r?[new i(e.x,e.y,null,e.m)]:[new i(e.x,e.y)],o._exporter=(e,s)=>n.hasM?new t(e[0].x,e[0].y,e[0].z,e[0].m,s):new t(e[0].x,e[0].y,e[0].z,s),o}case\"multipoint\":{const t=n,{hasZ:s,hasM:r}=t;return o.coordinates=s&&r?t.points.map(e=>new i(e[0],e[1],e[2],e[3])):s?t.points.map(e=>new i(e[0],e[1],e[2])):r?t.points.map(e=>new i(e[0],e[1],null,e[2])):t.points.map(e=>new i(e[0],e[1])),o._exporter=(t,s)=>n.hasM?new e({points:t.map(e=>[e.x,e.y,e.z??0,e.m??0]),hasZ:!0,hasM:!0,spatialReference:s}):new e({points:t.map(e=>[e.x,e.y,e.z??0]),spatialReference:s}),o}case\"polyline\":{const e=n,t=[],r=[],{hasZ:a,hasM:c}=n;let p=0;for(const s of e.paths)if(r.push([p,p+s.length]),p+=s.length,a&&c)for(const e of s)t.push(new i(e[0],e[1],e[2],e[3]));else if(a)for(const e of s)t.push(new i(e[0],e[1],e[2]));else if(c)for(const e of s)t.push(new i(e[0],e[1],null,e[2]));else for(const e of s)t.push(new i(e[0],e[1]));return o.coordinates=t,o._exporter=(e,t)=>{const o=n.hasM?e.map(e=>[e.x,e.y,e.z??0,e.m??0]):e.map(e=>[e.x,e.y,e.z??0]),i=r.map(e=>o.slice(e[0],e[1]));return new s({paths:i,hasM:n.hasM,hasZ:!0,spatialReference:t})},o}}}}class i{constructor(e,t,s=null,n=null,o=null,r=null){this.x=e,this.y=t,this.z=s,this.m=n,this.tile=o,this.elevationTile=r}clone(){return new i(this.x,this.y,this.z,this.m)}}export{i as Coordinate,r as GeometryDescriptor};\n"],"names":["r","e","t","s","n","i","o","c","a","p"],"mappings":"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","x_google_ignoreList":[0]}