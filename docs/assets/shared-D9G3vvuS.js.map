{"version":3,"file":"shared-D9G3vvuS.js","sources":["../../node_modules/@arcgis/core/arcade/featureset/support/shared.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ArcadeDate as e}from\"../../ArcadeDate.js\";import{DateOnly as i}from\"../../../core/sql/DateOnly.js\";import{TimeOnly as r}from\"../../../core/sql/TimeOnly.js\";import t from\"../../../layers/support/Field.js\";import{DateTime as n}from\"luxon\";function o(e){return t.fromJSON(e.toJSON())}function l(e){return e.toJSON?e.toJSON():e}function s(e){return\"string\"==typeof e||e instanceof String}function y(e){return\"boolean\"==typeof e}function p(e){return\"number\"==typeof e}function u(e){return Array.isArray(e)}function c(e){return e instanceof Date}function m(e){return e instanceof n}function a(i){return i instanceof e}function f(e){return e instanceof i}function d(e){return e instanceof r}function T(e,i){return e===i||!(!c(e)&&!a(e)||!c(i)&&!a(i))&&e.getTime()===i.getTime()}function g(e){const i={};for(const r in e)i[r]=e[r];return i}function F(e,i){return e===i||(\"point\"===e&&\"esriGeometryPoint\"===i||(\"polyline\"===e&&\"esriGeometryPolyline\"===i||(\"polygon\"===e&&\"esriGeometryPolygon\"===i||(\"extent\"===e&&\"esriGeometryEnvelope\"===i||(\"multipoint\"===e&&\"esriGeometryMultipoint\"===i||(\"point\"===i&&\"esriGeometryPoint\"===e||(\"polyline\"===i&&\"esriGeometryPolyline\"===e||(\"polygon\"===i&&\"esriGeometryPolygon\"===e||(\"extent\"===i&&\"esriGeometryEnvelope\"===e||\"multipoint\"===i&&\"esriGeometryMultipoint\"===e)))))))))}const G=1e3;function O(e){return function(i){e.reject(i)}}function b(e,i){return function(){try{e.apply(null,arguments)}catch(r){i.reject(r)}}}const S={point:\"point\",polygon:\"polygon\",polyline:\"polyline\",multipoint:\"multipoint\",extent:\"extent\",esriGeometryPoint:\"point\",esriGeometryPolygon:\"polygon\",esriGeometryPolyline:\"polyline\",esriGeometryMultipoint:\"multipoint\",esriGeometryEnvelope:\"extent\",envelope:\"extent\"},D={point:\"esriGeometryPoint\",polygon:\"esriGeometryPolygon\",polyline:\"esriGeometryPolyline\",multipoint:\"esriGeometryMultipoint\",extent:\"esriGeometryEnvelope\",esriGeometryPoint:\"esriGeometryPoint\",esriGeometryPolygon:\"esriGeometryPolygon\",esriGeometryPolyline:\"esriGeometryPolyline\",esriGeometryMultipoint:\"esriGeometryMultipoint\",esriGeometryEnvelope:\"esriGeometryEnvelope\",envelope:\"esriGeometryEnvelope\"},P={\"small-integer\":\"esriFieldTypeSmallInteger\",integer:\"esriFieldTypeInteger\",long:\"esriFieldTypeLong\",single:\"esriFieldTypeSingle\",double:\"esriFieldTypeDouble\",string:\"esriFieldTypeString\",date:\"esriFieldTypeDate\",\"date-only\":\"esriFieldTypeDateOnly\",\"time-only\":\"esriFieldTypeTimeOnly\",\"timestamp-offset\":\"esriFieldTypeTimestampOffset\",oid:\"esriFieldTypeOID\",geometry:\"esriFieldTypeGeometry\",blob:\"esriFieldTypeBlob\",raster:\"esriFieldTypeRaster\",guid:\"esriFieldTypeGUID\",\"global-id\":\"esriFieldTypeGlobalID\",xml:\"esriFieldTypeXML\",\"big-integer\":\"esriFieldTypeBigInteger\",esriFieldTypeSmallInteger:\"esriFieldTypeSmallInteger\",esriFieldTypeInteger:\"esriFieldTypeInteger\",esriFieldTypeLong:\"esriFieldTypeLong\",esriFieldTypeSingle:\"esriFieldTypeSingle\",esriFieldTypeDouble:\"esriFieldTypeDouble\",esriFieldTypeString:\"esriFieldTypeString\",esriFieldTypeDate:\"esriFieldTypeDate\",esriFieldTypeDateOnly:\"esriFieldTypeDateOnly\",esriFieldTypeTimeOnly:\"esriFieldTypeTimeOnly\",esriFieldTypeTimestampOffset:\"esriFieldTypeTimestampOffset\",esriFieldTypeOID:\"esriFieldTypeOID\",esriFieldTypeGeometry:\"esriFieldTypeGeometry\",esriFieldTypeBlob:\"esriFieldTypeBlob\",esriFieldTypeRaster:\"esriFieldTypeRaster\",esriFieldTypeGUID:\"esriFieldTypeGUID\",esriFieldTypeGlobalID:\"esriFieldTypeGlobalID\",esriFieldTypeXML:\"esriFieldTypeXML\",esriFieldTypeBigInteger:\"esriFieldTypeBigInteger\"};function v(e){switch(e){case\"point\":default:return\"esriGeometryPoint\";case\"polygon\":return\"esriGeometryPolygon\";case\"multipoint\":return\"esriGeometryMultipoint\";case\"polyline\":return\"esriGeometryPolyline\"}}function I(e){return void 0===e?\"\":e=(e=(e=e.replace(/\\/featureserver\\/[0-9]*/i,\"/FeatureServer\")).replace(/\\/mapserver\\/[0-9]*/i,\"/MapServer\")).split(\"?\")[0]}function J(e,i){i||(i={}),\"function\"==typeof i&&(i={cmp:i});const r=\"boolean\"==typeof i.cycles&&i.cycles,t=i.cmp&&(n=i.cmp,function(e){return function(i,r){const t={key:i,value:e[i]},o={key:r,value:e[r]};return n(t,o)}});var n;const o=[];return function e(i){if(i?.toJSON&&\"function\"==typeof i.toJSON&&(i=i.toJSON()),void 0===i)return;if(\"number\"==typeof i)return isFinite(i)?\"\"+i:\"null\";if(\"object\"!=typeof i)return JSON.stringify(i);let n,l;if(Array.isArray(i)){for(l=\"[\",n=0;n<i.length;n++)n&&(l+=\",\"),l+=e(i[n])||\"null\";return l+\"]\"}if(null===i)return\"null\";if(o.includes(i)){if(r)return JSON.stringify(\"__cycle__\");throw new TypeError(\"Converting circular structure to JSON\")}const s=o.push(i)-1,y=Object.keys(i).sort(t?.(i));for(l=\"\",n=0;n<y.length;n++){const r=y[n],t=e(i[r]);t&&(l&&(l+=\",\"),l+=JSON.stringify(r)+\":\"+t)}return o.splice(s,1),\"{\"+l+\"}\"}(e)}function M(e){switch(e.type){case\"catalog\":case\"csv\":case\"feature\":case\"geojson\":case\"knowledge-graph-sublayer\":case\"oriented-imagery\":case\"subtype-group\":case\"wfs\":return!0;default:return!1}}function N(e){switch(e.type){case\"catalog-footprint\":case\"subtype-sublayer\":return!0;default:return M(e)}}export{b as callback,g as cloneAttributes,o as cloneField,G as defaultMaxRecords,T as equalityTest,O as errback,l as esriFieldToJson,I as extractServiceUrl,a as isArcadeDate,f as isArcadeDateOnly,d as isArcadeTime,u as isArray,y as isBoolean,c as isDate,m as isLuxonDate,p as isNumber,s as isString,N as isSupportedLayer,M as isSupportedSourceLayer,P as layerFieldEsriConstants,S as layerGeometryEsriConstants,D as layerGeometryEsriRestConstants,F as sameGeomType,J as stableStringify,v as toEsriGeometryType};\n"],"names":["o","t","l","c","m","n","a","i","e","f","d","r","G","S","D","P","I","J","s","y","M","N"],"mappings":"yGAIoP,SAASA,EAAE,EAAE,CAAC,OAAOC,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC,SAASC,EAAE,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,OAAM,EAAG,CAAC,CAAkL,SAASC,EAAE,EAAE,CAAC,OAAO,aAAa,IAAI,CAAC,SAASC,EAAE,EAAE,CAAC,OAAO,aAAaC,CAAC,CAAC,SAASC,EAAEC,EAAE,CAAC,OAAOA,aAAaC,CAAC,CAAC,SAASC,EAAE,EAAE,CAAC,OAAO,aAAaF,CAAC,CAAC,SAASG,EAAE,EAAE,CAAC,OAAO,aAAaC,CAAC,CAAqnB,MAACC,EAAE,IAA6IC,EAAE,CAAC,MAAM,OAAiQ,EAAEC,EAAE,CAAC,MAAM,oBAAoB,QAAQ,sBAAsB,SAAS,uBAAuB,WAAW,yBAAyB,OAAO,uBAAuB,kBAAkB,oBAAoB,oBAAoB,sBAAsB,qBAAqB,uBAAuB,uBAAuB,yBAAyB,qBAAqB,uBAAuB,SAAS,sBAAsB,EAAEC,EAAE,CAAC,gBAAgB,4BAA4B,QAAQ,uBAAuB,KAAK,oBAAoB,OAAO,sBAAsB,OAAO,sBAAsB,OAAO,sBAAsB,KAAK,oBAAoB,YAAY,wBAAwB,YAAY,wBAAwB,mBAAmB,+BAA+B,IAAI,mBAAmB,SAAS,wBAAwB,KAAK,oBAAoB,OAAO,sBAAsB,KAAK,oBAAoB,YAAY,wBAAwB,IAAI,mBAAmB,cAAc,0BAA0B,0BAA0B,4BAA4B,qBAAqB,uBAAuB,kBAAkB,oBAAoB,oBAAoB,sBAAsB,oBAAoB,sBAAsB,oBAAoB,sBAAsB,kBAAkB,oBAAoB,sBAAsB,wBAAwB,sBAAsB,wBAAwB,6BAA6B,+BAA+B,iBAAiB,mBAAmB,sBAAsB,wBAAwB,kBAAkB,oBAAoB,oBAAoB,sBAAsB,kBAAkB,oBAAoB,sBAAsB,wBAAwB,iBAAiB,mBAAmB,wBAAwB,yBAAyB,EAA+M,SAASC,EAAE,EAAE,CAAC,OAAgB,IAAT,OAAW,GAAG,GAAG,GAAG,EAAE,EAAE,QAAQ,2BAA2B,gBAAgB,GAAG,QAAQ,uBAAuB,YAAY,GAAG,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC,SAASC,EAAE,EAAEV,EAAE,CAACA,IAAIA,EAAE,IAAgB,OAAOA,GAAnB,aAAuBA,EAAE,CAAC,IAAIA,CAAC,GAAG,MAAMI,EAAa,OAAOJ,EAAE,QAApB,WAA4BA,EAAE,OAAON,EAAEM,EAAE,MAAMF,EAAEE,EAAE,IAAI,SAASC,EAAE,CAAC,OAAO,SAASD,EAAEI,EAAE,CAAC,MAAM,EAAE,CAAC,IAAIJ,EAAE,MAAMC,EAAED,CAAC,CAAC,EAAE,EAAE,CAAC,IAAII,EAAE,MAAMH,EAAEG,CAAC,CAAC,EAAE,OAAON,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,IAAIA,EAAE,MAAML,EAAE,GAAG,OAAO,SAASQ,EAAED,EAAE,CAAC,GAAGA,GAAG,QAAoB,OAAOA,EAAE,QAArB,aAA8BA,EAAEA,EAAE,OAAM,GAAaA,IAAT,OAAW,OAAO,GAAa,OAAOA,GAAjB,SAAmB,OAAO,SAASA,CAAC,EAAE,GAAGA,EAAE,OAAO,GAAa,OAAOA,GAAjB,SAAmB,OAAO,KAAK,UAAUA,CAAC,EAAE,IAAIF,EAAEH,EAAE,GAAG,MAAM,QAAQK,CAAC,EAAE,CAAC,IAAIL,EAAE,IAAIG,EAAE,EAAEA,EAAEE,EAAE,OAAOF,IAAIA,IAAIH,GAAG,KAAKA,GAAGM,EAAED,EAAEF,CAAC,CAAC,GAAG,OAAO,OAAOH,EAAE,GAAG,CAAC,GAAUK,IAAP,KAAS,MAAM,OAAO,GAAGP,EAAE,SAASO,CAAC,EAAE,CAAC,GAAGI,EAAE,OAAO,KAAK,UAAU,WAAW,EAAE,MAAM,IAAI,UAAU,uCAAuC,CAAC,CAAC,MAAMO,EAAElB,EAAE,KAAKO,CAAC,EAAE,EAAEY,EAAE,OAAO,KAAKZ,CAAC,EAAE,KAAKN,IAAIM,CAAC,CAAC,EAAE,IAAIL,EAAE,GAAGG,EAAE,EAAEA,EAAEc,EAAE,OAAOd,IAAI,CAAC,MAAMM,EAAEQ,EAAEd,CAAC,EAAEJ,EAAEO,EAAED,EAAEI,CAAC,CAAC,EAAEV,IAAIC,IAAIA,GAAG,KAAKA,GAAG,KAAK,UAAUS,CAAC,EAAE,IAAIV,EAAE,CAAC,OAAOD,EAAE,OAAOkB,EAAE,CAAC,EAAE,IAAIhB,EAAE,GAAG,GAAE,CAAC,CAAC,CAAC,SAASkB,EAAE,EAAE,CAAC,OAAO,EAAE,KAAI,CAAE,IAAI,UAAU,IAAI,MAAM,IAAI,UAAU,IAAI,UAAU,IAAI,2BAA2B,IAAI,mBAAmB,IAAI,gBAAgB,IAAI,MAAM,SAAS,QAAQ,MAAM,EAAE,CAAC,CAAC,SAASC,EAAE,EAAE,CAAC,OAAO,EAAE,KAAI,CAAE,IAAI,oBAAoB,IAAI,mBAAmB,SAAS,QAAQ,OAAOD,EAAE,CAAC,CAAC,CAAC","x_google_ignoreList":[0]}