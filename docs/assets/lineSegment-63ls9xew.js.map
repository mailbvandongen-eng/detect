{"version":3,"file":"lineSegment-63ls9xew.js","sources":["../../node_modules/@arcgis/core/geometry/support/lineSegment.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{ObjectStack as r}from\"../../core/ObjectStack.js\";import{d as n,e as o,f as e,m as i,h as c,g as s,s as u}from\"../../chunks/vec32.js\";import{create as a,clone as g}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{sv3d as f}from\"./vectorStacks.js\";function v(t){return t?{origin:g(t.origin),vector:g(t.vector)}:{origin:a(),vector:a()}}function m(t,r){const n=S.get();return n.origin=t,n.vector=r,n}function p(t,r=v()){return h(t.origin,t.vector,r)}function h(t,r,o=v()){return n(o.origin,t),n(o.vector,r),o}function b(t,r,e=v()){return n(e.origin,t),o(e.vector,r,t),e}function M(r,n){const i=o(f.get(),n,r.origin),s=e(r.vector,i),u=e(r.vector,r.vector),a=t(s/u,0,1),g=o(f.get(),c(f.get(),r.vector,a),i);return e(g,g)}function j(t,r,n){return A(t,r,0,1,n)}function l(t,r,n){return s(n,t.origin,c(n,t.vector,r))}function A(r,n,u,a,g){const{vector:v,origin:m}=r,p=o(f.get(),n,m),h=e(v,p)/i(v);return c(g,v,t(h,u,a)),s(g,g,r.origin)}function d(t,r){if(k(t,m(r.origin,r.direction),!1,x)){const{tA:r,pB:n,distance2:o}=x;if(r>=0&&r<=1)return o;if(r<0)return u(t.origin,n);if(r>1)return u(s(f.get(),t.origin,t.vector),n)}return null}function B(t,r,o){return!!k(t,r,!0,x)&&(n(o,x.pA),!0)}function k(r,n,o,e){const i=1e-6,c=r.origin,a=s(f.get(),c,r.vector),g=n.origin,v=s(f.get(),g,n.vector),m=f.get(),p=f.get();if(m[0]=c[0]-g[0],m[1]=c[1]-g[1],m[2]=c[2]-g[2],p[0]=v[0]-g[0],p[1]=v[1]-g[1],p[2]=v[2]-g[2],Math.abs(p[0])<i&&Math.abs(p[1])<i&&Math.abs(p[2])<i)return!1;const h=f.get();if(h[0]=a[0]-c[0],h[1]=a[1]-c[1],h[2]=a[2]-c[2],Math.abs(h[0])<i&&Math.abs(h[1])<i&&Math.abs(h[2])<i)return!1;const b=m[0]*p[0]+m[1]*p[1]+m[2]*p[2],M=p[0]*h[0]+p[1]*h[1]+p[2]*h[2],j=m[0]*h[0]+m[1]*h[1]+m[2]*h[2],l=p[0]*p[0]+p[1]*p[1]+p[2]*p[2],A=(h[0]*h[0]+h[1]*h[1]+h[2]*h[2])*l-M*M;if(Math.abs(A)<i)return!1;let d=(b*M-j*l)/A,B=(b+M*d)/l;o&&(d=t(d,0,1),B=t(B,0,1));const k=f.get(),x=f.get();return k[0]=c[0]+d*h[0],k[1]=c[1]+d*h[1],k[2]=c[2]+d*h[2],x[0]=g[0]+B*p[0],x[1]=g[1]+B*p[1],x[2]=g[2]+B*p[2],e.tA=d,e.tB=B,e.pA=k,e.pB=x,e.distance2=u(k,x),!0}const x={tA:0,tB:0,pA:a(),pB:a(),distance2:0},S=new r(()=>v());export{B as closestLineSegmentPoint,d as closestRayDistance2,p as copy,v as create,M as distance2,b as fromPoints,h as fromValues,l as pointAt,j as projectPoint,A as projectPointClamp,m as wrap};\n"],"names":["v","t","g","a","m","S","p","h","o","n","b","e","M","r","i","f","s","u","c","j","A","l","d","k","x","B"],"mappings":"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","x_google_ignoreList":[0]}