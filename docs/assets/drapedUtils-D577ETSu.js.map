{"version":3,"file":"drapedUtils-D577ETSu.js","sources":["../../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../../node_modules/@arcgis/core/views/support/drapedUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const o=t[r].size;\"number\"==typeof o&&(e+=o,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t?.stops?.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter(t=>\"size\"===t.type).map(e=>{const{maxSize:r,minSize:o}=e;return(n(r,t)+n(o,t))/2});let o=0;const s=r.length;if(0===s)return t;for(let n=0;n<s;n++)o+=r[n];const f=Math.floor(o/s);return Math.max(f,t)}function o(e){const n=e?.renderer,o=e?.pointerType,s=\"touch\"===o?9:6;if(!n)return s;const f=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(f,n.symbol);if(\"unique-value\"===n.type){let e=f;return n.uniqueValueInfos?.forEach(n=>{e=t(e,n.symbol)}),e}if(\"class-breaks\"===n.type){let e=f;return n.classBreakInfos.forEach(n=>{e=t(e,n.symbol)}),e}return\"dot-density\"===n.type||n.type,f}export{o as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../core/unitUtils.js\";import t from\"../../geometry/Extent.js\";import{calculateTolerance as n}from\"../../renderers/support/clickToleranceUtils.js\";function r(n,r,i,a=new t){let o=0;if(\"2d\"===i.type)o=r*(i.resolution??0);else if(\"3d\"===i.type){const t=i.overlayPixelSizeInMapUnits(n),a=i.basemapSpatialReference;o=null==a||a.equals(i.spatialReference)?r*t:e(a)/e(i.spatialReference)}const s=n.x-o,l=n.y-o,c=n.x+o,m=n.y+o,{spatialReference:p}=i;return a.xmin=Math.min(s,c),a.ymin=Math.min(l,m),a.xmax=Math.max(s,c),a.ymax=Math.max(l,m),a.spatialReference=p,a}function i(e,t,i){const o=i.toMap(e);if(null==o)return!1;return r(o,n(),i,a).intersects(t)}let a=new t;function o(){a=new t}export{o as cleanupDrapedUtils,r as createQueryGeometry,i as intersectsDrapedGeometry};\n"],"names":["t","e","n","r","o","f","s","i","a","l","c","m","p"],"mappings":"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","x_google_ignoreList":[0,1]}