{"version":3,"mappings":"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","names":["d","p","m","s","o","e","t","l","n","__vitePreload","r","c","u","i","a","w","y","f","b","v","h","g"],"ignoreList":[0,1,2,3,4],"sources":["../../node_modules/@arcgis/core/widgets/support/UtilityNetworkAssociations/UtilityNetworkAssociationList.js","../../node_modules/@arcgis/core/widgets/support/UtilityNetworkAssociations/utils/formatPercentAlong.js","../../node_modules/@arcgis/core/widgets/support/UtilityNetworkAssociations/utils/isConnectivity.js","../../node_modules/@arcgis/core/widgets/support/UtilityNetworkAssociations/utils/isConnectivityMidspan.js","../../node_modules/@arcgis/core/widgets/Feature/FeatureUtilityNetworkAssociationList.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import\"../../../intl.js\";import t from\"../../../core/ReactiveMap.js\";import{watch as o}from\"../../../core/reactiveUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../Widget.js\";import{loadCalciteComponents as n}from\"../componentsUtils.js\";import\"../widgetUtils.js\";import{messageBundle as a}from\"../decorators/messageBundle.js\";import{tsx as c}from\"../jsxFactory.js\";import\"@arcgis/toolkit/dom\";import l from\"./FeatureUtilityNetworkAssociationsViewModel.js\";import{substitute as u}from\"../../../intl/substitute.js\";const d=\"esri-utility-network-association-list\",p={featureObserver:`${d}__feature-observer`,filterContainer:`${d}__filter-container`,limitNoticeContainer:`${d}__limit-notice-container`,loadingContainer:`${d}__loading-container`};let m=class extends s{constructor(e,o){super(e,o),this._isFeatureCountNoticeOpen=!0,this._observer=new IntersectionObserver(([e])=>{e?.isIntersecting&&this._increaseFeaturePage()},{root:window.document}),this._observerNode=null,this.featuresPerPage=50,this.filterText=\"\",this.headingLevel=5,this.maxFeatureCount=1e3,this.messagesFeature=null,this.messagesCommon=null,this.selectedLayer=null,this.tooltipReferenceMap=new t,this.viewModel=new l}initialize(){this.setUpObserver()}loadDependencies(){return n({icon:()=>import(\"@esri/calcite-components/dist/components/calcite-icon\"),input:()=>import(\"@esri/calcite-components/dist/components/calcite-input\"),loader:()=>import(\"@esri/calcite-components/dist/components/calcite-loader\"),notice:()=>import(\"@esri/calcite-components/dist/components/calcite-notice\")})}destroy(){this.tooltipReferenceMap.clear()}get associatedFeatureCount(){const e=this.viewModel.associationViewModels,t=this.selectedLayer?e.get(this.selectedLayer):null;return t?t.length:0}set currentFeaturePage(e){const{featuresPerPage:t,associatedFeatureCount:o}=this,i=Math.ceil(o/t)||1,r=Math.max(Math.min(e,i),1);this._set(\"currentFeaturePage\",r)}get currentFeaturePage(){return this._get(\"currentFeaturePage\")??1}get endIndex(){const{currentFeaturePage:e,featuresPerPage:t,maxFeatureCount:o}=this;return Math.min(e*t,o)}renderConnectivityIcon(e,t){const{tooltipReferenceMap:o}=this;let i;switch(e){case\"junction-edge-from-connectivity\":i=\"connection-end-left\";break;case\"junction-edge-to-connectivity\":i=\"connection-end-right\";break;case\"junction-edge-midspan-connectivity\":i=\"connection-middle\";break;default:i=\"connection-to-connection\"}return c(\"calcite-icon\",{afterCreate:e=>o.set(t,e),afterRemoved:()=>o.delete(t),icon:i,scale:\"s\",slot:\"content-start\"})}renderFeatureCountWarning(){const{associatedFeatureCount:e,maxFeatureCount:t,messagesFeature:o}=this;return e>t?c(\"calcite-notice\",{class:this._isFeatureCountNoticeOpen?p.limitNoticeContainer:void 0,closable:!0,icon:\"information\",kind:\"info\",open:!0,scale:\"s\",width:\"full\",onCalciteNoticeBeforeOpen:()=>this._isFeatureCountNoticeOpen=!0,onCalciteNoticeClose:()=>this._isFeatureCountNoticeOpen=!1},c(\"div\",{slot:\"title\"},o.associationsLimitNoticeTitle),c(\"div\",{slot:\"message\"},u(o.associationsLimitNoticeMessage,{number:t}))):null}renderFeatureObserver(){return c(\"div\",{afterCreate:this._onObserverCreate,bind:this,class:p.featureObserver,key:\"feature-observer\"})}renderFilter(){return c(\"div\",{class:p.filterContainer,key:\"filter\"},c(\"calcite-input\",{icon:\"search\",placeholder:this.messagesFeature.associationFilterPlaceholder,type:\"search\",onCalciteInputInput:e=>{this.filterText=e.currentTarget.value.trim().toLowerCase(),this.currentFeaturePage=1}}))}renderLoading(){return c(\"div\",{class:p.loadingContainer,key:\"loading-container\"},this.renderLoadingIcon())}renderLoadingIcon(){return c(\"calcite-loader\",{inline:!0,label:this.messagesCommon.loading})}getConnectivityTooltip(e){const{messagesFeature:t}=this;switch(e){case\"connectivity\":case\"junction-junction-connectivity\":return t.associationsJunctionJunction;case\"junction-edge-from-connectivity\":return t.associationsJunctionEdgeFrom;case\"junction-edge-midspan-connectivity\":return t.associationsJunctionEdgeMidspan;case\"junction-edge-to-connectivity\":return t.associationsJunctionEdgeTo;default:return\"\"}}setUpObserver(){this.addHandles(o(()=>this._observerNode,()=>this._onObserverChange()))}_increaseFeaturePage(){this.currentFeaturePage++}_onObserverChange(){this._observerNode&&this._observer.unobserve(this._observerNode);const{state:e,showAllEnabled:t}=this.viewModel;this._observerNode&&\"ready\"===e&&t&&this._observer.observe(this._observerNode)}_onObserverCreate(e){this._observerNode=e}};e([i()],m.prototype,\"_observer\",void 0),e([i()],m.prototype,\"_observerNode\",void 0),e([i()],m.prototype,\"associatedFeatureCount\",null),e([i()],m.prototype,\"currentFeaturePage\",null),e([i()],m.prototype,\"endIndex\",null),e([i()],m.prototype,\"featuresPerPage\",void 0),e([i()],m.prototype,\"filterText\",void 0),e([i()],m.prototype,\"headingLevel\",void 0),e([i()],m.prototype,\"maxFeatureCount\",void 0),e([i(),a(\"esri/widgets/Feature/t9n/Feature\")],m.prototype,\"messagesFeature\",void 0),e([i(),a(\"esri/t9n/common\")],m.prototype,\"messagesCommon\",void 0),e([i()],m.prototype,\"selectedLayer\",void 0),e([i()],m.prototype,\"tooltipReferenceMap\",void 0),e([i({type:l})],m.prototype,\"viewModel\",void 0),m=e([r(\"esri.widgets.support.UtilityNetworkAssociations.UtilityNetworkAssociationList\")],m);export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../intl.js\";import{formatNumber as t}from\"../../../../intl/number.js\";function n(n){const{percentAlong:r}=n;return null==r?\"\":t(r,{style:\"percent\",maximumFractionDigits:2})}export{n as formatPercentAlong};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction n(n){const{associationType:t}=n;return\"connectivity\"===t||\"junction-junction-connectivity\"===t||\"junction-edge-from-connectivity\"===t||\"junction-edge-midspan-connectivity\"===t||\"junction-edge-to-connectivity\"===t}export{n as isConnectivity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction n(n){return\"junction-edge-midspan-connectivity\"===n.associationType}export{n as isConnectivityMidspan};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import\"../../intl.js\";import{stripHTML as t}from\"../../core/string.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"./FeatureUtilityNetworkAssociations/VisibleElements.js\";import{loadCalciteComponents as l}from\"../support/componentsUtils.js\";import{globalCss as r}from\"../support/globalCss.js\";import\"../support/widgetUtils.js\";import{tsx as n,tsxFragment as a}from\"../support/jsxFactory.js\";import\"@arcgis/toolkit/dom\";import c from\"../support/UtilityNetworkAssociations/FeatureUtilityNetworkAssociationsViewModel.js\";import d from\"../support/UtilityNetworkAssociations/UtilityNetworkAssociationList.js\";import{formatPercentAlong as p}from\"../support/UtilityNetworkAssociations/utils/formatPercentAlong.js\";import{isConnectivity as u}from\"../support/UtilityNetworkAssociations/utils/isConnectivity.js\";import{isConnectivityMidspan as m}from\"../support/UtilityNetworkAssociations/utils/isConnectivityMidspan.js\";import{substitute as h}from\"../../intl/substitute.js\";var w;const y=\"esri-feature-utility-network-associations\",f={base:y,listItemHidden:`${y}__list-item--hidden`},b=\"nested\";let v=w=class extends d{constructor(e,t){super(e,t),this.description=null,this.flowItems=null,this.flowType=\"feature-utility-network-association-type\",this.listType=null,this.parentFeatureViewModel=null,this.title=null,this.viewModel=new c,this.visibleElements=new o}initialize(){this.setUpObserver()}loadDependencies(){return l({chip:()=>import(\"@esri/calcite-components/dist/components/calcite-chip\"),icon:()=>import(\"@esri/calcite-components/dist/components/calcite-icon\"),list:()=>import(\"@esri/calcite-components/dist/components/calcite-list\"),\"list-item\":()=>import(\"@esri/calcite-components/dist/components/calcite-list-item\"),tooltip:()=>import(\"@esri/calcite-components/dist/components/calcite-tooltip\")})}destroy(){this.tooltipReferenceMap.clear()}render(){const e=this.viewModel.associationViewModels,{state:t,showAllEnabled:i}=this.viewModel,{state:s}=this.parentFeatureViewModel??{};return n(\"div\",{class:this.classes(f.base,r.widget)},\"loading\"===t||\"querying\"===t||\"loading\"===s?this.renderLoading():n(\"calcite-list\",{displayMode:b,label:this.selectedLayer?.title??this.messagesCommon.untitled},i&&this.selectedLayer?n(a,null,this.renderFilter(),this.renderFeatureCountWarning(),this._renderAssociatedFeatureListPage(),this.renderFeatureObserver()):Array.from(e.keys(),t=>this._renderTypeList(t,e.get(t)))))}_showAllAssociations(e){const{flowItems:t,viewModel:i,description:s}=this;if(!t||!e)return;i.showAllEnabled=!0;const l=new w({selectedLayer:e,title:e?.title,flowItems:t,parentFeatureViewModel:this.parentFeatureViewModel,featureVisibleElements:this.featureVisibleElements,description:s,visibleElements:new o({title:!1,description:!1}),viewModel:i});t.push(l)}_renderAssociatedFeatureListPage(){const e=this.viewModel.associationViewModels.get(this.selectedLayer).filter(e=>e.title.toLowerCase().includes(this.filterText)).slice(0,this.endIndex);return[...this._renderTooltips(e),...this._renderAssociatedFeatureList(e)]}_renderItemTooltip(e){const{tooltipReferenceMap:t}=this;return u(e.association)?n(\"calcite-tooltip\",{key:`tooltip-${e.featureViewModel.uid}`,overlayPositioning:\"fixed\",referenceElement:t.get(e.featureViewModel.uid)},this.getConnectivityTooltip(e.association.associationType)):null}_renderAssociatedFeature(e){const{featureViewModel:i,title:s}=e,o=\"loading\"===i.state,l=this._findFlowItem(i),r=l<0&&this._isParentFeature(i),a=r||l>=0;return n(\"calcite-list-item\",{class:o?f.listItemHidden:void 0,description:t(e.terminalName??\"\"),key:`associated-feature-type-${i.uid}`,label:t(s),onCalciteListItemSelect:()=>this._handleFeatureClick(r,l,i)},u(e.association)?this.renderConnectivityIcon(e.association.associationType,e.featureViewModel.uid):null,m(e.association)?n(\"calcite-chip\",{label:p(e.association),scale:\"s\",slot:\"content-end\"},p(e.association)):null,this._renderChevronIconNode(a))}async _selectAssociation(e){const{flowItems:t,featureVisibleElements:i}=this;if(!t)return;e.abilities={utilityNetworkAssociationsContent:!0};const{default:s}=await import(\"../Feature.js\");t.push(new s({flowItems:t,flowType:\"feature-association\",viewModel:e,visibleElements:i}))}_handleFeatureClick(e,t,i){if(e)this.flowItems.drain(e=>{\"showAllEnabled\"in e.viewModel&&(e.viewModel.showAllEnabled=!1),e.viewModel=null,e.destroy()});else if(t<0||!this.flowItems)this._selectAssociation(i);else for(;this.flowItems.length>t+1;){const e=this.flowItems.pop();e&&(\"showAllEnabled\"in e.viewModel&&(e.viewModel.showAllEnabled=!1),e.viewModel=null,e.destroy())}}_featureViewModelMatch(e,t){const i=e.graphic,s=i?.layer;let o=null;\"subtype-sublayer\"===s?.type&&s.parent?o=s.parent.globalIdField??null:s&&\"globalIdField\"in s&&(o=s.globalIdField);const l=o?i?.attributes[o]:null,r=t.graphic,n=r?.layer;let a=null;\"subtype-sublayer\"===n?.type&&n.parent?a=n.parent.globalIdField??null:n&&\"globalIdField\"in n&&(a=n.globalIdField);const c=a?r?.attributes[a]:null;return l&&c&&l===c}_isParentFeature(e){const t=this.flowItems?.getItemAt(0);if(!t)return!1;const i=t.parentFeatureViewModel;return this._featureViewModelMatch(i,e)}_findFlowItem(e){return this.flowItems?.findIndex(t=>{if(\"feature-association\"!==t.flowType)return!1;const i=t.viewModel;return this._featureViewModelMatch(i,e)})??-1}_renderTooltips(e){return e.toArray().map(e=>this._renderItemTooltip(e))}_renderAssociatedFeatureList(e){return e.toArray().map(e=>this._renderAssociatedFeature(e))}_renderChevronIconNode(e){return n(\"calcite-icon\",{flipRtl:!0,icon:e?\"move-up\":\"chevron-right\",scale:\"s\",slot:\"content-end\"})}_renderTypeList(e,t){const{messagesFeature:i}=this,{displayCount:s}=this.viewModel,o=t.slice(0,s),l=o.length<t.length;return n(\"calcite-list-item\",{expanded:!0,key:\"show-all\",label:e.title,value:e.id},n(\"calcite-chip\",{label:String(t.length),scale:\"s\",slot:\"content-end\"},t.length),n(\"calcite-list\",{group:e.id,label:e.title??\"\"},[this._renderTooltips(o),this._renderAssociatedFeatureList(o)],l?n(\"calcite-list-item\",{description:h(i?.numberRecords,{number:t.length.toString()}),key:\"show-all-item\",label:i.showAll,onCalciteListItemSelect:()=>this._showAllAssociations(e)},n(\"calcite-icon\",{icon:\"list\",scale:\"s\",slot:\"content-end\"})):null))}};e([i()],v.prototype,\"description\",void 0),e([i()],v.prototype,\"featureVisibleElements\",void 0),e([i()],v.prototype,\"flowItems\",void 0),e([i()],v.prototype,\"flowType\",void 0),e([i()],v.prototype,\"listType\",void 0),e([i()],v.prototype,\"parentFeatureViewModel\",void 0),e([i()],v.prototype,\"title\",void 0),e([i({type:c})],v.prototype,\"viewModel\",void 0),e([i({type:o,nonNullable:!0})],v.prototype,\"visibleElements\",void 0),v=w=e([s(\"esri.widgets.Feature.FeatureUtilityNetworkAssociationList\")],v);const g=v;export{g as default};\n"],"file":"FeatureUtilityNetworkAssociationList-S4J-Pc3j.js"}