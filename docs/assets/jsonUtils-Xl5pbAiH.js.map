{"version":3,"file":"jsonUtils-Xl5pbAiH.js","sources":["../../node_modules/@arcgis/core/layers/effects/jsonUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{setDeepValue as t}from\"../../core/object.js\";import{parse as r}from\"./parser.js\";import{isEffectFunctions as s}from\"./utils.js\";function n(e,t,r){try{return c(e)}catch(s){r?.messages?.push(s)}return null}function a(e,r,s,n){try{const n=o(e);t(s,n,r)}catch(a){n.messages&&n.messages.push(a)}}function o(e){const t=r(e);return t?s(t)?t.map(e=>e.toJSON()):t.map(({scale:e,effects:t})=>({scale:e,value:t.map(e=>e.toJSON())})):null}function c(e){if(!e||0===e.length)return null;if(f(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:i(r.value)});return t}return i(e)}function f(e){const t=e[0];return!!t&&\"scale\"in t}function i(e){if(!e?.length)return\"\";const t=[];for(const s of e){let e=[];switch(s.type){case\"grayscale\":case\"sepia\":case\"saturate\":case\"invert\":case\"brightness\":case\"contrast\":case\"opacity\":e=[u(s,\"amount\")];break;case\"blur\":e=[u(s,\"radius\",\"pt\")];break;case\"hue-rotate\":e=[u(s,\"angle\",\"deg\")];break;case\"drop-shadow\":e=[u(s,\"xoffset\",\"pt\"),u(s,\"yoffset\",\"pt\"),u(s,\"blurRadius\",\"pt\"),l(s,\"color\")];break;case\"bloom\":e=[u(s,\"strength\"),u(s,\"radius\",\"pt\"),u(s,\"threshold\")]}const n=`${s.type}(${e.filter(Boolean).join(\" \")})`;r(n),t.push(n)}return t.join(\" \")}function u(t,r,s){if(null==t[r])throw new e(\"effect:missing-parameter\",`Missing parameter '${r}' in ${t.type} effect`,{effect:t});return s?t[r]+s:\"\"+t[r]}function l(t,r){if(null==t[r])throw new e(\"effect:missing-parameter\",`Missing parameter '${r}' in ${t.type} effect`,{effect:t});const s=t[r];return`rgba(${s[0]||0}, ${s[1]||0}, ${s[2]||0}, ${s[3]/255||0})`}export{i as effectFunctionsFromJSON,c as fromJSON,n as read,o as toJSON,a as write};\n"],"names":["n","e","t","r","c","s","a","o","f","i","u","l"],"mappings":"gGAI0K,SAASA,EAAEC,EAAEC,EAAEC,EAAE,CAAC,GAAG,CAAC,OAAOC,EAAEH,CAAC,CAAC,OAAOI,EAAE,CAACF,GAAG,UAAU,KAAKE,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,SAASC,EAAEL,EAAEE,EAAEE,EAAE,EAAE,CAAC,GAAG,CAAC,MAAML,EAAEO,EAAEN,CAAC,EAAEC,EAAEG,EAAEL,EAAEG,CAAC,CAAC,OAAOG,EAAE,CAAC,EAAE,UAAU,EAAE,SAAS,KAAKA,CAAC,CAAC,CAAC,CAAC,SAASC,EAAEN,EAAE,CAAC,MAAMC,EAAEC,EAAEF,CAAC,EAAE,OAAOC,EAAEG,EAAEH,CAAC,EAAEA,EAAE,IAAI,GAAG,EAAE,OAAM,CAAE,EAAEA,EAAE,IAAI,CAAC,CAAC,MAAM,EAAE,QAAQA,CAAC,KAAK,CAAC,MAAM,EAAE,MAAMA,EAAE,IAAID,GAAGA,EAAE,OAAM,CAAE,CAAC,EAAE,EAAE,IAAI,CAAC,SAASG,EAAEH,EAAE,CAAC,GAAG,CAACA,GAAOA,EAAE,SAAN,EAAa,OAAO,KAAK,GAAGO,EAAEP,CAAC,EAAE,CAAC,MAAMC,EAAE,CAAA,EAAG,UAAUC,KAAKF,EAAEC,EAAE,KAAK,CAAC,MAAMC,EAAE,MAAM,MAAMM,EAAEN,EAAE,KAAK,CAAC,CAAC,EAAE,OAAOD,CAAC,CAAC,OAAOO,EAAER,CAAC,CAAC,CAAC,SAASO,EAAEP,EAAE,CAAC,MAAMC,EAAED,EAAE,CAAC,EAAE,MAAM,CAAC,CAACC,GAAG,UAAUA,CAAC,CAAC,SAASO,EAAER,EAAE,CAAC,GAAG,CAACA,GAAG,OAAO,MAAM,GAAG,MAAMC,EAAE,CAAA,EAAG,UAAUG,KAAKJ,EAAE,CAAC,IAAIA,EAAE,CAAA,EAAG,OAAOI,EAAE,KAAI,CAAE,IAAI,YAAY,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,IAAI,aAAa,IAAI,WAAW,IAAI,UAAUJ,EAAE,CAACS,EAAEL,EAAE,QAAQ,CAAC,EAAE,MAAM,IAAI,OAAOJ,EAAE,CAACS,EAAEL,EAAE,SAAS,IAAI,CAAC,EAAE,MAAM,IAAI,aAAaJ,EAAE,CAACS,EAAEL,EAAE,QAAQ,KAAK,CAAC,EAAE,MAAM,IAAI,cAAcJ,EAAE,CAACS,EAAEL,EAAE,UAAU,IAAI,EAAEK,EAAEL,EAAE,UAAU,IAAI,EAAEK,EAAEL,EAAE,aAAa,IAAI,EAAEM,EAAEN,EAAE,OAAO,CAAC,EAAE,MAAM,IAAI,QAAQJ,EAAE,CAACS,EAAEL,EAAE,UAAU,EAAEK,EAAEL,EAAE,SAAS,IAAI,EAAEK,EAAEL,EAAE,WAAW,CAAC,CAAC,CAAC,MAAML,EAAE,GAAGK,EAAE,IAAI,IAAIJ,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,CAAC,IAAIE,EAAEH,CAAC,EAAEE,EAAE,KAAKF,CAAC,CAAC,CAAC,OAAOE,EAAE,KAAK,GAAG,CAAC,CAAC,SAASQ,EAAE,EAAEP,EAAEE,EAAE,CAAC,GAAS,EAAEF,CAAC,GAAT,KAAW,MAAM,IAAIF,EAAE,2BAA2B,sBAAsBE,CAAC,QAAQ,EAAE,IAAI,UAAU,CAAC,OAAO,CAAC,CAAC,EAAE,OAAOE,EAAE,EAAEF,CAAC,EAAEE,EAAE,GAAG,EAAEF,CAAC,CAAC,CAAC,SAASQ,EAAE,EAAER,EAAE,CAAC,GAAS,EAAEA,CAAC,GAAT,KAAW,MAAM,IAAIF,EAAE,2BAA2B,sBAAsBE,CAAC,QAAQ,EAAE,IAAI,UAAU,CAAC,OAAO,CAAC,CAAC,EAAE,MAAME,EAAE,EAAEF,CAAC,EAAE,MAAM,QAAQE,EAAE,CAAC,GAAG,CAAC,KAAKA,EAAE,CAAC,GAAG,CAAC,KAAKA,EAAE,CAAC,GAAG,CAAC,KAAKA,EAAE,CAAC,EAAE,KAAK,CAAC,GAAG","x_google_ignoreList":[0]}