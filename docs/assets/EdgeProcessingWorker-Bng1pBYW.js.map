{"version":3,"file":"EdgeProcessingWorker-Bng1pBYW.js","sources":["../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{packInterleavedBuffer as e}from\"../../../support/buffer/workerHelper.js\";import{EdgeInputBufferLayout as t}from\"./bufferLayouts.js\";import{extractEdges as n}from\"./edgePreprocessing.js\";import{extract as s,extractEdgeInformation as r,extractComponentsEdgeLocationsLayout as i,extractEdgeLocationsLayout as a}from\"./edgeProcessing.js\";class o{async extract(e){const t=c(e),n=s(t),r=[t.data.buffer];return{result:u(n,r),transferList:r}}async extractComponentsEdgeLocations(t){const s=c(t),i=r(s.data,s.skipDeduplicate,s.indices,s.indicesLength),a=n(i,p),o=[];return{result:e(a.regular.instancesData,o),transferList:o}}async extractEdgeLocations(t){const s=c(t),i=r(s.data,s.skipDeduplicate,s.indices,s.indicesLength),a=n(i,f),o=[];return{result:e(a.regular.instancesData,o),transferList:o}}}function c(e){return{data:t.createView(e.dataBuffer),indices:\"Uint32Array\"===e.indicesType?new Uint32Array(e.indices):\"Uint16Array\"===e.indicesType?new Uint16Array(e.indices):e.indices,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function u(t,n){n.push(t.regular.lodInfo.lengths.buffer),n.push(t.silhouette.lodInfo.lengths.buffer);return{regular:{instancesData:e(t.regular.instancesData,n),lodInfo:{lengths:t.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:e(t.silhouette.instancesData,n),lodInfo:{lengths:t.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:t.averageEdgeLength}}class l{allocate(e){return a.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1)}}class d{allocate(e){return i.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex)}}const f=new l,p=new d;export{o as default};\n"],"names":["o","e","t","c","n","s","r","u","i","a","p","f","l","d"],"mappings":"yfAIqV,MAAMA,CAAC,CAAC,MAAM,QAAQC,EAAE,CAAC,MAAMC,EAAEC,EAAEF,CAAC,EAAEG,EAAEC,EAAEH,CAAC,EAAEI,EAAE,CAACJ,EAAE,KAAK,MAAM,EAAE,MAAM,CAAC,OAAOK,EAAEH,EAAEE,CAAC,EAAE,aAAaA,CAAC,CAAC,CAAC,MAAM,+BAA+B,EAAE,CAAC,MAAMD,EAAEF,EAAE,CAAC,EAAEK,EAAEF,EAAED,EAAE,KAAKA,EAAE,gBAAgBA,EAAE,QAAQA,EAAE,aAAa,EAAEI,EAAEL,EAAEI,EAAEE,CAAC,EAAEV,EAAE,CAAA,EAAG,MAAM,CAAC,OAAOC,EAAEQ,EAAE,QAAQ,cAAcT,CAAC,EAAE,aAAaA,CAAC,CAAC,CAAC,MAAM,qBAAqB,EAAE,CAAC,MAAMK,EAAEF,EAAE,CAAC,EAAEK,EAAEF,EAAED,EAAE,KAAKA,EAAE,gBAAgBA,EAAE,QAAQA,EAAE,aAAa,EAAEI,EAAEL,EAAEI,EAAEG,CAAC,EAAEX,EAAE,CAAA,EAAG,MAAM,CAAC,OAAOC,EAAEQ,EAAE,QAAQ,cAAcT,CAAC,EAAE,aAAaA,CAAC,CAAC,CAAC,CAAC,SAASG,EAAEF,EAAE,CAAC,MAAM,CAAC,KAAKC,EAAE,WAAWD,EAAE,UAAU,EAAE,QAAwBA,EAAE,cAAlB,cAA8B,IAAI,YAAYA,EAAE,OAAO,EAAkBA,EAAE,cAAlB,cAA8B,IAAI,YAAYA,EAAE,OAAO,EAAEA,EAAE,QAAQ,cAAcA,EAAE,cAAc,eAAeA,EAAE,eAAe,gBAAgBA,EAAE,eAAe,CAAC,CAAC,SAASM,EAAEL,EAAEE,EAAE,CAAC,OAAAA,EAAE,KAAKF,EAAE,QAAQ,QAAQ,QAAQ,MAAM,EAAEE,EAAE,KAAKF,EAAE,WAAW,QAAQ,QAAQ,MAAM,EAAQ,CAAC,QAAQ,CAAC,cAAcD,EAAEC,EAAE,QAAQ,cAAcE,CAAC,EAAE,QAAQ,CAAC,QAAQF,EAAE,QAAQ,QAAQ,QAAQ,MAAM,CAAC,EAAE,WAAW,CAAC,cAAcD,EAAEC,EAAE,WAAW,cAAcE,CAAC,EAAE,QAAQ,CAAC,QAAQF,EAAE,WAAW,QAAQ,QAAQ,MAAM,CAAC,EAAE,kBAAkBA,EAAE,iBAAiB,CAAC,CAAC,MAAMU,CAAC,CAAC,SAASX,EAAE,CAAC,OAAOQ,EAAE,aAAaR,CAAC,CAAC,CAAC,KAAKA,EAAEC,EAAE,CAAC,OAAOD,EAAE,MAAM,EAAEC,CAAC,CAAC,CAAC,MAAMD,EAAEC,EAAEE,EAAE,CAACH,EAAE,UAAU,OAAOC,EAAEE,EAAE,SAAS,EAAEH,EAAE,UAAU,OAAOC,EAAEE,EAAE,SAAS,CAAC,CAAC,CAAC,MAAMS,CAAC,CAAC,SAASZ,EAAE,CAAC,OAAOO,EAAE,aAAaP,CAAC,CAAC,CAAC,KAAKA,EAAEC,EAAE,CAAC,OAAOD,EAAE,MAAM,EAAEC,CAAC,CAAC,CAAC,MAAMD,EAAEC,EAAEE,EAAE,CAACH,EAAE,UAAU,OAAOC,EAAEE,EAAE,SAAS,EAAEH,EAAE,UAAU,OAAOC,EAAEE,EAAE,SAAS,EAAEH,EAAE,eAAe,IAAIC,EAAEE,EAAE,cAAc,CAAC,CAAC,CAAC,MAAMO,EAAE,IAAIC,EAAEF,EAAE,IAAIG","x_google_ignoreList":[0]}