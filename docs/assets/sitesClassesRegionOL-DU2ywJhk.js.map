{"version":3,"file":"sitesClassesRegionOL-DU2ywJhk.js","sources":["../../src/layers/sitesClassesRegionOL.ts"],"sourcesContent":["/**\r\n * Sites Class√©s et Inscrits - Per Franse Regio\r\n * Beschermde sites (AC2 servitudes) per regio\r\n * Bron: G√©oplateforme IGN - Minist√®re de la Transition √©cologique\r\n */\r\nimport VectorLayer from 'ol/layer/Vector'\r\nimport VectorSource from 'ol/source/Vector'\r\nimport GeoJSON from 'ol/format/GeoJSON'\r\nimport { Style, Fill, Stroke } from 'ol/style'\r\n\r\n// Regio configuratie\r\nexport const SITES_CLASSES_REGIONS = {\r\n  'Sites Class√©s Bretagne': { file: 'sites_classes_bretagne.geojson', color: '#228B22' },\r\n  'Sites Class√©s Normandie': { file: 'sites_classes_normandie.geojson', color: '#2E8B57' },\r\n  'Sites Class√©s Hauts-de-France': { file: 'sites_classes_hauts_de_france.geojson', color: '#3CB371' },\r\n  'Sites Class√©s Grand Est': { file: 'sites_classes_grand_est.geojson', color: '#20B2AA' },\r\n  'Sites Class√©s √éle-de-France': { file: 'sites_classes_ile_de_france.geojson', color: '#008B8B' },\r\n  'Sites Class√©s Centre-Val de Loire': { file: 'sites_classes_centre_vdl.geojson', color: '#006400' },\r\n  'Sites Class√©s Bourgogne-FC': { file: 'sites_classes_bourgogne_fc.geojson', color: '#556B2F' },\r\n  'Sites Class√©s Pays de la Loire': { file: 'sites_classes_pays_de_la_loire.geojson', color: '#6B8E23' },\r\n  'Sites Class√©s Nouvelle-Aquitaine': { file: 'sites_classes_nouvelle_aquitaine.geojson', color: '#808000' },\r\n  'Sites Class√©s Auvergne-RA': { file: 'sites_classes_auvergne_ra.geojson', color: '#9ACD32' },\r\n  'Sites Class√©s Occitanie': { file: 'sites_classes_occitanie.geojson', color: '#32CD32' },\r\n  'Sites Class√©s PACA': { file: 'sites_classes_paca.geojson', color: '#00FA9A' },\r\n  'Sites Class√©s Corse': { file: 'sites_classes_corse.geojson', color: '#00FF7F' }\r\n} as const\r\n\r\nexport type SitesClassesRegion = keyof typeof SITES_CLASSES_REGIONS\r\n\r\nexport async function createSitesClassesRegionLayerOL(\r\n  regionName: SitesClassesRegion\r\n): Promise<VectorLayer<VectorSource>> {\r\n  const config = SITES_CLASSES_REGIONS[regionName]\r\n\r\n  const response = await fetch(`/detect/data/${config.file}`)\r\n  const geojson = await response.json()\r\n\r\n  console.log(`üìç ${regionName}: ${geojson.features?.length || 0} sites`)\r\n\r\n  const source = new VectorSource({\r\n    features: new GeoJSON().readFeatures(geojson, {\r\n      dataProjection: 'EPSG:4326',\r\n      featureProjection: 'EPSG:3857'\r\n    })\r\n  })\r\n\r\n  const layer = new VectorLayer({\r\n    source,\r\n    properties: {\r\n      title: regionName,\r\n      type: 'overlay'\r\n    },\r\n    visible: false,\r\n    style: new Style({\r\n      fill: new Fill({ color: `${config.color}40` }), // 25% opacity\r\n      stroke: new Stroke({ color: config.color, width: 2 })\r\n    })\r\n  })\r\n\r\n  return layer\r\n}\r\n"],"names":["SITES_CLASSES_REGIONS","createSitesClassesRegionLayerOL","regionName","config","geojson","source","VectorSource","GeoJSON","VectorLayer","Style","Fill","Stroke"],"mappings":"2EAWO,MAAMA,EAAwB,CACnC,yBAA0B,CAAE,KAAM,iCAAkC,MAAO,SAAA,EAC3E,0BAA2B,CAAE,KAAM,kCAAmC,MAAO,SAAA,EAC7E,gCAAiC,CAAE,KAAM,wCAAyC,MAAO,SAAA,EACzF,0BAA2B,CAAE,KAAM,kCAAmC,MAAO,SAAA,EAC7E,8BAA+B,CAAE,KAAM,sCAAuC,MAAO,SAAA,EACrF,oCAAqC,CAAE,KAAM,mCAAoC,MAAO,SAAA,EACxF,6BAA8B,CAAE,KAAM,qCAAsC,MAAO,SAAA,EACnF,iCAAkC,CAAE,KAAM,yCAA0C,MAAO,SAAA,EAC3F,mCAAoC,CAAE,KAAM,2CAA4C,MAAO,SAAA,EAC/F,4BAA6B,CAAE,KAAM,oCAAqC,MAAO,SAAA,EACjF,0BAA2B,CAAE,KAAM,kCAAmC,MAAO,SAAA,EAC7E,qBAAsB,CAAE,KAAM,6BAA8B,MAAO,SAAA,EACnE,sBAAuB,CAAE,KAAM,8BAA+B,MAAO,SAAA,CACvE,EAIA,eAAsBC,EACpBC,EACoC,CACpC,MAAMC,EAASH,EAAsBE,CAAU,EAGzCE,EAAU,MADC,MAAM,MAAM,gBAAgBD,EAAO,IAAI,EAAE,GAC3B,KAAA,EAE/B,QAAQ,IAAI,MAAMD,CAAU,KAAKE,EAAQ,UAAU,QAAU,CAAC,QAAQ,EAEtE,MAAMC,EAAS,IAAIC,EAAa,CAC9B,SAAU,IAAIC,IAAU,aAAaH,EAAS,CAC5C,eAAgB,YAChB,kBAAmB,WAAA,CACpB,CAAA,CACF,EAeD,OAbc,IAAII,EAAY,CAC5B,OAAAH,EACA,WAAY,CACV,MAAOH,EACP,KAAM,SAAA,EAER,QAAS,GACT,MAAO,IAAIO,EAAM,CACf,KAAM,IAAIC,EAAK,CAAE,MAAO,GAAGP,EAAO,KAAK,KAAM,EAC7C,OAAQ,IAAIQ,EAAO,CAAE,MAAOR,EAAO,MAAO,MAAO,CAAA,CAAG,CAAA,CACrD,CAAA,CACF,CAGH"}